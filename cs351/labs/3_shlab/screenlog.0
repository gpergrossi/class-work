[?25l[30;76H69,12[16;12H[34h[?25h[?25l[30;77H8[15;12H[34h[?25h[?25l[30;77H7[14;12H[34h[?25h[?25l[30;77H6[13;12H[34h[?25h[?25l[30;77H5,3 [12;3H[34h[?25h[?25l[30;77H4,12[11;12H[34h[?25h[?25l[30;77H3[10;12H[34h[?25h[?25l[30;77H2[9;12H[34h[?25h[?25l[30;77H1,2 [8;2H[34h[?25h[?25l[30;77H0,0-1[7;1H[34h[?25h[?25l[1;30H[46m{[6;1H}[0m[30;76H59,1  [6;1H[34h[?25h[?25l[1;30H{[6;1H}[30;77H8,11[5;11H[34h[?25h[?25l[30;77H7,12[4;12H[34h[?25h[?25l[30;77H6[3;12H[34h[?25h[?25l[30;77H5[2;12H[34h[?25h[?25l[30;77H4[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H353,3[9C62%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    to the foreground job.  [0m[30;75H[K[30;75H352,12[8C62%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    user types ctrl-c at the keyboard.  Catch it and send it along[0m[30;75H[K[30;75H351,12[8C62%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigint_handler - The kernel sends a SIGINT to the shell whenever the[0m[30;75H[K[30;75H350,12[8C61%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H349,3[9C61%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H348,0-1[7C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H347,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H346,11[8C61%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H345,5[9C60%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H344,0-1[7C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H343,9[9C60%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[30;75H[K[30;75H342,12[8C60%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Else, unknown[0m[30;75H[K[30;75H341,12[8C60%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H340,12[8C60%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H339,12[8C59%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case process reporting continuation[0m[30;75H[K[30;75H338,12[8C59%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFCONTINUED(status)) {[30;75H[K[30;75H337,12[8C59%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H336,0-1[7C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H335,12[8C59%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H job->jid, job->pid, WSTOPSIG(status));[30;75H[K[30;75H334,12[8C59%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H333,12[8C58%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H332,8[9C58%[1;8H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case stopped by signal[0m[30;75H[K[30;75H331,12[8C58%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[30;75H[K[30;75H330,12[8C58%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H329,0-1[7C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H328,12[8C57%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H job->jid, job->pid, WTERMSIG(status));[30;75H[K[30;75H327,12[8C57%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) teminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H326,12[8C57%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H325,8[9C57%[1;8H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case terminated to signal[0m[30;75H[K[30;75H324,12[8C57%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFSIGNALED(status)) {[30;75H[K[30;75H323,12[8C57%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H322,0-1[7C56%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H321,12[8C56%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H }[30;75H[K[30;75H320,12[8C56%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[36m//    WEXITSTATUS(status));[0m[30;75H[K[30;75H319,12[8C56%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[36m//printf("Process exited normally with return value of %d\n", [0m[30;75H[K[30;75H318,12[8C56%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H }  [1m[33melse[0m {[30;75H[K[30;75H317,12[8C56%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H316,12[8C55%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H parseline(job->cmdline, argv);[30;75H[K[30;75H315,12[8C55%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H314,12[8C55%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[30;75H[K[30;75H313,12[8C55%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H312,8[9C55%[1;8H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H311,12[8C54%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m [46m([0mWIFEXITED(status)[46m)[0m {[30;75H[K[30;75H310,12[8C54%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[2;12H([17C)[30;75H[K[30;75H309,0-1[7C54%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H308,12[8C54%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Get pointer to job struct[0m[30;75H[K[30;75H307,12[8C54%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m ([46m([0mpid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)[46m)[0m > [1m[35m0[0m) {[30;75H[K[30;75H306,12[8C54%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[2;12H([60C)[30;75H[K[30;75H305,0-1[7C53%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H304,12[8C53%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m status;[30;75H[K[30;75H303,12[8C53%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[30;75H[K[30;75H302,12[8C53%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {[30;75H[K[30;75H301,12[8C53%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H300,3[9C53%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     currently running children to terminate.  [0m[30;75H[K[30;75H299,12[8C52%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     available zombie children, but doesn't wait for any other[0m[30;75H[K[30;75H298,12[8C52%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     received a SIGSTOP or SIGTSTP signal. The handler reaps all[0m[30;75H[K[30;75H297,12[8C52%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     a child job terminates (becomes a zombie), or stops because it[0m[30;75H[K[30;75H296,12[8C52%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever[0m[30;75H[K[30;75H295,12[8C52%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H294,3[9C51%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H293,0-1[7C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *****************/[0m[30;75H[K[30;75H292,12[8C51%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Signal handlers[0m[30;75H[K[30;75H291,12[8C51%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*****************[0m[30;75H[K[30;75H290,12[8C51%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H289,0-1[7C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H288,1[9C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H287,11[8C50%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H286,5[9C50%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;75H[K[30;75H285,12[8C50%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H284,12[8C50%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H283,12[8C50%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m waitfg[46m([0mpid_t pid[46m)[0m {[30;75H[K[30;75H282,12[8C49%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[2;12H([9C)[30;75H[K[30;75H281,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H280,12[8C49%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H279,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H278,0-1[7C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H277,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H276,11[8C48%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H275,12[8C48%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H274,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * do_bgfg - Execute the builtin bg and fg commands[0m[30;75H[K[30;75H273,12[8C48%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H272,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H271,0-1[7C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H270,1[9C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m[30;75H[K[30;75H269,12[8C47%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H }[30;75H[K[30;75H268,3[9C47%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H267,12[8C47%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H266,12[8C46%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H265,12[8C46%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg[46m([0margv[46m)[0m;[30;75H[K[30;75H264,12[8C46%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) {[2;12H(argv)[30;75H[K[30;75H263,12[8C46%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H262,12[8C46%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg[46m([0margv[46m)[0m;[30;75H[K[30;75H261,12[8C46%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) {[2;12H(argv)[30;75H[K[30;75H260,12[8C45%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H259,12[8C45%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H listjobs(jobs);[30;75H[K[30;75H258,12[8C45%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H257,12[8C45%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H exit([1m[35m0[0m);[30;75H[K[30;75H256,12[8C45%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"quit"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H255,12[8C45%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[30;75H[K[30;75H254,12[8C44%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H253,3[9C44%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H252,12[8C44%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H251,12[8C44%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H250,3[9C44%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H249,0-1[7C43%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H248,1[9C43%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m bg;[30;75H[K[30;75H247,12[8C43%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H246,5[9C43%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H argv[--argc] = [1m[35mNULL[0m;[30;75H[K[30;75H245,9-12      43%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) {[30;75H[K[30;75H244,12[8C43%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* should the job run in the background? */[0m[30;75H[K[30;75H243,12[8C42%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H242,0-1[7C42%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H241,9-12      42%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (argc == [1m[35m0[0m)  [1m[36m/* ignore blank line */[0m[30;75H[K[30;75H240,12[8C42%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H239,4[9C42%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H argv[argc] = [1m[35mNULL[0m;[30;75H[K[30;75H238,12[8C42%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H237,5[9C41%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H236,6-9[7C41%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H235,9-12      41%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H234,9-12      41%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H233,9-12      41%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H buf++;[30;75H[K[30;75H232,9-12      40%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m [46m([0m*buf == [1m[31m'\''[0m[46m)[0m {[30;75H[K[30;75H231,12[8C40%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[2;12H([12C)[30;75H[K[30;75H230,5[9C40%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H buf++;[30;75H[K[30;75H229,12[8C40%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[30;75H[K[30;75H228,9-12      40%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H227,9-12      40%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H *delim = [1m[31m'\0'[0m;[30;75H[K[30;75H226,9-12      39%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H argv[argc++] = buf;[30;75H[K[30;75H225,9-12      39%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (delim) {[30;75H[K[30;75H224,12[8C39%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H223,0-1[7C39%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H222,5[9C39%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H221,9-12      39%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33melse[0m [46m{[3;5H}[0m[30;75H[K[30;75H220,10[8C38%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[2;10H{[4;5H}[30;75H[K[30;75H219,5[9C38%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H218,9-12      38%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf++;[30;75H[K[30;75H217,7-10      38%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H216,12[8C38%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H argc = [1m[35m0[0m;[30;75H[K[30;75H215,12[8C37%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Build the argv list */[0m[30;75H[K[30;75H214,12[8C37%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H213,0-1[7C37%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf++;[30;75H[K[30;75H212,7-10      37%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore leading spaces */[0m[30;75H[K[30;75H211,12[8C37%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf[strlen(buf)-[1m[35m1[0m] = [1m[35m' '[0m;  [1m[36m/* replace trailing '\n' with space */[0m[30;75H[K[30;75H210,12[8C37%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H strcpy(buf, cmdline);[30;75H[K[30;75H209,12[8C36%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H208,0-1[7C36%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m bg;[20C [1m[36m/* background job? */[0m[30;75H[K[30;75H207,12[8C36%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m argc;[18C [1m[36m/* number of args */[0m[30;75H[K[30;75H206,12[8C36%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *delim;[15C [1m[36m/* points to first space delimiter */[0m[30;75H[K[30;75H205,12[8C36%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *buf = array;[9C [1m[36m/* ptr that traverses command line */[0m[30;75H[K[30;75H204,12[8C35%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstatic[0m [1m[32mchar[0m array[MAXLINE]; [1m[36m/* holds local copy of command line */[0m[30;75H[K[30;75H203,12[8C35%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv) {[30;75H[K[30;75H202,12[8C35%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H201,3[9C35%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * the user has requested a FG job.  [0m[30;75H[K[30;75H200,12[8C35%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * argument.  Return true if the user has requested a BG job, false if[0m[30;75H[K[30;75H199,12[8C35%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Characters enclosed in single quotes are treated as a single[0m[30;75H[K[30;75H198,12[8C34%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * [0m[30;75H[K[30;75H197,3[9C34%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * parseline - Parse the command line and build the argv array.[0m[30;75H[K[30;75H196,12[8C34%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H195,3[9C34%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H194,0-1[7C34%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H193,1[9C34%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H192,11[8C33%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H191,5[9C33%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H waitfg(pid);[30;75H[K[30;75H190,12[8C33%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H } [1m[33melse[0m [46m{[3;5H}[0m[30;75H[K[30;75H189,12[8C33%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[2;12H{[4;5H}[30;75H[K[30;75H188,12[8C33%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H187,12[8C32%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Print background job info[0m[30;75H[K[30;75H186,12[8C32%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m(bg) [46m{[5;5H}[0m[30;75H[K[30;75H185,12[8C32%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H addjob(jobs, pid, bg ? BG : FG, cmdline);[2;12H{[6;5H}[30;75H[K[30;75H184,12[8C32%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Shell waits or prints background job info[0m[30;75H[K[30;75H183,12[8C32%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H182,0-1[7C32%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H181,5[9C31%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H exit(NOTFOUND); [1m[36m// Do not return[0m[30;75H[K[30;75H180,12[8C31%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H execvp(argv[[1m[35m0[0m], argv);[30;75H[K[30;75H179,12[8C31%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid == [1m[35m0[0m) {[30;75H[K[30;75H178,12[8C31%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid = fork();[30;75H[K[30;75H177,12[8C31%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Fork and Exec in child process[0m[30;75H[K[30;75H176,12[8C31%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H175,0-1[7C30%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (builtin_cmd(argv)) [1m[33mreturn[0m;[30;75H[K[30;75H174,12[8C30%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check for built in command[0m[30;75H[K[30;75H173,12[8C30%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H172,4[9C30%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H171,12[8C30%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m bg = parseline(cmdline, argv);[30;75H[K[30;75H170,12[8C29%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H169,12[8C29%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[30;75H[K[30;75H168,12[8C29%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {[30;75H[K[30;75H167,12[8C29%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m*/[0m[30;75H[K[30;75H166,2[9C29%[1;2H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * when we type ctrl-c (ctrl-z) at the keyboard.  [0m[30;75H[K[30;75H165,12[8C29%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * background children don't receive SIGINT (SIGTSTP) from the kernel[0m[30;75H[K[30;75H164,12[8C28%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * each child process must have a unique process group ID so that our[0m[30;75H[K[30;75H163,12[8C28%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * the foreground, wait for it to terminate and then return.  Note:[0m[30;75H[K[30;75H162,12[8C28%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * run the job in the context of the child. If the job is running in[0m[30;75H[K[30;75H161,12[8C28%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * then execute it immediately. Otherwise, fork a child process and[0m[30;75H[K[30;75H160,12[8C28%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * If the user has requested a built-in command (quit, jobs, bg or fg)[0m[30;75H[K[30;75H159,12[8C28%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * [0m[30;75H[K[30;75H158,3[9C27%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * eval - Evaluate the command line that the user has just typed in[0m[30;75H[K[30;75H157,12[8C27%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H156,3[9C27%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H155,2[9C27%[1;2H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H154,1[9C27%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H exit([1m[35m0[0m); [1m[36m/* control never reaches here */[0m[30;75H[K[30;75H153,12[8C26%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H152,0-1[7C26%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H151,6[9C26%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H150,9-12      26%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H149,9-12      26%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H eval(cmdline);[30;75H[K[30;75H148,9-12      26%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[36m/* Evaluate the command line */[0m[30;75H[K[30;75H147,9-12      25%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H146,0-1[7C25%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H }[30;75H[K[30;75H145,4-7[7C25%[1;7H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H exit([1m[35m0[0m);[30;75H[K[30;75H144,9-12      25%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H143,9-12      25%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[33mif[0m (feof([1m[35mstdin[0m)) { [1m[36m/* End of file (ctrl-d) */[0m[30;75H[K[30;75H142,9-12      25%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H app_error([1m[35m"fgets error"[0m);[30;75H[K[30;75H141,9-12      24%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[33mif[0m ((fgets(cmdline, MAXLINE, [1m[35mstdin[0m) == [1m[35mNULL[0m) && ferror([1m[35mstdin[0m))[30;75H[K[30;75H140,9-12      24%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H }[30;75H[K[30;75H139,4-7[7C24%[1;7H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H138,9-12      24%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m"[0m, prompt);[30;75H[K[30;75H137,9-12      24%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[33mif[0m (emit_prompt) {[30;75H[K[30;75H136,9-12      23%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[36m/* Read command line */[0m[30;75H[K[30;75H135,9-12      23%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H134,0-1[7C23%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m ([1m[35m1[0m) {[30;75H[K[30;75H133,12[8C23%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Execute the shell's read/eval loop */[0m[30;75H[K[30;75H132,12[8C23%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H131,0-1[7C23%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H initjobs(jobs);[30;75H[K[30;75H130,12[8C22%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Initialize the job list */[0m[30;75H[K[30;75H129,12[8C22%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H128,0-1[7C22%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H Signal([1m[35mSIGQUIT[0m, sigquit_handler);[30;75H[K[30;75H127,12[8C22%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* This one provides a clean way to kill the shell */[0m[30;75H[K[30;75H126,12[8C22%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H125,0-1[7C21%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H Signal([1m[35mSIGCHLD[0m, sigchld_handler);  [1m[36m/* Terminated or stopped child */[0m[30;75H[K[30;75H124,12[8C21%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H Signal([1m[35mSIGTSTP[0m, sigtstp_handler);  [1m[36m/* ctrl-z */[0m[30;75H[K[30;75H123,12[8C21%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H Signal([1m[35mSIGINT[0m,  sigint_handler);   [1m[36m/* ctrl-c */[0m[30;75H[K[30;75H122,12[8C21%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* These are the ones you will need to implement */[0m[30;75H[K[30;75H121,12[8C21%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H120,0-1[7C21%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Install the signal handlers */[0m[30;75H[K[30;75H119,12[8C20%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H118,0-1[7C20%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H117,5[9C20%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H116,2-5[7C20%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H usage();[30;75H[K[30;75H115,12[8C20%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mdefault[0m:[30;75H[K[30;75H114,9-12      20%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mbreak[0m;[30;75H[K[30;75H113,9-12      19%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H emit_prompt = [1m[35m0[0m;  [1m[36m/* handy for automatic testing */[0m[30;75H[K[30;75H112,12[8C19%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mcase[0m [1m[35m'p'[0m:[12C [1m[36m/* don't print a prompt */[0m[30;75H[K[30;75H111,12[8C19%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mbreak[0m;[30;75H[K[30;75H110,9-12      19%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H verbose = [1m[35m1[0m;[30;75H[K[30;75H109,12[8C19%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mcase[0m [1m[35m'v'[0m:[12C [1m[36m/* emit additional diagnostic info */[0m[30;75H[K[30;75H108,12[8C18%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mbreak[0m;[30;75H[K[30;75H107,9-12      18%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H usage();[30;75H[K[30;75H106,12[8C18%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mcase[0m [1m[35m'h'[0m:[12C [1m[36m/* print help message */[0m[30;75H[K[30;75H105,12[8C18%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mswitch[0m (c) {[30;75H[K[30;75H104,12[8C18%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m ([46m([0mc = getopt(argc, argv, [1m[35m"hvp"[0m)[46m)[0m != [1m[35mEOF[0m) {[30;75H[K[30;75H103,12[8C18%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Parse the command line */[0m[2;12H([29C)[30;75H[K[30;75H102,12[8C17%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H101,0-1[7C17%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H dup2([1m[35m1[0m, [1m[35m2[0m);[30;75H[K[30;75H100,12[8C17%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m     * on the pipe connected to stdout) */[0m[30;75H[K[30;75H99,12[9C17%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Redirect stderr to stdout (so that driver will get all output[0m[30;75H[K[30;75H98,12[9C17%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H97,0-1[8C17%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m emit_prompt = [1m[35m1[0m; [1m[36m/* emit prompt (default) */[0m[30;75H[K[30;75H96,12[9C16%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m cmdline[MAXLINE];[30;75H[K[30;75H95,12[9C16%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m c;[30;75H[K[30;75H94,11[9C16%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H{[30;75H[K[30;75H93,1[10C16%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m main([1m[32mint[0m argc, [1m[32mchar[0m **argv)[30;75H[K[30;75H92,12[9C16%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H91,3[10C15%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * main - The shell's main routine [0m[30;75H[K[30;75H90,12[9C15%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*[0m[30;75H[K[30;75H89,2[10C15%[1;2H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H88,0-1[8C15%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1Hhandler_t *Signal([1m[32mint[0m signum, handler_t *handler);[30;75H[K[30;75H87,12[9C15%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mtypedef[0m [1m[32mvoid[0m handler_t([1m[32mint[0m);[30;75H[K[30;75H86,12[9C15%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m app_error([1m[32mchar[0m *msg);[30;75H[K[30;75H85,12[9C14%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m unix_error([1m[32mchar[0m *msg);[30;75H[K[30;75H84,12[9C14%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m usage([1m[32mvoid[0m);[30;75H[K[30;75H83,12[9C14%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H82,0-1[8C14%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H81,12[9C14%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m pid2jid[46m([0mpid_t pid[46m)[0m;[30;75H[K[30;75H80,12[9C14%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);[2;12H([9C)[30;75H[K[30;75H79,12[9C13%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);[30;75H[K[30;75H78,12[9C13%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1Hpid_t fgpid[46m([0m[1m[32mstruct[0m job_t *jobs[46m)[0m;[30;75H[K[30;75H77,12[9C13%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid);[2;12H([18C)[30;75H[K[30;75H76,12[9C13%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline);[30;75H[K[30;75H75,12[9C13%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H74,12[9C12%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H73,12[9C12%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job);[30;75H[K[30;75H72,12[9C12%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H71,0-1[8C12%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigquit_handler([1m[32mint[0m sig);[30;75H[K[30;75H70,12[9C12%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv);[30;75H[K[30;75H69,12[9C12%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* Here are helper routines that we've provided for you */[0m[30;75H[K[30;75H68,12[9C11%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H67,0-1[8C11%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig);[30;75H[K[30;75H66,12[9C11%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig);[30;75H[K[30;75H65,12[9C11%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig);[30;75H[K[30;75H64,12[9C11%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H63,0-1[8C10%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m waitfg[46m([0mpid_t pid[46m)[0m;[30;75H[K[30;75H62,12[9C10%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);[2;12H([9C)[30;75H[K[30;75H61,12[9C10%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv);[30;75H[K[30;75H60,12[9C10%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline);[30;75H[K[30;75H59,12[9C10%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* Here are the functions that you will implement */[0m[30;75H[K[30;75H58,12[9C10%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H57,0-1[9C9%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* Function prototypes */[0m[30;75H[K[30;75H56,12[10C9%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H55,0-1[9C9%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H54,0-1[9C9%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* End global variables */[0m[30;75H[K[30;75H53,12[10C9%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mstruct[0m job_t jobs[MAXJOBS]; [1m[36m/* The job list */[0m[30;75H[K[30;75H52,12[10C9%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H};[30;75H[K[30;75H51,2[11C8%[1;2H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m cmdline[MAXLINE];  [1m[36m/* command line */[0m[30;75H[K[30;75H50,12[10C8%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m state;[13C [1m[36m/* UNDEF, BG, FG, or ST */[0m[30;75H[K[30;75H49,12[10C8%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m jid;[15C [1m[36m/* job ID [1, 2, ...] */[0m[30;75H[K[30;75H48,12[10C8%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[13C [1m[36m/* job PID */[0m[30;75H[K[30;75H47,12[10C8%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mstruct[0m job_t {[13C [1m[36m/* The job struct */[0m[30;75H[K[30;75H46,12[10C7%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H45,0-1[9C7%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mchar[0m sbuf[MAXLINE];[8C [1m[36m/* for composing sprintf messages */[0m[30;75H[K[30;75H44,12[10C7%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m nextjid = [1m[35m1[0m;[11C [1m[36m/* next job ID to allocate */[0m[30;75H[K[30;75H43,12[10C7%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m verbose = [1m[35m0[0m;[11C [1m[36m/* if true, print additional output */[0m[30;75H[K[30;75H42,12[10C7%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mchar[0m prompt[46m[][0m = [1m[35m"tsh> "[0m;    [1m[36m/* command line prompt (DO NOT CHANGE) */[0m[30;75H[K[30;75H41,12[10C7%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mextern[0m [1m[32mchar[0m **environ;      [1m[36m/* defined in libc */[0m[2;12H[][30;75H[K[30;75H40,12[10C6%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* Global variables */[0m[30;75H[K[30;75H39,12[10C6%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H38,0-1[9C6%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H37,3[11C6%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * At most 1 job can be in the FG state.[0m[30;75H[K[30;75H36,12[10C6%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     BG -> FG  : fg command[0m[30;75H[K[30;75H35,12[10C6%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     ST -> BG  : bg command[0m[30;75H[K[30;75H34,12[10C5%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     ST -> FG  : fg command[0m[30;75H[K[30;75H33,12[10C5%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     FG -> ST  : ctrl-z[0m[30;75H[K[30;75H32,12[10C5%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Job state transitions and enabling actions:[0m[30;75H[K[30;75H31,12[10C5%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Jobs states: FG (foreground), BG (background), ST (stopped)[0m[30;75H[K[30;75H30,12[10C5%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H29,3[11C4%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H28,0-1[9C4%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#define ST [0m[1m[35m3[0m[1m[34m    [0m[1m[36m/* stopped */[0m[30;75H[K[30;75H27,12[10C4%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#define BG [0m[1m[35m2[0m[1m[34m    [0m[1m[36m/* running in background */[0m[30;75H[K[30;75H26,12[10C4%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#define FG [0m[1m[35m1[0m[1m[34m    [0m[1m[36m/* running in foreground */[0m[30;75H[K[30;75H25,12[10C4%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#define UNDEF [0m[1m[35m0[0m[1m[34m [0m[1m[36m/* undefined */[0m[30;75H[K[30;75H24,12[10C4%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* Job states */[0m[30;75H[K[30;75H23,12[10C3%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H22,0-1[9C3%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#define NOTFOUND [0m[1m[35m127[0m[30;75H[K[30;75H21,12[10C3%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* Magic Numbers */[0m[30;75H[K[30;75H20,12[10C3%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H19,0-1[9C3%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#define MAXJID    [0m[1m[35m1[0m[1m[34m<<[0m[1m[35m16[0m[1m[34m   [0m[1m[36m/* max job ID */[0m[30;75H[K[30;75H18,12[10C3%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#define MAXJOBS      [0m[1m[35m16[0m[1m[34m   [0m[1m[36m/* max jobs at any point in time */[0m[30;75H[K[30;75H17,12[10C2%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#define MAXARGS     [0m[1m[35m128[0m[1m[34m   [0m[1m[36m/* max args on a command line */[0m[30;75H[K[30;75H16,12[10C2%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#define MAXLINE    [0m[1m[35m1024[0m[1m[34m   [0m[1m[36m/* max line size */[0m[30;75H[K[30;75H15,12[10C2%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* Misc manifest constants */[0m[30;75H[K[30;75H14,12[10C2%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H13,0-1[9C2%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#include [0m[1m[35m<errno.h>[0m[30;75H[K[30;75H12,12[10C1%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#include [0m[1m[35m<sys/wait.h>[0m[30;75H[K[30;75H11,12[10C1%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#include [0m[1m[35m<sys/types.h>[0m[30;75H[K[30;75H10,12[10C1%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#include [0m[1m[35m<signal.h>[0m[30;75H[K[30;75H9,12[11C1%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#include [0m[1m[35m<ctype.h>[0m[30;75H[K[30;75H8,12[11C1%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#include [0m[1m[35m<string.h>[0m[30;75H[K[30;75H7,12[11C1%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#include [0m[1m[35m<unistd.h>[0m[30;75H[K[30;75H6,12[11C0%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#include [0m[1m[35m<stdlib.h>[0m[30;75H[K[30;75H5,12[11C0%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[34m#include [0m[1m[35m<stdio.h>[0m[30;75H[K[30;75H4,12[11C0%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H3,3[12C0%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * tsh - A tiny shell program with job control[0m[30;75H[K[30;75H2,12[11C0%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H1,3[11CTop[1;3H[34h[?25h[?25l[30;75H2,12[2;12H[34h[?25h[?25l[30;75H3,3 [3;3H[34h[?25h[?25l[30;75H4,12[4;12H[34h[?25h[?25l[30;75H5[5;12H[34h[?25h[?25l[30;75H6[6;12H[34h[?25h[?25l[30;75H7[7;12H[34h[?25h[?25l[30;75H8[8;12H[34h[?25h[?25l[30;75H9[9;12H[34h[?25h[?25l[30;75H10,12[10;12H[34h[?25h[?25l[30;76H1[11;12H[34h[?25h[?25l[30;76H2[12;12H[34h[?25h[?25l[30;76H3,0-1[13;1H[34h[?25h[?25l[30;76H4,12 [14;12H[34h[?25h[?25l[30;76H5[15;12H[34h[?25h[?25l[30;76H6[16;12H[34h[?25h[?25l[30;76H7[17;12H[34h[?25h[?25l[30;76H8[18;12H[34h[?25h[?25l[30;76H9,0-1[19;1H[34h[?25h[?25l[30;75H20,12 [20;12H[34h[?25h[?25l[30;76H1[21;12H[34h[?25h[?25l[30;76H2,0-1[22;1H[34h[?25h[?25l[30;76H3,12 [23;12H[34h[?25h[?25l[30;76H4[24;12H[34h[?25h[?25l[30;76H5[25;12H[34h[?25h[?25l[30;76H6[26;12H[34h[?25h[?25l[30;76H7[27;12H[34h[?25h[?25l[30;76H8,0-1[28;1H[34h[?25h[?25l[30;76H9,3  [29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Jobs states: FG (foreground), BG (background), ST (stopped)[0m[30;75H[K[30;75H30,12[10C0%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Job state transitions and enabling actions:[0m[30;75H[K[30;75H31,12[10C0%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     FG -> ST  : ctrl-z[0m[30;75H[K[30;75H32,12[10C0%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     ST -> FG  : fg command[0m[30;75H[K[30;75H33,12[10C0%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     ST -> BG  : bg command[0m[30;75H[K[30;75H34,12[10C0%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     BG -> FG  : fg command[0m[30;75H[K[30;75H35,12[10C1%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * At most 1 job can be in the FG state.[0m[30;75H[K[30;75H36,12[10C1%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H37,3[11C1%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H38,0-1[9C1%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Global variables */[0m[30;75H[K[30;75H39,12[10C1%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mextern[0m [1m[32mchar[0m **environ;      [1m[36m/* defined in libc */[0m[30;75H[K[30;75H40,12[10C1%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mchar[0m prompt[46m[][0m = [1m[35m"tsh> "[0m;    [1m[36m/* command line prompt (DO NOT CHANGE) */[0m[30;75H[K[30;75H41,12[10C2%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H[]
[1m[32mint[0m verbose = [1m[35m0[0m;[11C [1m[36m/* if true, print additional output */[0m[30;75H[K[30;75H42,12[10C2%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m nextjid = [1m[35m1[0m;[11C [1m[36m/* next job ID to allocate */[0m[30;75H[K[30;75H43,12[10C2%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mchar[0m sbuf[MAXLINE];[8C [1m[36m/* for composing sprintf messages */[0m[30;75H[K[30;75H44,12[10C2%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H45,0-1[9C2%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t {[13C [1m[36m/* The job struct */[0m[30;75H[K[30;75H46,12[10C3%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid;[13C [1m[36m/* job PID */[0m[30;75H[K[30;75H47,12[10C3%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m jid;[15C [1m[36m/* job ID [1, 2, ...] */[0m[30;75H[K[30;75H48,12[10C3%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m state;[13C [1m[36m/* UNDEF, BG, FG, or ST */[0m[30;75H[K[30;75H49,12[10C3%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m cmdline[MAXLINE];  [1m[36m/* command line */[0m[30;75H[K[30;75H50,12[10C3%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H};[30;75H[K[30;75H51,2[11C3%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t jobs[MAXJOBS]; [1m[36m/* The job list */[0m[30;75H[K[30;75H52,12[10C4%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* End global variables */[0m[30;75H[K[30;75H53,12[10C4%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H54,0-1[9C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H55,0-1[9C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Function prototypes */[0m[30;75H[K[30;75H56,12[10C4%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H57,0-1[9C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Here are the functions that you will implement */[0m[30;75H[K[30;75H58,12[10C5%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline);[30;75H[K[30;75H59,12[10C5%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv);[30;75H[K[30;75H60,12[10C5%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);[30;75H[K[30;75H61,12[10C5%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m waitfg[46m([0mpid_t pid[46m)[0m;[30;75H[K[30;75H62,12[10C5%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H([9C)[30;75H[K[30;75H63,0-1[9C6%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig);[30;75H[K[30;75H64,12[10C6%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig);[30;75H[K[30;75H65,12[10C6%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig);[30;75H[K[30;75H66,12[10C6%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H67,0-1[9C6%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Here are helper routines that we've provided for you */[0m[30;75H[K[30;75H68,12[10C6%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv);[30;75H[K[30;75H69,12[10C7%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigquit_handler([1m[32mint[0m sig);[30;75H[K[30;75H70,12[10C7%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H71,0-1[9C7%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job);[30;75H[K[30;75H72,12[10C7%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H73,12[10C7%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H74,12[10C7%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline);[30;75H[K[30;75H75,12[10C8%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid);[30;75H[K[30;75H76,12[10C8%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1Hpid_t fgpid[46m([0m[1m[32mstruct[0m job_t *jobs[46m)[0m;[30;75H[K[30;75H77,12[10C8%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H([18C)
[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);[30;75H[K[30;75H78,12[10C8%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);[30;75H[K[30;75H79,12[10C8%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m pid2jid[46m([0mpid_t pid[46m)[0m;[30;75H[K[30;75H80,12[10C9%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H([9C)
[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H81,12[10C9%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H82,0-1[9C9%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m usage([1m[32mvoid[0m);[30;75H[K[30;75H83,12[10C9%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m unix_error([1m[32mchar[0m *msg);[30;75H[K[30;75H84,12[10C9%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m app_error([1m[32mchar[0m *msg);[30;75H[K[30;75H85,12[10C9%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mtypedef[0m [1m[32mvoid[0m handler_t([1m[32mint[0m);[30;75H[K[30;75H86,12[9C10%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1Hhandler_t *Signal([1m[32mint[0m signum, handler_t *handler);[30;75H[K[30;75H87,12[9C10%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H88,0-1[8C10%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/*[0m[30;75H[K[30;75H89,2[10C10%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * main - The shell's main routine [0m[30;75H[K[30;75H90,12[9C10%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H91,3[10C10%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m main([1m[32mint[0m argc, [1m[32mchar[0m **argv)[30;75H[K[30;75H92,12[9C11%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H{[30;75H[K[30;75H93,1[10C11%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m c;[30;75H[K[30;75H94,11[9C11%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m cmdline[MAXLINE];[30;75H[K[30;75H95,12[9C11%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m emit_prompt = [1m[35m1[0m; [1m[36m/* emit prompt (default) */[0m[30;75H[K[30;75H96,12[9C11%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H97,0-1[8C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Redirect stderr to stdout (so that driver will get all output[0m[30;75H[K[30;75H98,12[9C12%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m     * on the pipe connected to stdout) */[0m[30;75H[K[30;75H99,12[9C12%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H dup2([1m[35m1[0m, [1m[35m2[0m);[30;75H[K[30;75H100,12[8C12%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H101,0-1[7C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Parse the command line */[0m[30;75H[K[30;75H102,12[8C12%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m ([46m([0mc = getopt(argc, argv, [1m[35m"hvp"[0m)[46m)[0m != [1m[35mEOF[0m) {[30;75H[K[30;75H103,12[8C13%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H([29C)[29;8H [1m[33mswitch[0m (c) {[30;75H[K[30;75H104,12[8C13%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'h'[0m:[12C [1m[36m/* print help message */[0m[30;75H[K[30;75H105,12[8C13%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H usage();[30;75H[K[30;75H106,12[8C13%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H107,9-12      13%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'v'[0m:[12C [1m[36m/* emit additional diagnostic info */[0m[30;75H[K[30;75H108,12[8C14%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H verbose = [1m[35m1[0m;[30;75H[K[30;75H109,12[8C14%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H110,9-12      14%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'p'[0m:[12C [1m[36m/* don't print a prompt */[0m[30;75H[K[30;75H111,12[8C14%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H emit_prompt = [1m[35m0[0m;  [1m[36m/* handy for automatic testing */[0m[30;75H[K[30;75H112,12[8C14%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H113,9-12      14%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mdefault[0m:[30;75H[K[30;75H114,9-12      15%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H usage();[30;75H[K[30;75H115,12[8C15%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[17;20H[46m{[0m[29;4H [46m}[0m[30;75H[K[30;75H116,2-5[7C15%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[15;52H[46m{[0m[16;20H{[28;5H}
    [46m}[0m[30;75H[K[30;75H117,5[9C15%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[14;52H{[28;5H}[30;75H[K[30;75H118,0-1[7C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Install the signal handlers */[0m[30;75H[K[30;75H119,12[8C15%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H120,0-1[7C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* These are the ones you will need to implement */[0m[30;75H[K[30;75H121,12[8C16%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGINT[0m,  sigint_handler);   [1m[36m/* ctrl-c */[0m[30;75H[K[30;75H122,12[8C16%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGTSTP[0m, sigtstp_handler);  [1m[36m/* ctrl-z */[0m[30;75H[K[30;75H123,12[8C16%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGCHLD[0m, sigchld_handler);  [1m[36m/* Terminated or stopped child */[0m[30;75H[K[30;75H124,12[8C16%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H125,0-1[7C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* This one provides a clean way to kill the shell */[0m[30;75H[K[30;75H126,12[8C17%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGQUIT[0m, sigquit_handler);[30;75H[K[30;75H127,12[8C17%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H128,0-1[7C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Initialize the job list */[0m[30;75H[K[30;75H129,12[8C17%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H initjobs(jobs);[30;75H[K[30;75H130,12[8C17%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H131,0-1[7C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Execute the shell's read/eval loop */[0m[30;75H[K[30;75H132,12[8C18%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m ([1m[35m1[0m) {[30;75H[K[30;75H133,12[8C18%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H134,0-1[7C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[36m/* Read command line */[0m[30;75H[K[30;75H135,9-12      18%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[33mif[0m (emit_prompt) {[30;75H[K[30;75H136,9-12      18%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m"[0m, prompt);[30;75H[K[30;75H137,9-12      19%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H138,9-12      19%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;24H[46m{[0m[29;6H [46m}[0m[30;75H[K[30;75H139,4-7[7C19%[29;7H[34h[?25h[?25l[1;29r[29;1H
[1;30r[25;24H{[28;7H}[29;6H [1m[33mif[0m ((fgets(cmdline, MAXLINE, [1m[35mstdin[0m) == [1m[35mNULL[0m) && ferror([1m[35mstdin[0m))[30;75H[K[30;75H140,9-12      19%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H app_error([1m[35m"fgets error"[0m);[30;75H[K[30;75H141,9-12      19%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[33mif[0m (feof([1m[35mstdin[0m)) { [1m[36m/* End of file (ctrl-d) */[0m[30;75H[K[30;75H142,9-12      20%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H143,9-12      20%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H exit([1m[35m0[0m);[30;75H[K[30;75H144,9-12      20%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;24H[46m{[0m[29;6H [46m}[0m[30;75H[K[30;75H145,4-7[7C20%[29;7H[34h[?25h[?25l[1;29r[29;1H
[1;30r[25;24H{[28;7H}[30;75H[K[30;75H146,0-1[7C20%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[36m/* Evaluate the command line */[0m[30;75H[K[30;75H147,9-12      20%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H eval(cmdline);[30;75H[K[30;75H148,9-12      21%[29;12H[34h[?25h[?25l
[1m-- INSERT --[0m[30;75H[K[30;75H148,9-12      21%[30;1H[K[29;11H([1m[36m//cmdline);[0m[30;75H148,10-13     21%[29;13H[34h[?25h[?25l[30;75H[K[30;1H/[34h[?25ht[?25l[34h[?25ha[?25ls[34h[?25hh[?25l[34h[?25h[?25l[30;5H[K[30;5H[34h[?25h[?25l[30;4H[K[30;4H[34h[?25h[?25l[30;3H[K[30;3H[34h[?25h[?25l[30;2H[K[30;2H[34h[?25h [?25l[73C148,10-13     21%[29;13H[34h[?25h[?25l
[1m-- INSERT --[0m[30;75H[K[30;75H148,10-13     21%[29;13H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H149,10-13     21%[29;13H[46m([6C)[29;13H[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H150,10-13     21%[28;13H([6C)[29;13H[46m([6C)[29;13H[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H [1m[37m[41m}[0m[30;75H[K[30;75H151,7[9C21%[28;13H([6C)[29;7H[34h[?25h[?25l[28;13H[46m([6C)[0m[30;77H0,10-13[28;13H[34h[?25h[?25l[27;13H[46m([6C)[0m[28;13H([6C)[30;76H49[27;13H[34h[?25h[?25l([6C)[30;77H8[26;13H[34h[?25h[?25l[30;79H9-12 [26;12H[34h[?25h[?25l[30;79H10-13[26;13H[34h[?25h[?25l[30;80H1-14[26;14H[34h[?25h[?25l/cmdline);[26;22H[K[29;5H}[30;80H0-13[26;13H[34h[?25h[?25l(cmdline);[26;21H[K[26;11H[46m([7C)[0m[30;79H9-12 [26;12H[34h[?25h[?25l([7C)[30;77H9[27;12H[34h[?25h[?25l[30;76H50[28;12H[34h[?25h[30;1H[K[28;11H[?25l[30;75H150,8-11      21%[28;11H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hu[?25l[34h[?25h[?25l1 change; before #162  3 seconds ago[26;11H([1m[36m//cmdline);[0m[29;5H[1m[37m[41m}[0m[30;75H148,11-14     21%[26;14H[34h[?25h[?25l[30;1H[K[30;1H:[34h[?25hu[?25l[34h[?25h[?25l1 change; before #161  15 seconds ago[26;11H(cmdline);[26;21H[K[29;5H}[30;75H148,9-12      21%[26;12H[34h[?25h[?25l[30;1H[K[30;1H:[34h[?25hu[?25l[34h[?25h[?25l1 change; before #160  00:21:09[23m[24m[0m[H[J[2;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[3;8H [1m[36m// Get pointer to job struct[0m[4;8H job = getjobpid(jobs, pid);[6;8H [1m[33mif[0m (WIFEXITED(status)) {[7;8H [1m[36m// Case exited normally[0m[9;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[10;16H [1m[32mchar[0m *argv[MAXARGS];[11;16H parseline(job->cmdline, argv);[12;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[13;12H }  [1m[33melse[0m {[14;16H [1m[36m//printf("Process exited normally with return value of %d\n", [0m[15;20H WEXITSTATUS(status)[1m[37m[41m)[0m;[16;12H }[17;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[19;8H } [1m[33melse[0m [1m[33mif[0m (WIFSIGNALED(status)) {[20;8H [1m[36m// Case terminated to signal[0m[22;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) teminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[23;16H job->jid, job->pid, WTERMSIG(status));[24;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[26;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[27;8H [1m[36m// Case stopped by signal[0m[29;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H319,17[8C53%[15;17H[34h[?25h[?25l[30;75H[K[30;1H/[34h[?25h/[?25l[34h[?25h[?25l[30;2H[K[30;2H[34h[?25h [?25l[73C319,17[8C53%[15;17H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H319,17[8C53%[15;17H[34h[?25h[?25l /    WEXITSTATUS(status)[1m[37m[41m)[0m;[30;80H8[15;18H[34h[?25h[?25l[1m[36m//    WEXITSTATUS(status));[0m[30;80H9[15;19H[34h[?25h[30;1H[K[15;18H[?25l[30;75H319,18[8C53%[15;18H[34h[?25h[?25l[30;77H8[14;18H[34h[?25h[?25l[30;77H7[13;18H[34h[?25h[?25l[30;77H6[12;18H[34h[?25h[?25l[30;77H5[11;18H[34h[?25h[?25l[30;77H4[10;18H[34h[?25h[?25l[30;77H3[9;18H[34h[?25h[?25l[30;77H2,8 [8;8H[34h[?25h[?25l[30;77H3,18[9;18H[34h[?25h[?25l[30;77H4[10;18H[34h[?25h[?25l[30;77H5[11;18H[34h[?25h[?25l[30;77H6[12;18H[34h[?25h[?25l[30;77H7[13;18H[34h[?25h[?25l[30;77H8[14;18H[34h[?25h[?25l[30;77H9[15;18H[34h[?25h[?25l[13;21H[46m{[16;13H}[0m[30;76H20,13[16;13H[34h[?25h[?25l[13;21H{[16;13H}[30;77H1,18[17;18H[34h[?25h[?25l[30;77H2,0-1[18;1H[34h[?25h[?25l[30;77H3,18 [19;18H[34h[?25h[?25l[30;77H4[20;18H[34h[?25h[?25l[30;77H5,8 [21;8H[34h[?25h[?25l[30;77H6,18[22;18H[34h[?25h[?25l[30;77H7[23;18H[34h[?25h[?25l[30;77H8[24;18H[34h[?25h[?25l[30;77H9,0-1[25;1H[34h[?25h[?25l[30;76H30,18 [26;18H[34h[?25h[?25l[30;77H1[27;18H[34h[?25h[?25l[30;77H2,8 [28;8H[34h[?25h[?25l[30;77H3,18[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H job->jid, job->pid, WSTOPSIG(status));[30;75H[K[30;75H334,18[8C54%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H335,18[8C54%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H336,0-1[7C54%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFCONTINUED(status)) {[30;75H[K[30;75H337,18[8C54%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case process reporting continuation[0m[30;75H[K[30;75H338,18[8C54%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H339,12[8C54%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m {[30;75H[K[30;75H340,16[8C55%[29;16H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Else, unknown[0m[30;75H[K[30;75H341,18[8C55%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[30;75H[K[30;75H342,18[8C55%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;16H[46m{[0m[29;8H [46m}[0m[30;75H[K[30;75H343,9[9C55%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[25;16H{[28;9H}[30;75H[K[30;75H344,0-1[7C55%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H345,5[9C56%[29;5H[34h[?25h[?25l[30;77H4,0-1[28;1H[34h[?25h[?25l[24;16H[46m{[27;9H}[0m[30;77H3,9  [27;9H[34h[?25h[?25l[24;16H{[27;9H}[30;77H2,18[26;18H[34h[?25h[?25l[30;77H1[25;18H[34h[?25h[?25l[24;16H[46m{[27;9H}[0m[30;77H0,16[24;16H[34h[?25h[?25l{[27;9H}[30;76H39,12[23;12H[34h[?25h[?25l[30;77H8,18[22;18H[34h[?25h[?25l[30;77H7[21;18H[34h[?25h[?25l[30;77H6,0-1[20;1H[34h[?25h[?25l[30;77H5,18 [19;18H[34h[?25h[?25l[30;77H4[18;18H[34h[?25h[?25l[30;77H3[17;18H[34h[?25h[?25l[30;77H2,8 [16;8H[34h[?25h[?25l[30;77H1,18[15;18H[34h[?25h[?25l[30;77H0[14;18H[34h[?25h[?25l[30;76H29,0-1[13;1H[34h[?25h[?25l[30;77H8,18 [12;18H[34h[?25h[?25l[30;77H7[11;18H[34h[?25h[?25l[30;77H6[10;18H[34h[?25h[?25l[30;77H5,8 [9;8H[34h[?25h[?25l[30;77H4,18[8;18H[34h[?25h[?25l[30;77H3[7;18H[34h[?25h[?25l[30;77H2,0-1[6;1H[34h[?25h[?25l[30;77H1,18 [5;18H[34h[?25h[?25l[1;21H[46m{[4;13H}[0m[30;77H0,13[4;13H[34h[?25h[?25l[1;21H{[4;13H}[30;76H19,18[3;18H[34h[?25h[?25l[30;77H8[2;18H[34h[?25h[?25l[30;77H7[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H316,18[8C55%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H parseline(job->cmdline, argv);[30;75H[K[30;75H315,18[8C55%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H314,18[8C55%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[30;75H[K[30;75H313,18[8C55%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H312,8[9C55%[1;8H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H311,18[8C54%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (WIFEXITED(status)) {[30;75H[K[30;75H310,18[8C54%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H309,0-1[7C54%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H308,18[8C54%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Get pointer to job struct[0m[30;75H[K[30;75H307,18[8C54%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[30;75H[K[30;75H306,18[8C54%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H305,0-1[7C53%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H304,18[8C53%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m status;[30;75H[K[30;75H303,15[8C53%[1;15H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[30;75H[K[30;75H302,14[8C53%[1;14H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {[30;75H[K[30;75H301,18[8C53%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H300,3[9C53%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     currently running children to terminate.  [0m[30;75H[K[30;75H299,18[8C52%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     available zombie children, but doesn't wait for any other[0m[30;75H[K[30;75H298,18[8C52%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     received a SIGSTOP or SIGTSTP signal. The handler reaps all[0m[30;75H[K[30;75H297,18[8C52%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     a child job terminates (becomes a zombie), or stops because it[0m[30;75H[K[30;75H296,18[8C52%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever[0m[30;75H[K[30;75H295,18[8C52%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H294,3[9C51%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H293,0-1[7C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *****************/[0m[30;75H[K[30;75H292,18[8C51%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Signal handlers[0m[30;75H[K[30;75H291,18[8C51%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*****************[0m[30;75H[K[30;75H290,18[8C51%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H289,0-1[7C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H288,1[9C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H287,11[8C50%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H286,5[9C50%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;75H[K[30;75H285,18[8C50%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H284,18[8C50%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H283,18[8C50%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H282,18[8C49%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H281,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H280,18[8C49%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H279,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H278,0-1[7C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H277,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H276,11[8C48%[1;11H[34h[?25h[?25l[30;77H7,1 [2;1H[34h[?25h[?25l[30;77H8,0-1[3;1H[34h[?25h[?25l[30;77H9,3  [4;3H[34h[?25h[?25l[30;76H80,18[5;18H[34h[?25h[?25l[30;77H1,3 [6;3H[34h[?25h[?25l[30;77H2,18[7;18H[34h[?25h[?25l[30;77H3[8;18H[34h[?25h[?25l[30;77H4[9;18H[34h[?25h[?25l[30;77H5[10;18H[34h[?25h[?25l[9;30H[46m{[11;5H}[0m[30;77H6,5 [11;5H[34h[?25h[?25l[9;30H{[11;5H}[30;77H7,11[12;11H[34h[?25h[?25l[7;24H[46m{[13;1H}[0m[30;77H8,1 [13;1H[34h[?25h[?25l[7;24H{[13;1H}[30;77H9,0-1[14;1H[34h[?25h[?25l[30;76H90,18 [15;18H[34h[?25h[?25l[30;77H1[16;18H[34h[?25h[?25l[30;77H2[17;18H[34h[?25h[?25l[30;77H3,0-1[18;1H[34h[?25h[?25l[30;77H4,3  [19;3H[34h[?25h[?25l[30;77H5,18[20;18H[34h[?25h[?25l[30;77H6[21;18H[34h[?25h[?25l[30;77H7[22;18H[34h[?25h[?25l[30;77H8[23;18H[34h[?25h[?25l[30;77H9[24;18H[34h[?25h[?25l[30;75H300,3 [25;3H[34h[?25h[?25l[30;77H1,18[26;18H[34h[?25h[?25l[30;77H2,14[27;14H[34h[?25h[?25l[30;77H3,15[28;15H[34h[?25h[?25l[30;77H4,18[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H305,0-1[7C48%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[30;75H[K[30;75H306,18[8C49%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Get pointer to job struct[0m[30;75H[K[30;75H307,18[8C49%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H308,18[8C49%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H309,0-1[7C49%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (WIFEXITED(status)) {[30;75H[K[30;75H310,18[8C49%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H311,18[8C50%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H312,8[9C50%[29;8H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[30;75H[K[30;75H313,18[8C50%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H314,18[8C50%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H parseline(job->cmdline, argv);[30;75H[K[30;75H315,18[8C50%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H316,18[8C50%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H }  [1m[33melse[0m {[30;75H[K[30;75H317,18[8C51%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H [1m[36m//printf("Process exited normally with return value of %d\n", [0m[30;75H[K[30;75H318,18[8C51%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H [1m[36m//    WEXITSTATUS(status));[0m[30;75H[K[30;75H319,18[8C51%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;21H[46m{[0m[29;12H [46m}[0m[30;75H[K[30;75H320,13[8C51%[29;13H[34h[?25h[?25l[1;29r[29;1H
[1;30r[25;21H{[28;13H}[29;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H321,18[8C51%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H322,0-1[7C51%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFSIGNALED(status)) {[30;75H[K[30;75H323,18[8C52%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case terminated to signal[0m[30;75H[K[30;75H324,18[8C52%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H325,8[9C52%[29;8H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) teminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H326,18[8C52%[29;18H[34h[?25h[?25l[30;77H5,8 [28;8H[34h[?25h[?25l[30;77H4,18[27;18H[34h[?25h[?25l[30;77H3[26;18H[34h[?25h[?25l[30;77H2,0-1[25;1H[34h[?25h[?25l[30;77H1,18 [24;18H[34h[?25h[?25l[20;21H[46m{[23;13H}[0m[30;77H0,13[23;13H[34h[?25h[?25l[20;21H{[23;13H}[30;76H19,18[22;18H[34h[?25h[?25l[30;77H8[21;18H[34h[?25h[?25l[30;77H7[20;18H[34h[?25h[?25l[30;77H6[19;18H[34h[?25h[?25l[30;77H5[18;18H[34h[?25h[?25l[30;77H4[17;18H[34h[?25h[?25l[30;77H3[16;18H[34h[?25h[?25l[30;77H2,8 [15;8H[34h[?25h[?25l[30;77H1,18[14;18H[34h[?25h[?25l[30;77H0[13;18H[34h[?25h[?25l[30;76H09,0-1[12;1H[34h[?25h[?25l[30;77H8,18 [11;18H[34h[?25h[?25l[30;77H7[10;18H[34h[?25h[?25l[30;77H6[9;18H[34h[?25h[?25l[30;77H5,0-1[8;1H[34h[?25h[?25l[30;77H4,18 [7;18H[34h[?25h[?25l[30;77H3,15[6;15H[34h[?25h[?25l[30;77H2,14[5;14H[34h[?25h[?25l[30;77H1,18[4;18H[34h[?25h[?25l[30;77H0,3 [3;3H[34h[?25h[?25l[30;75H299,18[2;18H[34h[?25h[?25l[30;77H8[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     received a SIGSTOP or SIGTSTP signal. The handler reaps all[0m[30;75H[K[30;75H297,18[8C52%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     a child job terminates (becomes a zombie), or stops because it[0m[30;75H[K[30;75H296,18[8C52%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever[0m[30;75H[K[30;75H295,18[8C52%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H294,3[9C51%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H293,0-1[7C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *****************/[0m[30;75H[K[30;75H292,18[8C51%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Signal handlers[0m[30;75H[K[30;75H291,18[8C51%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*****************[0m[30;75H[K[30;75H290,18[8C51%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H289,0-1[7C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H288,1[9C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H287,11[8C50%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H286,5[9C50%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;75H[K[30;75H285,18[8C50%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H284,18[8C50%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H283,18[8C50%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H282,18[8C49%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H281,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H280,18[8C49%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H279,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H278,0-1[7C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H277,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H276,11[8C48%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H275,18[8C48%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H274,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * do_bgfg - Execute the builtin bg and fg commands[0m[30;75H[K[30;75H273,18[8C48%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H272,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H271,0-1[7C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H270,1[9C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m[30;75H[K[30;75H269,18[8C47%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H }[30;75H[K[30;75H268,3[9C47%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H267,13[8C47%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H266,18[8C46%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H265,13[8C46%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg(argv);[30;75H[K[30;75H264,18[8C46%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H263,18[8C46%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H262,13[8C46%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg(argv);[30;75H[K[30;75H261,18[8C46%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H260,18[8C45%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H259,13[8C45%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H listjobs[46m([0mjobs[46m)[0m;[30;75H[K[30;75H258,18[8C45%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) {[2;13H(jobs)[30;75H[K[30;75H257,18[8C45%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H exit([1m[35m0[0m);[30;75H[K[30;75H256,12[8C45%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mif[0m (strcmp(argv[46m[[0m[1m[35m0[0m[46m][0m, [1m[35m"quit"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H255,18[8C45%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[2;18H[[1C][30;75H[K[30;75H254,18[8C44%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H253,3[9C44%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H252,18[8C44%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H251,18[8C44%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H250,3[9C44%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H249,0-1[7C43%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H248,1[9C43%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m bg;[30;75H[K[30;75H247,14[8C43%[1;14H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H246,5[9C43%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H argv[--argc] = [1m[35mNULL[0m;[30;75H[K[30;75H245,15-18     43%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) {[30;75H[K[30;75H244,18[8C43%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* should the job run in the background? */[0m[30;75H[K[30;75H243,18[8C42%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H242,0-1[7C42%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H241,10-13     42%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m [46m([0margc == [1m[35m0[0m[46m)[0m  [1m[36m/* ignore blank line */[0m[30;75H[K[30;75H240,18[8C42%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[2;8H([9C)[30;75H[K[30;75H239,4[9C42%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H argv[argc] = [1m[35mNULL[0m;[30;75H[K[30;75H238,18[8C42%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H237,5[9C41%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H236,6-9[7C41%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H235,15-18     41%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [46m{[3;9H}[0m[30;75H[K[30;75H234,13-16     41%[1;16H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H delim = strchr(buf, [1m[31m'\''[0m);[2;16H{[4;9H}[30;75H[K[30;75H233,15-18     41%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H buf++;[30;75H[K[30;75H232,15-18     40%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H231,18[8C40%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H230,5[9C40%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H buf++;[30;75H[K[30;75H229,18[8C40%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[30;75H[K[30;75H228,15-18     40%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H227,15-18     40%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H *delim = [1m[31m'\0'[0m;[30;75H[K[30;75H226,15-18     39%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H argv[argc++] = buf;[30;75H[K[30;75H225,15-18     39%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (delim) {[30;75H[K[30;75H224,18[8C39%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H223,0-1[7C39%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H222,5[9C39%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H221,15-18     39%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33melse[0m [46m{[3;5H}[0m[30;75H[K[30;75H220,10[8C38%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[2;10H{[4;5H}[30;75H[K[30;75H219,5[9C38%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H218,15-18     38%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf++;[30;75H[K[30;75H217,7-10      38%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H216,18[8C38%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H argc = [1m[35m0[0m;[30;75H[K[30;75H215,13[8C37%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Build the argv list */[0m[30;75H[K[30;75H214,18[8C37%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H213,0-1[7C37%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf++;[30;75H[K[30;75H212,7-10      37%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore leading spaces */[0m[30;75H[K[30;75H211,18[8C37%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf[strlen(buf)-[1m[35m1[0m] = [1m[35m' '[0m;  [1m[36m/* replace trailing '\n' with space */[0m[30;75H[K[30;75H210,18[8C37%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H strcpy(buf, cmdline);[30;75H[K[30;75H209,18[8C36%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H208,0-1[7C36%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m bg;[20C [1m[36m/* background job? */[0m[30;75H[K[30;75H207,18[8C36%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m argc;[18C [1m[36m/* number of args */[0m[30;75H[K[30;75H206,18[8C36%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *delim;[15C [1m[36m/* points to first space delimiter */[0m[30;75H[K[30;75H205,18[8C36%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *buf = array;[9C [1m[36m/* ptr that traverses command line */[0m[30;75H[K[30;75H204,18[8C35%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstatic[0m [1m[32mchar[0m array[MAXLINE]; [1m[36m/* holds local copy of command line */[0m[30;75H[K[30;75H203,18[8C35%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv) {[30;75H[K[30;75H202,18[8C35%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H201,3[9C35%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * the user has requested a FG job.  [0m[30;75H[K[30;75H200,18[8C35%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * argument.  Return true if the user has requested a BG job, false if[0m[30;75H[K[30;75H199,18[8C35%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Characters enclosed in single quotes are treated as a single[0m[30;75H[K[30;75H198,18[8C34%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * [0m[30;75H[K[30;75H197,3[9C34%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * parseline - Parse the command line and build the argv array.[0m[30;75H[K[30;75H196,18[8C34%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H195,3[9C34%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H194,0-1[7C34%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H193,1[9C34%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H192,11[8C33%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H191,5[9C33%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H waitfg(pid);[30;75H[K[30;75H190,18[8C33%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H } [1m[33melse[0m [46m{[3;5H}[0m[30;75H[K[30;75H189,12[8C33%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[2;12H{[4;5H}[30;75H[K[30;75H188,18[8C33%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H187,18[8C32%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Print background job info[0m[30;75H[K[30;75H186,18[8C32%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m(bg) [46m{[5;5H}[0m[30;75H[K[30;75H185,12[8C32%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H addjob(jobs, pid, bg ? BG : FG, cmdline);[2;12H{[6;5H}[30;75H[K[30;75H184,18[8C32%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Shell waits or prints background job info[0m[30;75H[K[30;75H183,18[8C32%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H182,0-1[7C32%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H181,5[9C31%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H exit(NOTFOUND); [1m[36m// Do not return[0m[30;75H[K[30;75H180,18[8C31%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H execvp(argv[[1m[35m0[0m], argv);[30;75H[K[30;75H179,18[8C31%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid == [1m[35m0[0m) {[30;75H[K[30;75H178,18[8C31%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid = fork();[30;75H[K[30;75H177,17[8C31%[1;17H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Fork and Exec in child process[0m[30;75H[K[30;75H176,18[8C31%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H175,0-1[7C30%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (builtin_cmd(argv)) [1m[33mreturn[0m;[30;75H[K[30;75H174,18[8C30%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check for built in command[0m[30;75H[K[30;75H173,18[8C30%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H172,4[9C30%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H171,18[8C30%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m bg = parseline(cmdline, argv);[30;75H[K[30;75H170,18[8C29%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H169,18[8C29%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[30;75H[K[30;75H168,14[8C29%[1;14H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {[30;75H[K[30;75H167,18[8C29%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m*/[0m[30;75H[K[30;75H166,2[9C29%[1;2H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * when we type ctrl-c (ctrl-z) at the keyboard.  [0m[30;75H[K[30;75H165,18[8C29%[1;18H[34h[?25h[?25l[30;77H6,2 [2;2H[34h[?25h[?25l[30;77H7,18[3;18H[34h[?25h[?25l[30;77H8,14[4;14H[34h[?25h[?25l[30;77H9,18[5;18H[34h[?25h[?25l[30;76H70[6;18H[34h[?25h[?25l[30;77H1[7;18H[34h[?25h[?25l[30;77H2,4 [8;4H[34h[?25h[?25l[30;77H3,18[9;18H[34h[?25h[?25l[30;77H4[10;18H[34h[?25h[?25l[30;77H5,0-1[11;1H[34h[?25h[?25l[30;77H6,18 [12;18H[34h[?25h[?25l[30;77H7,17[13;17H[34h[?25h[?25l[30;77H8,18[14;18H[34h[?25h[?25l[30;77H9[15;18H[34h[?25h[?25l[30;76H80[16;18H[34h[?25h[?25l[14;19H[46m{[17;5H}[0m[30;77H1,5 [17;5H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H181,5[9C29%[17;5H[34h[?25h[?25l [46m [0m} [46m}[0m[30;79H6[17;6H[34h[?25h[?25l [46me[0m}e[46m}[0m[30;79H7[17;7H[34h[?25h[?25l }[46m }[0m[17;7H[K[30;79H6[17;6H[34h[?25h[?25l }[46m }[0m[17;6H[K[30;79H5[17;5H[34h[?25h[?25l[30;79H6[17;6H[34h[?25h[?25l[14;19H{[17;5H}[30;79H7[17;7H[34h[?25h[?25l e[30;79H8[17;8H[34h[?25h[?25lek[30;79H9[17;9H[34h[?25h[?25lks[30;79H10[17;10H[34h[?25h[?25lse[30;80H1[17;11H[34h[?25h[?25l[30;80H2[17;12H[34h[?25h[?25l[30;80H1[17;11H[34h[?25h[?25l[17;10H[K[30;80H0[17;10H[34h[?25h[?25l[17;9H[K[30;79H9 [17;9H[34h[?25h[?25l[17;8H[K[30;79H8[17;8H[34h[?25h[?25lel[30;79H9[17;9H[34h[?25h[?25lls[30;79H10[17;10H[34h[?25h[?25l[1m[33melse[0m[30;80H1[17;11H[34h[?25h[?25l[30;80H2[17;12H[34h[?25h[?25l {[46m{[29;1H}[0m[30;80H3[17;13H[34h[?25h[?25l[18;29r[18;1H[L[1;30r[30;75H[K[30;75H182,9[9C29%[17;12H{[18;9H[34h[?25h[?25l    }[17;12H[46m{
[0m    [46m}[0m[30;79H6[18;6H[34h[?25h[?25l[17;12H{
    }[30;77H3,1[19;1H[34h[?25h[?25l[30;77H4,6[20;6H[34h[?25h[?25l[30;77H5[21;6H[34h[?25h[?25l[30;79H5[21;5H[34h[?25h[?25l[30;77H4[20;5H[34h[?25h[?25l[30;77H5[21;5H[34h[?25h[?25l[30;77H4[20;5H[34h[?25h[?25l[30;77H3,1[19;1H[34h[?25h[?25l[17;12H[46m{
[0m    [46m}[0m[30;77H2,5[18;5H[34h[?25h[?25l[30;79H6[18;6H[34h[?25h[?25l[18;5H[K[17;12H{[30;79H5[18;5H[34h[?25h[?25l[30;79H4[18;4H[34h[?25h[?25l[30;79H3[18;3H[34h[?25h[?25l[30;79H2[18;2H[34h[?25h[?25l[30;79H1[18;1H[34h[?25h[?25l[17;29r[29;1H
[1;30r[17;4H } [1m[33melse[0m {[29;1H}[30;75H[K[30;75H181,13[8C29%[17;12H[46m{[29;1H}[17;13H[34h[?25h[?25l[0m[17;12H[K[29;1H}[30;80H2[17;12H[34h[?25h[?25l[30;80H1[17;11H[34h[?25h[?25lels[17;10H[K[30;80H0[17;10H[34h[?25h[?25l[17;9H[K[30;79H9 [17;9H[34h[?25h[?25l[17;8H[K[30;79H8[17;8H[34h[?25h[?25l[17;7H[K[30;79H7[17;7H[34h[?25h[?25l[14;19H[46m{[17;5H}[0m[30;79H6[17;6H[34h[?25h[?25l[14;19H{[17;5H}[30;77H0[16;6H[34h[?25h[?25l[30;79H41[16;41H[34h[?25h[?25l[30;80H0[16;40H[34h[?25h[?25l[30;79H39[16;39H[34h[?25h[?25l[30;80H8[16;38H[34h[?25h[?25l[30;80H7[16;37H[34h[?25h[?25l[30;80H6[16;36H[34h[?25h[?25l[30;80H5[16;35H[34h[?25h[?25l[30;80H4[16;34H[34h[?25h[?25l[30;80H3[16;33H[34h[?25h[?25l[30;80H2[16;32H[34h[?25h[?25l[30;80H1[16;31H[34h[?25h[?25l[30;80H0[16;30H[34h[?25h[?25l[30;79H29[16;29H[34h[?25h[?25l[30;80H8[16;28H[34h[?25h[?25l[30;80H7[16;27H[34h[?25h[?25l[30;80H6[16;26H[34h[?25h[?25l[30;80H5[16;25H[34h[?25h[?25l i[1m[36m// Do not return[0m[30;80H6[16;26H[34h[?25h[?25l [1m[36m// Do not return[0m[16;41H[K[30;80H5[16;25H[34h[?25h[?25l[17;29r[17;1H[L[1;30r[16;25H[K[17;8H [1m[36m// Do not return[0m[30;75H[K[30;75H181,9[9C29%[17;9H[34h[?25h[?25l[30;79H25[17;25H[34h[?25h[?25l[17;24H[K[30;80H4[17;24H[34h[?25h[?25l[17;23H[K[30;80H3[17;23H[34h[?25h[?25l[17;22H[K[30;80H2[17;22H[34h[?25h[?25l[17;21H[K[30;80H1[17;21H[34h[?25h[?25l[17;20H[K[30;80H0[17;20H[34h[?25h[?25l[17;19H[K[30;79H19[17;19H[34h[?25h[?25l[1m[36m c[0m[30;79H20[17;20H[34h[?25h[?25l[1m[36mco[0m[30;80H1[17;21H[34h[?25h[?25l[1m[36mon[0m[30;80H2[17;22H[34h[?25h[?25l[1m[36mnt[0m[30;80H3[17;23H[34h[?25h[?25l[1m[36mti[0m[30;80H4[17;24H[34h[?25h[?25l[1m[36min[0m[30;80H5[17;25H[34h[?25h[?25l[1m[36mnu[0m[30;80H6[17;26H[34h[?25h[?25l[1m[36mue[0m[30;80H7[17;27H[34h[?25h[?25l[30;77H0,25[16;25H[34h[?25h[?25l[16;29r[29;1H
[1;30r[16;8H exit(NOTFOUND);         [1m[36m// Do not continue[0m[29;1H}[30;75H[K[30;75H180,25[8C29%[16;25H[34h[?25h[?25l       [1m[36m// Do not continue[0m[16;50H[K[16;25H[34h[?25h[?25l      [1m[36m// Do not continue[0m[16;49H[K[16;25H[34h[?25h[?25l     [1m[36m// Do not continue[0m[16;48H[K[16;25H[34h[?25h3 [?25l    [1m[36m// Do not continue[0m[16;47H[K[16;25H[34h[?25h[?25l   [1m[36m// Do not continue[0m[16;46H[K[16;25H[34h[?25h[?25l  [1m[36m// Do not continue[0m[16;45H[K[16;25H[34h[?25h[?25l [1m[36m// Do not continue[0m[16;44H[K[16;25H[34h[?25h[?25l [1m[36m// Do not continue[0m[16;43H[K[16;25H[34h[?25h[?25l[14;19H[46m{[17;5H}[0m[30;77H1,6 [17;6H[34h[?25h[?25l[14;19H{[17;5H}[30;77H2,1[18;1H[34h[?25h[?25l[14;19H[46m{[17;5H}[0m[30;77H1,6[17;6H[34h[?25h[?25l[14;19H{[17;5H}[30;77H0,25[16;25H[34h[?25h[?25l[30;76H79[15;25H[34h[?25h[?25l[14;19H[46m{[17;5H}[0m[30;77H8,20[14;20H[34h[?25h[?25l{[17;5H}[30;77H7,18[13;18H[34h[?25h[?25l[10;20H[46m([0margv[46m)[0m[30;77H4,25[10;25H[34h[?25h[?25l(argv)[30;77H1,23[7;23H[34h[?25h[?25l[30;76H68,15[4;15H[34h[?25h[?25l[1;24H[1m[36m[46m([6C)[0m[30;77H5,2[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m * the foreground, wait for it to terminate and then return.  Note:
 * each child process must have a unique process group ID so that our
 * background children don't receive SIGINT (SIGTSTP) from the kernel[0m[30;75H[K[30;75H162,25[8C28%[4;24H[1m[36m(ctrl-z)[1;25H[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[1;1H[1m[36m * If the user has requested a built-in command (quit, jobs, bg or fg)
 * then execute it immediately. Otherwise, fork a child process and
 * run the job in the context of the child. If the job is running in[0m[30;75H[K[30;75H159,25[8C28%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m/* 
 * eval - Evaluate the command line that the user has just typed in
 * [0m[30;75H[K[30;75H156,4[9C27%[1;4H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H exit([1m[35m0[0m); [1m[36m/* control never reaches here */[0m
}[30;75H[K[30;75H153,25[8C26%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;6H fflush([1m[35mstdout[0m);
    }[30;75H[K[30;75H150,19-22     26%[1;22H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;6H [1m[36m/* Evaluate the command line */[0m[2;6H eval(cmdline);[3;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H147,22-25     25%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;10H exit([1m[35m0[0m);[2;6H }[30;75H[K[30;75H144,16-19     25%[1;19H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;10H app_error([1m[35m"fgets error"[0m);[2;6H [1m[33mif[0m (feof([1m[35mstdin[0m)) { [1m[36m/* End of file (ctrl-d) */[0m[3;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H141,22-25     24%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;10H fflush([1m[35mstdout[0m);[2;6H }[3;6H [1m[33mif[0m ((fgets(cmdline, MAXLINE, [1m[35mstdin[0m) == [1m[35mNULL[0m) && ferror([1m[35mstdin[0m))[30;75H[K[30;75H138,22-25     24%[1;17H[46m([6C)[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[1;6H [1m[36m/* Read command line */[0m[2;6H [1m[33mif[0m (emit_prompt) {[3;10H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m"[0m, prompt);[30;75H[K[30;75H135,22-25     23%[4;17H([6C)[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[36m/* Execute the shell's read/eval loop */[0m
    [1m[33mwhile[0m ([1m[35m1[0m) {[30;75H[K[30;75H132,25[8C23%[1;25H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;4H initjobs(jobs);[30;75H[K[30;75H130,20[8C22%[1;20H[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Initialize the job list */[0m[30;75H[K[30;75H129,25[8C22%[1;25H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;4H Signal([1m[35mSIGQUIT[0m, sigquit_handler);[30;75H[K[30;75H127,25[8C22%[1;25H[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* This one provides a clean way to kill the shell */[0m[30;75H[K[30;75H126,25[8C22%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H Signal([1m[35mSIGTSTP[0m, sigtstp_handler);  [1m[36m/* ctrl-z */[0m
    Signal([1m[35mSIGCHLD[0m, sigchld_handler);  [1m[36m/* Terminated or stopped child */[0m[30;75H[K[30;75H123,25[8C21%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[2;4H [1m[36m/* These are the ones you will need to implement */[0m
    Signal([1m[35mSIGINT[0m,  sigint_handler);   [1m[36m/* ctrl-c */[0m[30;75H[K[30;75H120,1[9C21%[1;1H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H }[3;4H [1m[36m/* Install the signal handlers */[0m[30;75H[K[30;75H117,6[9C20%[1;6H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[33mdefault[0m:[2;12H usage();
    }[30;75H[K[30;75H114,10-13     20%[1;13H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H [1m[33mcase[0m [1m[35m'p'[0m:[12C [1m[36m/* don't print a prompt */[0m[2;12H emit_prompt = [1m[35m0[0m;  [1m[36m/* handy for automatic testing */[0m[3;8H [1m[33mbreak[0m;[30;75H[K[30;75H111,25[8C19%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H [1m[33mcase[0m [1m[35m'v'[0m:[12C [1m[36m/* emit additional diagnostic info */[0m[2;12H verbose = [1m[35m1[0m;[3;8H [1m[33mbreak[0m;[30;75H[K[30;75H108,25[8C18%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H [1m[33mcase[0m [1m[35m'h'[0m:[12C [1m[36m/* print help message */[0m[2;12H usage();[3;8H [1m[33mbreak[0m;[30;75H[K[30;75H105,25[8C18%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[36m/* Parse the command line */[0m
    [1m[33mwhile[0m ((c = getopt(argc, argv, [1m[35m"hvp"[0m)) != [1m[35mEOF[0m) {[3;8H [1m[33mswitch[0m (c) {[30;75H[K[30;75H102,25[8C17%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m     * on the pipe connected to stdout) */[0m
    dup2([1m[35m1[0m, [1m[35m2[0m);[30;75H[K[30;75H99,25[9C17%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mint[0m emit_prompt = [1m[35m1[0m; [1m[36m/* emit prompt (default) */[0m[3;4H [1m[36m/* Redirect stderr to stdout (so that driver will get all output[0m[30;75H[K[30;75H96,25[9C16%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H{
    [1m[32mchar[0m c;
    [1m[32mchar[0m cmdline[MAXLINE];[30;75H[K[30;75H93,2[10C16%[1;2H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m * main - The shell's main routine 
 */[0m
[1m[32mint[0m main([1m[32mint[0m argc, [1m[32mchar[0m **argv)[30;75H[K[30;75H90,25[9C15%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1Hhandler_t *Signal([1m[32mint[0m signum, handler_t *handler);

[1m[36m/*[0m[30;75H[K[30;75H87,25[9C15%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mvoid[0m unix_error([1m[32mchar[0m *msg);
[1m[32mvoid[0m app_error([1m[32mchar[0m *msg);
[1m[32mtypedef[0m [1m[32mvoid[0m handler_t([1m[32mint[0m);[30;75H[K[30;75H84,25[9C14%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);

[1m[32mvoid[0m usage([1m[32mvoid[0m);[30;75H[K[30;75H81,25[9C14%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);
[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);
[1m[32mint[0m pid2jid(pid_t pid);[30;75H[K[30;75H78,25[9C13%[1;24H[46m([29C)[1;25H[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[1;1H[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline);
[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid);
pid_t fgpid([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H75,25[9C13%[4;24H([29C)[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job);
[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs);
[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H72,25[9C12%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv);
[1m[32mvoid[0m sigquit_handler([1m[32mint[0m sig);[30;75H[K[30;75H69,25[9C12%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig);

[1m[36m/* Here are helper routines that we've provided for you */[0m[30;75H[K[30;75H66,25[9C11%[1;25H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig);
[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig);[30;75H[K[30;75H64,25[9C11%[1;25H[1;29r[1;1H[L[1;30r[30;75H[K[30;75H63,1[10C10%[1;1H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);
[1m[32mvoid[0m waitfg(pid_t pid);[30;75H[K[30;75H61,25[9C10%[1;13H[46m([11C)[1;29r[0m[1;1H[L[1;30r[1;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv);[30;75H[K[30;75H60,25[9C10%[2;13H([11C)[1;25H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;1H[1m[36m/* Here are the functions that you will implement */[0m
[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline);[30;75H[K[30;75H58,25[9C10%[1;25H[1;29r[1;1H[L[1;30r[30;75H[K[30;75H57,1[11C9%[1;1H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[3;1H[1m[36m/* Function prototypes */[0m[30;75H[K[30;75H54,1[11C9%[1;1H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H};
[1m[32mstruct[0m job_t jobs[MAXJOBS]; [1m[36m/* The job list */
/* End global variables */[0m[30;75H[K[30;75H51,3[11C8%[1;3H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mint[0m jid;[15C [1m[36m/* job ID [1, 2, ...] */[0m
    [1m[32mint[0m state;[13C [1m[36m/* UNDEF, BG, FG, or ST */[0m
    [1m[32mchar[0m cmdline[MAXLINE];  [1m[36m/* command line */[0m[30;75H[K[30;75H48,25[10C8%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[2;1H[1m[32mstruct[0m job_t {[13C [1m[36m/* The job struct */[0m
    pid_t pid;[13C [1m[36m/* job PID */[0m[30;75H[K[30;75H45,1[11C7%[1;1H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mint[0m verbose = [1m[35m0[0m;[11C [1m[36m/* if true, print additional output */[0m
[1m[32mint[0m nextjid = [1m[35m1[0m;[11C [1m[36m/* next job ID to allocate */[0m
[1m[32mchar[0m sbuf[MAXLINE];[8C [1m[36m/* for composing sprintf messages */[0m[30;75H[K[30;75H42,25[10C7%[1;25H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;1H[1m[32mextern[0m [1m[32mchar[0m **environ;      [1m[36m/* defined in libc */[0m
[1m[32mchar[0m prompt[] = [1m[35m"tsh> "[0m;    [1m[36m/* command line prompt (DO NOT CHANGE) */[0m[30;75H[K[30;75H40,25[10C6%[1;25H[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* Global variables */[0m[30;75H[K[30;75H39,23[10C6%[1;23H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m * At most 1 job can be in the FG state.
 */[0m[30;75H[K[30;75H36,25[10C6%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m *     ST -> FG  : fg command
 *     ST -> BG  : bg command
 *     BG -> FG  : fg command[0m[30;75H[K[30;75H33,25[10C5%[1;25H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;1H[1m[36m * Job state transitions and enabling actions:
 *     FG -> ST  : ctrl-z[0m[30;75H[K[30;75H31,25[10C5%[1;25H[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Jobs states: FG (foreground), BG (background), ST (stopped)[0m[30;75H[K[30;75H30,25[10C5%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[34m#define ST [0m[1m[35m3[0m[1m[34m    [0m[1m[36m/* stopped */

/* [0m[30;75H[K[30;75H27,25[10C4%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[34m#define UNDEF [0m[1m[35m0[0m[1m[34m [0m[1m[36m/* undefined */[0m
[1m[34m#define FG [0m[1m[35m1[0m[1m[34m    [0m[1m[36m/* running in foreground */[0m
[1m[34m#define BG [0m[1m[35m2[0m[1m[34m    [0m[1m[36m/* running in background */[0m[30;75H[K[30;75H24,25[10C4%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[34m#define NOTFOUND [0m[1m[35m127[0m

[1m[36m/* Job states */[0m[30;75H[K[30;75H21,21[10C3%[1;21H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[34m#define MAXJID    [0m[1m[35m1[0m[1m[34m<<[0m[1m[35m16[0m[1m[34m   [0m[1m[36m/* max job ID */

/* Magic Numbers */[0m[30;75H[K[30;75H18,25[10C3%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[34m#define MAXLINE    [0m[1m[35m1024[0m[1m[34m   [0m[1m[36m/* max line size */[0m
[1m[34m#define MAXARGS     [0m[1m[35m128[0m[1m[34m   [0m[1m[36m/* max args on a command line */[0m
[1m[34m#define MAXJOBS      [0m[1m[35m16[0m[1m[34m   [0m[1m[36m/* max jobs at any point in time */[0m[30;75H[K[30;75H15,25[10C2%[1;25H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[34m#include [0m[1m[35m<errno.h>[0m

[1m[36m/* Misc manifest constants */[0m[30;75H[K[30;75H12,19[10C1%[1;19H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[34m#include [0m[1m[35m<signal.h>[0m
[1m[34m#include [0m[1m[35m<sys/types.h>[0m
[1m[34m#include [0m[1m[35m<sys/wait.h>[0m[30;75H[K[30;75H9,20[11C1%[1;20H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[34m#include [0m[1m[35m<unistd.h>[0m
[1m[34m#include [0m[1m[35m<string.h>[0m
[1m[34m#include [0m[1m[35m<ctype.h>[0m[30;75H[K[30;75H6,20[11C0%[1;20H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m */[0m
[1m[34m#include [0m[1m[35m<stdio.h>[0m
[1m[34m#include [0m[1m[35m<stdlib.h>[0m[30;75H[K[30;75H3,4[12C0%[1;4H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;1H[1m[36m/* 
 * tsh - A tiny shell program with job control[0m[30;75H[K[30;75H1,4[11CTop[1;4H[34h[?25h[?25l[30;75H4,19[4;19H[34h[?25h[?25l[30;75H7,20[7;20H[34h[?25h[?25l[30;75H10,23[10;23H[34h[?25h[?25l[30;76H3,1 [13;1H[34h[?25h[?25l[30;76H6,25[16;25H[34h[?25h[?25l[30;76H9,1 [19;1H[34h[?25h[?25l[30;75H22[22;1H[34h[?25h[?25l[30;76H4,25[24;25H[34h[?25h[?25l[30;76H5[25;25H[34h[?25h[?25l[30;76H8,1 [28;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Jobs states: FG (foreground), BG (background), ST (stopped)[0m[30;75H[K[30;75H30,25[10C0%[29;25H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Job state transitions and enabling actions:[0m[30;75H[K[30;75H31,25[10C0%[29;25H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m *     FG -> ST  : ctrl-z
 *     ST -> FG  : fg command
 *     ST -> BG  : bg command[0m[30;75H[K[30;75H34,25[10C0%[29;25H[34h[?25h[?25l[1;29r[1;1H[2M[1;30r[28;1H[1m[36m *     BG -> FG  : fg command
 * At most 1 job can be in the FG state.[0m[30;75H[K[30;75H36,25[10C1%[29;25H[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H37,4[11C1%[29;4H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[28;1H[1m[36m/* Global variables */[0m
[1m[32mextern[0m [1m[32mchar[0m **environ;      [1m[36m/* defined in libc */[0m[30;75H[K[30;75H40,25[10C1%[29;25H[34h[?25h[?25l[30;75H37,4 [26;4H[34h[?25h[?25l[30;76H4,25[23;25H[34h[?25h[?25l[30;76H2[21;25H[34h[?25h[?25l[30;76H1[20;25H[34h[?25h[?25l[30;75H28,1 [17;1H[34h[?25h[?25l[30;76H6,25[15;25H[34h[?25h[?25l[30;76H5[14;25H[34h[?25h[?25l[30;76H3,17[12;17H[34h[?25h[?25l[30;76H2,1 [11;1H[34h[?25h[?25l[30;75H19[8;1H[34h[?25h[?25l[30;75H22[11;1H[34h[?25h[?25l[30;76H5,25[14;25H[34h[?25h[?25l[30;76H2,1 [11;1H[34h[?25h[?25l[30;75H19[8;1H[34h[?25h[?25l[30;75H22[11;1H[34h[?25h[?25l[30;75H19[8;1H[34h[?25h[?25l[30;75H22[11;1H[34h[?25h[?25li[30;78H2[11;2H[34h[?25h[?25l[30;76H1[10;2H[34h[?25h[?25l[30;76H2[11;2H[34h[?25h[?25l[11;1H[K[30;78H1[11;1H[34h[?25h[?25l[30;76H1[10;1H[34h[?25h[?25l[30;78H21[10;21H[34h[?25h[?25l[30;79H0[10;20H[34h[?25h[?25l[30;76H0[9;20H[34h[?25h[?25l[30;78H19[9;19H[34h[?25h[?25l[30;79H8[9;18H[34h[?25h[?25l[1m[36m (*/[0m[30;79H9[9;19H[34h[?25h[?25l[1m[36m(T*/[0m[30;78H20[9;20H[34h[?25h[?25l[1m[36mTh*/[0m[30;79H1[9;21H[34h[?25h[?25l[1m[36mhj*/[0m[30;79H2[9;22H[34h[?25h[?25l[1m[36mh*/[0m[9;23H[K[30;79H1[9;21H[34h[?25h[?25l[1m[36mhi*/[0m[30;79H2[9;22H[34h[?25h[?25l[1m[36mis*/[0m[30;79H3[9;23H[34h[?25h[?25l[1m[36ms */[0m[30;79H4[9;24H[34h[?25h[?25l[1m[36m v*/[0m[30;79H5[9;25H[34h[?25h[?25l[1m[36mva*/[0m[30;79H6[9;26H[34h[?25h[?25l[1m[36mal*/[0m[30;79H7[9;27H[34h[?25h[?25l[1m[36mlu*/[0m[30;79H8[9;28H[34h[?25h[?25l[1m[36mue*/[0m[30;79H9[9;29H[34h[?25h[?25l[1m[36me */[0m[30;78H30[9;30H[34h[?25h[?25l[1m[36m i*/[0m[30;79H1[9;31H[34h[?25h[?25l[1m[36mis*/[0m[30;79H2[9;32H[34h[?25h[?25l[1m[36ms */[0m[30;79H3[9;33H[34h[?25h[?25l[1m[36m r*/[0m[30;79H4[9;34H[34h[?25h[?25l[1m[36mre*/[0m[30;79H5[9;35H[34h[?25h[?25l[1m[36met*/[0m[30;79H6[9;36H[34h[?25h[?25l[1m[36mtu*/[0m[30;79H7[9;37H[34h[?25h[?25l[1m[36mur*/[0m[30;79H8[9;38H[34h[?25h[?25l[1m[36mrn*/[0m[30;79H9[9;39H[34h[?25h[?25l[1m[36mne*/[0m[30;78H40[9;40H[34h[?25h[?25l[1m[36med*/[0m[30;79H1[9;41H[34h[?25h[?25l[1m[36md */[0m[30;79H2[9;42H[34h[?25h[?25l[1m[36m w*/[0m[30;79H3[9;43H[34h[?25h[?25l[1m[36mwh*/[0m[30;79H4[9;44H[34h[?25h[?25l[1m[36mhe*/[0m[30;79H5[9;45H[34h[?25h[?25l[1m[36men*/[0m[30;79H6[9;46H[34h[?25h[?25l[30;79H5[9;45H[34h[?25h[?25l[30;79H4[9;44H[34h[?25h[?25l[30;79H3[9;43H[34h[?25h[?25l[30;79H2[9;42H[34h[?25h[?25l[30;79H1[9;41H[34h[?25h[?25l[30;79H0[9;40H[34h[?25h[?25l[30;78H39[9;39H[34h[?25h[?25l[30;79H8[9;38H[34h[?25h[?25l[30;79H7[9;37H[34h[?25h[?25l[30;79H6[9;36H[34h[?25h[?25l[30;79H5[9;35H[34h[?25h[?25l[30;79H4[9;34H[34h[?25h[?25l[30;79H3[9;33H[34h[?25h[?25l[30;79H2[9;32H[34h[?25h[?25l[30;79H1[9;31H[34h[?25h[?25l[30;79H0[9;30H[34h[?25h[?25l[30;78H48[9;48H[34h[?25h[?25l[30;79H7[9;47H[34h[?25h[?25l[30;79H6[9;46H[34h[?25h[?25l[1m[36me*/[0m[9;47H[K[30;79H5[9;45H[34h[?25h[?25l[1m[36mh*/[0m[9;46H[K[30;79H4[9;44H[34h[?25h[?25l[1m[36mw*/[0m[9;45H[K[30;79H3[9;43H[34h[?25h[?25l[1m[36m */[0m[9;44H[K[30;79H2[9;42H[34h[?25h[?25l[1m[36md*/[0m[9;43H[K[30;79H1[9;41H[34h[?25h[?25l[1m[36me*/[0m[9;42H[K[30;79H0[9;40H[34h[?25h[?25l[1m[36mn*/[0m[9;41H[K[30;78H39[9;39H[34h[?25h[?25l[1m[36mr*/[0m[9;40H[K[30;79H8[9;38H[34h[?25h[?25l[1m[36mu*/[0m[9;39H[K[30;79H7[9;37H[34h[?25h[?25l[1m[36mt*/[0m[9;38H[K[30;79H6[9;36H[34h[?25h[?25l[1m[36me*/[0m[9;37H[K[30;79H5[9;35H[34h[?25h[?25l[1m[36mr*/[0m[9;36H[K[30;79H4[9;34H[34h[?25h[?25l[1m[36m */[0m[9;35H[K[30;79H3[9;33H[34h[?25h[?25l[1m[36ms*/[0m[9;34H[K[30;79H2[9;32H[34h[?25h[?25l[1m[36mi*/[0m[9;33H[K[30;79H1[9;31H[34h[?25h[?25l[1m[36m */[0m[9;32H[K[30;79H0[9;30H[34h[?25h[?25l[1m[36me*/[0m[9;31H[K[30;78H29[9;29H[34h[?25h[?25l[1m[36mu*/[0m[9;30H[K[30;79H8[9;28H[34h[?25h[?25l[1m[36ml*/[0m[9;29H[K[30;79H7[9;27H[34h[?25h[?25l[1m[36ma*/[0m[9;28H[K[30;79H6[9;26H[34h[?25h[?25l[1m[36mv*/[0m[9;27H[K[30;79H5[9;25H[34h[?25h[?25l[1m[36m */[0m[9;26H[K[30;79H4[9;24H[34h[?25h[?25l[1m[36ms*/[0m[9;25H[K[30;79H3[9;23H[34h[?25h[?25l[1m[36mi*/[0m[9;24H[K[30;79H2[9;22H[34h[?25h[?25l[1m[36mh*/[0m[9;23H[K[30;79H1[9;21H[34h[?25h[?25l[1m[36mT*/[0m[9;22H[K[30;79H0[9;20H[34h[?25h[?25l[1m[36m(*/[0m[9;21H[K[30;78H19[9;19H[34h[?25h[?25l[1m[36m */[0m[9;20H[K[30;79H8[9;18H[34h[?25h[?25l[30;76H1[10;18H[34h[?25h[?25l[30;78H21[10;21H[34h[?25h[?25l[1m[34m [0m[30;79H2[10;22H[34h[?25h[?25l[1m[34m /[0m[30;79H3[10;23H[34h[?25h[?25l[1m[36m/*[0m

[1m[37m[41m/[0m[30;79H4[10;24H[34h[?25h[?25l[1m[36m**[0m[30;79H5[10;25H[34h[?25h[?25l[1m[36m*/

/[0m[30;79H6[10;26H[34h[?25h[?25l[30;79H5[10;25H[34h[?25h[?25l[30;79H4[10;24H[34h[?25h[?25l[1m[36m* */[0m[30;79H5[10;25H[34h[?25h[?25l[1m[36m R*/[0m[30;79H6[10;26H[34h[?25h[?25l[1m[36mRe*/[0m[30;79H7[10;27H[34h[?25h[?25l[1m[36met*/[0m[30;79H8[10;28H[34h[?25h[?25l[1m[36mtu*/[0m[30;79H9[10;29H[34h[?25h[?25l[1m[36mue*/[0m[30;78H30[10;30H[34h[?25h[?25l[1m[36mu*/[0m[10;31H[K[30;78H29[10;29H[34h[?25h[?25l[1m[36mur*/[0m[30;78H30[10;30H[34h[?25h[?25l[1m[36mrn*/[0m[30;79H1[10;31H[34h[?25h[?25l[1m[36mne*/[0m[30;79H2[10;32H[34h[?25h[?25l[1m[36med*/[0m[30;79H3[10;33H[34h[?25h[?25l[1m[36md */[0m[30;79H4[10;34H[34h[?25h[?25l[1m[36m w*/[0m[30;79H5[10;35H[34h[?25h[?25l[1m[36mwh*/[0m[30;79H6[10;36H[34h[?25h[?25l[1m[36mhe*/[0m[30;79H7[10;37H[34h[?25h[?25l[1m[36men*/[0m[30;79H8[10;38H[34h[?25h[?25l[1m[36mn */[0m[30;79H9[10;39H[34h[?25h[?25l[1m[36m p*/[0m[30;78H40[10;40H[34h[?25h[?25l[1m[36mpr*/[0m[30;79H1[10;41H[34h[?25h[?25l[1m[36mro*/[0m[30;79H2[10;42H[34h[?25h[?25l[1m[36moc*/[0m[30;79H3[10;43H[34h[?25h[?25l[1m[36mce*/[0m[30;79H4[10;44H[34h[?25h[?25l[1m[36mes*/[0m[30;79H5[10;45H[34h[?25h[?25l[1m[36mss*/[0m[30;79H6[10;46H[34h[?25h[?25l[1m[36ms */[0m[30;79H7[10;47H[34h[?25h[?25l[1m[36m n*/[0m[30;79H8[10;48H[34h[?25h[?25l[1m[36mno*/[0m[30;79H9[10;49H[34h[?25h[?25l[1m[36mor*/[0m[30;78H50[10;50H[34h[?25h[?25l[1m[36mo*/[0m[10;51H[K[30;78H49[10;49H[34h[?25h[?25l[1m[36mot*/[0m[30;78H50[10;50H[34h[?25h[?25l[1m[36mt */[0m[30;79H1[10;51H[34h[?25h[?25l[1m[36m f*/[0m[30;79H2[10;52H[34h[?25h[?25l[1m[36mfo*/[0m[30;79H3[10;53H[34h[?25h[?25l[1m[36mou*/[0m[30;79H4[10;54H[34h[?25h[?25l[1m[36mun*/[0m[30;79H5[10;55H[34h[?25h[?25l[1m[36mnd*/[0m[30;79H6[10;56H[34h[?25h[?25l[1m[36mn*/[0m[10;57H[K[30;79H5[10;55H[34h[?25h[?25l[1m[36mu*/[0m[10;56H[K[30;79H4[10;54H[34h[?25h[?25l[1m[36mo*/[0m[10;55H[K[30;79H3[10;53H[34h[?25h[?25l[1m[36mf*/[0m[10;54H[K[30;79H2[10;52H[34h[?25h[?25l[1m[36m */[0m[10;53H[K[30;79H1[10;51H[34h[?25h[?25l[1m[36mt*/[0m[10;52H[K[30;79H0[10;50H[34h[?25h[?25l[1m[36mo*/[0m[10;51H[K[30;78H49[10;49H[34h[?25h[?25l[1m[36mn*/[0m[10;50H[K[30;79H8[10;48H[34h[?25h[?25l[1m[36m */[0m[10;49H[K[30;79H7[10;47H[34h[?25h[?25l[1m[36ms*/[0m[10;48H[K[30;79H6[10;46H[34h[?25h[?25l[1m[36ms*/[0m[10;47H[K[30;79H5[10;45H[34h[?25h[?25l[1m[36me*/[0m[10;46H[K[30;79H4[10;44H[34h[?25h[?25l[1m[36mc*/[0m[10;45H[K[30;79H3[10;43H[34h[?25h[?25l[1m[36mo*/[0m[10;44H[K[30;79H2[10;42H[34h[?25h[?25l[1m[36mr*/[0m[10;43H[K[30;79H1[10;41H[34h[?25h[?25l[1m[36mp*/[0m[10;42H[K[30;79H0[10;40H[34h[?25h[?25l[1m[36m */[0m[10;41H[K[30;78H39[10;39H[34h[?25h[?25l[1m[36m c*/[0m[30;78H40[10;40H[34h[?25h[?25l[1m[36mco*/[0m[30;79H1[10;41H[34h[?25h[?25l[1m[36mom*/[0m[30;79H2[10;42H[34h[?25h[?25l[1m[36mmm*/[0m[30;79H3[10;43H[34h[?25h[?25l[1m[36mma*/[0m[30;79H4[10;44H[34h[?25h[?25l[1m[36man*/[0m[30;79H5[10;45H[34h[?25h[?25l[1m[36mnd*/[0m[30;79H6[10;46H[34h[?25h[?25l[1m[36md */[0m[30;79H7[10;47H[34h[?25h[?25l[1m[36m n*/[0m[30;79H8[10;48H[34h[?25h[?25l[1m[36mno*/[0m[30;79H9[10;49H[34h[?25h[?25l[1m[36mot*/[0m[30;78H50[10;50H[34h[?25h[?25l[1m[36mt */[0m[30;79H1[10;51H[34h[?25h[?25l[1m[36m f*/[0m[30;79H2[10;52H[34h[?25h[?25l[1m[36mfo*/[0m[30;79H3[10;53H[34h[?25h[?25l[1m[36mou*/[0m[30;79H4[10;54H[34h[?25h[?25l[1m[36mun*/[0m[30;79H5[10;55H[34h[?25h[?25l[1m[36mnd*/[0m[30;79H6[10;56H[34h[?25h[?25l[1m[36md */[0m[30;79H7[10;57H[34h[?25h[?25l[1m[36m (*/[0m[30;79H8[10;58H[34h[?25h[?25l[1m[36m(u*/[0m[30;79H9[10;59H[34h[?25h[?25l[1m[36mus*/[0m[30;78H60[10;60H[34h[?25h[?25l[1m[36mse*/[0m[30;79H1[10;61H[34h[?25h[?25l[1m[36med*/[0m[30;79H2[10;62H[34h[?25h[?25l[1m[36md */[0m[30;79H3[10;63H[34h[?25h[?25l[1m[36m b*/[0m[30;79H4[10;64H[34h[?25h[?25l[1m[36mby*/[0m[30;79H5[10;65H[34h[?25h[?25l[1m[36my */[0m[30;79H6[10;66H[34h[?25h[?25l[1m[36m b*/[0m[30;79H7[10;67H[34h[?25h[?25l[1m[36mba*/[0m[30;79H8[10;68H[34h[?25h[?25l[1m[36mas*/[0m[30;79H9[10;69H[34h[?25h[?25l[1m[36msh*/[0m[30;78H70[10;70H[34h[?25h[?25l[1m[36mh */[0m[30;79H1[10;71H[34h[?25h[?25l[1m[36m a*/[0m[30;79H2[10;72H[34h[?25h[?25l[1m[36mas*/[0m[30;79H3[10;73H[34h[?25h[?25l[1m[36ms */[0m[30;79H4[10;74H[34h[?25h[?25l[1m[36m w*/[0m[30;79H5[10;75H[34h[?25h[?25l[1m[36mwe*/[0m[30;79H6[10;76H[34h[?25h[?25l[1m[36mel*/[0m[30;79H7[10;77H[34h[?25h[?25l[1m[36mll*/[0m[30;79H8[10;78H[34h[?25h[?25l[1m[36ml)*/[0m[10;57H[1m[36m[46m([20C)[0m[30;79H9[10;79H[34h[?25h[?25l[1m[36m[46m)[0m[1m[36m */[10;57H([20C)[0m[30;78H80[10;80H[34h[?25h[?25l[30;79H2[10;82H[34h[?25h[?25l[11;29r[11;1H[L[1;30r[30;75H[K[30;75H22,1[11C1%[11;1H[34h[?25h[?25l[10;29r[29;1H
[1;30r[10;1H[1m[34m#define NOTFOUND [0m[1m[35m127[0m[1m[34m [0m[1m[36m/* Returned when command not found (used by bash as well) */[0m[29;1H[1m[32mextern[0m [1m[32mchar[0m **environ;      [1m[36m/* defined in libc */[0m[30;75H[K[30;75H21,82[10C1%[10;82H[34h[?25h[?25l[30;79H1[10;81H[34h[?25h[?25l[30;79H0[10;80H[34h[?25h[?25l[10;57H[1m[36m[46m([20C)[0m[30;78H79[10;79H[34h[?25h[?25l[30;79H8[10;78H[34h[?25h[?25l[10;57H[1m[36m([20C)[0m[30;79H7[10;77H[34h[?25h[?25l[30;79H6[10;76H[34h[?25h[?25l[30;79H5[10;75H[34h[?25h[?25l[30;79H4[10;74H[34h[?25h[?25l[30;79H3[10;73H[34h[?25h[?25l[30;79H2[10;72H[34h[?25h[?25l[30;79H1[10;71H[34h[?25h[?25l[30;79H0[10;70H[34h[?25h[?25l[30;78H69[10;69H[34h[?25h[?25l[30;79H8[10;68H[34h[?25h[?25l[30;79H7[10;67H[34h[?25h[?25l[30;79H6[10;66H[34h[?25h[?25l[30;79H5[10;65H[34h[?25h[?25l[30;79H4[10;64H[34h[?25h[?25l[30;79H3[10;63H[34h[?25h[?25l[30;79H2[10;62H[34h[?25h[?25l[30;79H1[10;61H[34h[?25h[?25l[30;79H0[10;60H[34h[?25h[?25l[30;78H59[10;59H[34h[?25h[?25l[1m[36m[46m([20C)[0m[30;79H8[10;58H[34h[?25h[?25l[1m[36m[46m([0m[1m[36m1used by bash as wel[0m[1m[36m[46ml[0m[1m[36m) */[10;57H([20Cl[0m[30;79H9[10;59H[34h[?25h[?25l[1m[36m12used by bash as well) */[0m[30;78H60[10;60H[34h[?25h[?25l[1m[36m27used by bash as well) */[0m[30;79H1[10;61H[34h[?25h[?25l[1m[36m7 used by bash as well) */[0m[30;79H2[10;62H[34h[?25h[?25l[1m[36m iused by bash as well) */[0m[30;79H3[10;63H[34h[?25h[?25l[1m[36misused by bash as well) */[0m[30;79H4[10;64H[34h[?25h[?25l[1m[36ms used by bash as well) */[0m[30;79H5[10;65H[34h[?25h[?25l[30;78H89[10;89H[34h[?25h[?25l[11;29r[11;1H[L[1;30r[30;75H[K[30;75H22,1[11C1%[11;1H[34h[?25h[?25l[10;29r[29;1H
[1;30r[10;1H[1m[34m#define NOTFOUND [0m[1m[35m127[0m[1m[34m [0m[1m[36m/* Returned when command not found (127 is used by bash as well) */[0m[29;1H[1m[32mextern[0m [1m[32mchar[0m **environ;      [1m[36m/* defined in libc */[0m[30;75H[K[30;75H21,89[10C1%[10;89H[34h[?25h[?25l[30;76H2,1 [11;1H[34h[?25h[?25l[30;76H3,17[12;17H[34h[?25h[?25l[30;76H4,32[13;32H[34h[?25h[?25l[30;76H5,44[14;44H[34h[?25h[?25l[30;76H6[15;44H[34h[?25h[?25l[30;76H7,30[16;30H[34h[?25h[?25l[30;76H8,1 [17;1H[34h[?25h[?25l[30;76H9,4[18;4H[34h[?25h[?25l[19;54H[1m[36m[46m([7C)[0m[30;75H30,63[19;63H[34h[?25h[?25l[19;54H[1m[36m([7C)[0m[30;76H1,47[20;47H[34h[?25h[?25l[30;76H2,26[21;26H[34h[?25h[?25l[30;76H3,30[22;30H[34h[?25h[?25l[30;76H4[23;30H[34h[?25h[?25l[30;76H5[24;30H[34h[?25h[?25l[30;76H6,41[25;41H[34h[?25h[?25l[30;76H7,4 [26;4H[34h[?25h[?25l[30;76H8,1[27;1H[34h[?25h[?25l[30;76H9,23[28;23H[34h[?25h[?25l[30;75H40,50[29;50H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mchar[0m prompt[] = [1m[35m"tsh> "[0m;    [1m[36m/* command line prompt (DO NOT CHANGE) */[0m[30;75H[K[30;75H41,70[10C2%[29;70H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m verbose = [1m[35m0[0m;[11C [1m[36m/* if true, print additional output */[0m[30;75H[K[30;75H42,67[10C2%[29;67H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m nextjid = [1m[35m1[0m;[11C [1m[36m/* next job ID to allocate */[0m[30;75H[K[30;75H43,58[10C2%[29;58H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mchar[0m sbuf[MAXLINE];[8C [1m[36m/* for composing sprintf messages */[0m[30;75H[K[30;75H44,65[10C2%[29;65H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H45,1[11C2%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t {[13C [1m[36m/* The job struct */[0m[30;75H[K[30;75H46,49[10C3%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid;[13C [1m[36m/* job PID */[0m[30;75H[K[30;75H47,42[10C3%[29;42H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m jid;[15C [1m[36m/* job ID [1, 2, ...] */[0m[30;75H[K[30;75H48,53[10C3%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m state;[13C [1m[36m/* UNDEF, BG, FG, or ST */[0m[30;75H[K[30;75H49,55[10C3%[29;55H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m cmdline[MAXLINE];  [1m[36m/* command line */[0m[30;75H[K[30;75H50,47[10C3%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H};[30;75H[K[30;75H51,3[11C3%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t jobs[MAXJOBS]; [1m[36m/* The job list */[0m[30;75H[K[30;75H52,47[10C4%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* End global variables */[0m[30;75H[K[30;75H53,27[10C4%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H54,1[11C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H55,1[11C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Function prototypes */[0m[30;75H[K[30;75H56,26[10C4%[29;26H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H57,1[11C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Here are the functions that you will implement */[0m[30;75H[K[30;75H58,53[10C5%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline);[30;75H[K[30;75H59,26[10C5%[29;26H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv);[30;75H[K[30;75H60,30[10C5%[29;30H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);[30;75H[K[30;75H61,27[10C5%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m waitfg(pid_t pid);[30;75H[K[30;75H62,24[10C5%[29;24H[34h[?25h[?25l[30;76H1,27[28;27H[34h[?25h[?25l[30;76H0,30[27;30H[34h[?25h[?25l[30;75H59,26[26;26H[34h[?25h[?25l[30;76H8,53[25;53H[34h[?25h[?25l[30;76H7,1 [24;1H[34h[?25h[?25l[30;76H6,26[23;26H[34h[?25h[?25l[30;76H5,1 [22;1H[34h[?25h[?25l[30;76H4[21;1H[34h[?25h[?25l[30;76H3,27[20;27H[34h[?25h[?25l[30;76H2,4[19;47H[34h[?25h[?25l[30;76H1,3 [18;3H[34h[?25h[?25l[30;76H0,47[17;47H[34h[?25h[?25l[30;75H49,55[16;55H[34h[?25h[?25l[30;76H8,53[15;53H[34h[?25h[?25l[30;76H7,42[14;42H[34h[?25h[?25l[30;76H6,49[13;49H[34h[?25h[?25l[30;76H5,1 [12;1H[34h[?25h[?25l[30;76H4,65[11;65H[34h[?25h[?25l[30;76H5,1 [12;1H[34h[?25h[?25l[30;76H6,49[13;49H[34h[?25h[?25l[30;76H7,42[14;42H[34h[?25h[?25l[30;76H8,53[15;53H[34h[?25h[?25l[30;76H9,55[16;55H[34h[?25h[?25l[30;75H50,47[17;47H[34h[?25h[?25l[30;76H1,3 [18;3H[34h[?25h[?25l[30;76H2,47[19;47H[34h[?25h[?25l[20;29r[20;1H[L[1;30r[30;75H[K[30;75H53,1[11C5%[20;1H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[30;75H[K[30;75H54,1[11C5%[21;1H[34h[?25h[?25ls[30;78H2[21;2H[34h[?25h[?25lsi[30;78H3[21;3H[34h[?25h[?25lig[30;78H4[21;4H[34h[?25h[?25lgs[30;78H5[21;5H[34h[?25h[?25lse[30;78H6[21;6H[34h[?25h[?25let[30;78H7[21;7H[34h[?25h[?25lt[1m[37m[41m)[0m[30;78H8[21;8H[34h[?25h[?25l[21;7H[K[30;78H7[21;7H[34h[?25h[?25lt_[30;78H8[21;8H[34h[?25h[?25l_t[30;78H9[21;9H[34h[?25h[?25l[30;76H3,1[20;1H[34h[?25h[?25l[30;76H4,9[21;9H[34h[?25h[?25l[30;78H10[21;10H[34h[?25h[?25l o[30;79H1[21;11H[34h[?25h[?25lol[30;79H2[21;12H[34h[?25h[?25lld[30;79H3[21;13H[34h[?25h[?25ld_[30;79H4[21;14H[34h[?25h[?25l_s[30;79H5[21;15H[34h[?25h[?25lse[30;79H6[21;16H[34h[?25h[?25let[30;79H7[21;17H[34h[?25h[?25lt,[30;79H8[21;18H[34h[?25h[?25l[30;79H9[21;19H[34h[?25h[?25l n[30;78H20[21;20H[34h[?25h[?25lne[30;79H1[21;21H[34h[?25h[?25lew[30;79H2[21;22H[34h[?25h[?25lw_[30;79H3[21;23H[34h[?25h[?25l_s[30;79H4[21;24H[34h[?25h[?25lse[30;79H5[21;25H[34h[?25h[?25let[30;79H6[21;26H[34h[?25h[?25lt;[30;79H7[21;27H[34h[?25h[?25l[30;76H7,1 [24;1H[34h[?25h[?25l[30;75H60,27[27;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);[30;75H[K[30;75H63,27[10C6%[29;27H[34h[?25h[?25l[30;76H0[26;27H[34h[?25h[?25l[30;76H3[29;27H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[32mvoid[0m waitfg(pid_t pid);

[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig);[30;75H[K[30;75H66,27[10C6%[29;27H[34h[?25h[?25l[30;76H3[26;27H[34h[?25h[?25l[30;76H2[25;27H[34h[?25h[?25l[30;76H1,26[24;26H[34h[?25h[?25l[30;76H0,27[23;27H[34h[?25h[?25l[30;75H59,1 [22;1H[34h[?25h[?25l[30;76H8,26[21;26H[34h[?25h[?25l[30;76H7,1 [20;1H[34h[?25h[?25l[30;76H6[19;1H[34h[?25h[?25l[30;76H5,27[18;27H[34h[?25h[?25l[30;76H4[17;27H[34h[?25h[?25l[17;26H[K[30;79H6[17;26H[34h[?25h[?25l[17;25H[K[30;79H5[17;25H[34h[?25h[?25l[17;24H[K[30;79H4[17;24H[34h[?25h[?25l[17;23H[K[30;79H3[17;23H[34h[?25h[?25l[17;22H[K[30;79H2[17;22H[34h[?25h[?25l[17;21H[K[30;79H1[17;21H[34h[?25h[?25l[17;20H[K[30;79H0[17;20H[34h[?25h[?25l[17;19H[K[30;78H19[17;19H[34h[?25h[?25l[30;79H8[17;18H[34h[?25h[?25l[17;17H[K[30;79H7[17;17H[34h[?25h[?25l[17;16H[K[30;79H6[17;16H[34h[?25h[?25l[17;15H[K[30;79H5[17;15H[34h[?25h[?25l[17;14H[K[30;79H4[17;14H[34h[?25h[?25l[17;13H[K[30;79H3[17;13H[34h[?25h[?25l[17;12H[K[30;79H2[17;12H[34h[?25h[?25l[17;11H[K[30;79H1[17;11H[34h[?25h[?25l[17;10H[K[30;79H0[17;10H[34h[?25h[?25l[30;78H9 [17;9H[34h[?25h[?25l[17;8H[K[30;78H8[17;8H[34h[?25h[?25l[17;7H[K[30;78H7[17;7H[34h[?25h[?25l[17;6H[K[30;78H6[17;6H[34h[?25h[?25l[17;5H[K[30;78H5[17;5H[34h[?25h[?25l[17;4H[K[30;78H4[17;4H[34h[?25h[?25l[17;3H[K[30;78H3[17;3H[34h[?25h[?25l[17;2H[K[30;78H2[17;2H[34h[?25h[?25l[17;1H[K[30;78H1[17;1H[34h[?25h[?25l[16;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig);[30;75H[K[30;75H53,1[11C6%[16;1H[34h[?25h[?25l[15;29r[29;1H
[1;30r[15;1H[1m[32mstruct[0m job_t jobs[MAXJOBS]; [1m[36m/* The job list */[0m[29;1H[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig);[30;75H[K[30;75H52,47[10C6%[15;47H[34h[?25h[?25l[30;76H3,2[16;27H[34h[?25h[?25l[30;76H4,1 [17;1H[34h[?25h[?25l[30;76H5[18;1H[34h[?25h[?25l[30;76H6,26[19;26H[34h[?25h[?25l[30;76H7,1 [20;1H[34h[?25h[?25l[30;76H8,47[21;47H[34h[?25h[?25l[30;76H9,26[22;26H[34h[?25h[?25l[30;75H60,30[23;30H[34h[?25h[?25l[30;76H1,27[24;27H[34h[?25h[?25l[30;76H2,24[25;24H[34h[?25h[?25l[30;76H3,1 [26;1H[34h[?25h[?25l[30;76H4,31[27;31H[34h[?25h[?25l[30;76H5[28;31H[34h[?25h[?25l[30;76H6,30[29;30H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H67,1[11C6%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Here are helper routines that we've provided for you */[0m[30;75H[K[30;75H68,47[10C6%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv);[30;75H[K[30;75H69,47[10C7%[29;14H[46m([32C)[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigquit_handler([1m[32mint[0m sig);[30;75H[K[30;75H70,31[10C7%[28;14H([32C)[29;31H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H71,1[11C7%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job);[30;75H[K[30;75H72,34[10C7%[29;34H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H73,35[10C7%[29;35H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H74,33[10C7%[29;33H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline);[30;75H[K[30;75H75,47[10C8%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid);[30;75H[K[30;75H76,47[10C8%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1Hpid_t fgpid([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H77,33[10C8%[29;33H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);[30;75H[K[30;75H78,47[10C8%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);[30;75H[K[30;75H79,47[10C8%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m pid2jid(pid_t pid);[30;75H[K[30;75H80,25[10C9%[29;25H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H81,35[10C9%[29;35H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H82,1[11C9%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m usage([1m[32mvoid[0m);[30;75H[K[30;75H83,18[10C9%[29;18H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m unix_error([1m[32mchar[0m *msg);[30;75H[K[30;75H84,28[10C9%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m app_error([1m[32mchar[0m *msg);[30;75H[K[30;75H85,27[10C9%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mtypedef[0m [1m[32mvoid[0m handler_t([1m[32mint[0m);[30;75H[K[30;75H86,29[9C10%[29;29H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1Hhandler_t *Signal([1m[32mint[0m signum, handler_t *handler);[30;75H[K[30;75H87,47[9C10%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H88,1[10C10%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/*[0m[30;75H[K[30;75H89,3[10C10%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * main - The shell's main routine [0m[30;75H[K[30;75H90,36[9C10%[29;36H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H91,4[10C10%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m main([1m[32mint[0m argc, [1m[32mchar[0m **argv)[30;75H[K[30;75H92,33[9C11%[29;33H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H{[30;75H[K[30;75H93,2[10C11%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m c;[30;75H[K[30;75H94,12[9C11%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m cmdline[MAXLINE];[30;75H[K[30;75H95,27[9C11%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m emit_prompt = [1m[35m1[0m; [1m[36m/* emit prompt (default) */[0m[30;75H[K[30;75H96,47[9C11%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H97,1[10C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Redirect stderr to stdout (so that driver will get all output[0m[30;75H[K[30;75H98,47[9C12%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m     * on the pipe connected to stdout) */[0m[30;75H[K[30;75H99,43[9C12%[29;43H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H dup2([1m[35m1[0m, [1m[35m2[0m);[30;75H[K[30;75H100,16[8C12%[29;16H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H101,1[9C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Parse the command line */[0m[30;75H[K[30;75H102,33[8C12%[29;33H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m ((c = getopt(argc, argv, [1m[35m"hvp"[0m)) != [1m[35mEOF[0m) {[30;75H[K[30;75H103,47[8C13%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mswitch[0m (c) {[30;75H[K[30;75H104,21[8C13%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'h'[0m:[12C [1m[36m/* print help message */[0m[30;75H[K[30;75H105,47[8C13%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H usage();[30;75H[K[30;75H106,21[8C13%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H107,12-15     13%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'v'[0m:[12C [1m[36m/* emit additional diagnostic info */[0m[30;75H[K[30;75H108,47[8C14%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H verbose = [1m[35m1[0m;[30;75H[K[30;75H109,25[8C14%[29;25H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H110,12-15     14%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'p'[0m:[12C [1m[36m/* don't print a prompt */[0m[30;75H[K[30;75H111,47[8C14%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H emit_prompt = [1m[35m0[0m;  [1m[36m/* handy for automatic testing */[0m[30;75H[K[30;75H112,47[8C14%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H113,12-15     14%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mdefault[0m:[30;75H[K[30;75H114,10-13     15%[29;13H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H usage();[30;75H[K[30;75H115,21[8C15%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H116,3-6[7C15%[17;20H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H }[30;75H[K[30;75H117,6[9C15%[15;52H[46m{[0m[16;20H{[28;5H}
    [46m}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H118,1[9C15%[14;52H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Install the signal handlers */[0m[30;75H[K[30;75H119,38[8C15%[29;38H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H120,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* These are the ones you will need to implement */[0m[30;75H[K[30;75H121,47[8C16%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGINT[0m,  sigint_handler);   [1m[36m/* ctrl-c */[0m[30;75H[K[30;75H122,47[8C16%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGTSTP[0m, sigtstp_handler);  [1m[36m/* ctrl-z */[0m[30;75H[K[30;75H123,47[8C16%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGCHLD[0m, sigchld_handler);  [1m[36m/* Terminated or stopped child */[0m[30;75H[K[30;75H124,47[8C16%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H125,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* This one provides a clean way to kill the shell */[0m[30;75H[K[30;75H126,47[8C17%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGQUIT[0m, sigquit_handler);[30;75H[K[30;75H127,39[8C17%[29;39H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H128,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Initialize the job list */[0m[30;75H[K[30;75H129,34[8C17%[29;34H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H initjobs(jobs);[30;75H[K[30;75H130,20[8C17%[29;20H[34h[?25h[?25l[23m[24m[0m[H[J[1;4H [1m[36m/* Initialize the job list */[0m
    initjobs(jobs);[4;4H [1m[36m/* Execute the shell's read/eval loop */[0m
    [1m[33mwhile[0m ([1m[35m1[0m) {[7;6H [1m[36m/* Read command line */[0m[8;6H [1m[33mif[0m (emit_prompt) {[9;10H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m"[0m, prompt);[10;10H fflush([1m[35mstdout[0m);[11;6H }[12;6H [1m[33mif[0m ((fgets(cmdline, MAXLINE, [1m[35mstdin[0m) == [1m[35mNULL[0m) && ferror([1m[35mstdin[0m))[13;10H app_error([1m[35m"fgets error"[0m);[14;6H [1m[33mif[0m (feof([1m[35mstdin[0m)) { [1m[36m/* End of file (ctrl-d) */[0m[15;10H fflush([1m[35mstdout[0m);[16;10H exit([1m[35m0[0m);[17;6H }[19;6H [1m[36m/* Evaluate the command line */[0m[20;6H eval(cmdline);[21;6H fflush([1m[35mstdout[0m);[22;6H fflush([1m[35mstdout[0m);
    }[25;4H exit([1m[35m0[0m); [1m[36m/* control never reaches here */[0m
}

[1m[36m/* 
 * eval - Evaluate the command line that the user has just typed in[0m
[1m-- INSERT --[0m[62C129,5[9C22%[1;5H[34h[?25h[?25l[23m[24m[0m[H[J[1;1H[1m[36m/* 
 * eval - Evaluate the command line that the user has just typed in
 * 
 * If the user has requested a built-in command (quit, jobs, bg or fg)
 * then execute it immediately. Otherwise, fork a child process and
 * run the job in the context of the child. If the job is running in
 * the foreground, wait for it to terminate and then return.  Note:
 * each child process must have a unique process group ID so that our
 * background children don't receive SIGINT (SIGTSTP) from the kernel
 * when we type ctrl-c (ctrl-z) at the keyboard.  
*/[0m
[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {
    pid_t pid;
    [1m[32mchar[0m *argv[MAXARGS];
    [1m[32mint[0m bg = parseline(cmdline, argv);
    [1m[32mstruct[0m job_t *job;[18;4H [1m[36m// Check for built in command[0m
    [1m[33mif[0m (builtin_cmd(argv)) [1m[33mreturn[0m;[21;4H [1m[36m// Fork and Exec in child process[0m
    pid = fork();
    [1m[33mif[0m (pid == [1m[35m0[0m) {[24;8H execvp(argv[[1m[35m0[0m], argv);[25;8H exit(NOTFOUND); [1m[36m// Do not continue[0m
    }[28;4H [1m[36m// Shell waits or prints background job info[0m
    addjob(jobs, pid, bg ? BG : FG, cmdline);
[1m-- INSERT --[0m[62C156,1[9C27%[1;1H[34h[?25h[?25l[30;77H7[2;1H[34h[?25h[?25l[30;77H8[3;1H[34h[?25h[?25l[30;77H9[4;1H[34h[?25h[?25l[30;76H60[5;1H[34h[?25h[?25l[30;77H1[6;1H[34h[?25h[?25l[30;77H2[7;1H[34h[?25h[?25l[30;77H3[8;1H[34h[?25h[?25l[30;77H4[9;1H[34h[?25h[?25l[30;77H5[10;1H[34h[?25h[?25l[30;77H6[11;1H[34h[?25h[?25l[30;77H7[12;1H[34h[?25h[?25l[30;77H8[13;1H[34h[?25h[?25l[30;77H9[14;1H[34h[?25h[?25l[30;76H70[15;1H[34h[?25h[?25l[30;77H1[16;1H[34h[?25h[?25l[30;77H2[17;1H[34h[?25h[?25l[30;77H3[18;1H[34h[?25h[?25l[30;77H4[19;1H[34h[?25h[?25l[30;77H5[20;1H[34h[?25h[?25l[30;77H6[21;1H[34h[?25h[?25l[30;77H7[22;1H[34h[?25h[?25l[30;77H8[23;1H[34h[?25h[?25l[30;77H9[24;1H[34h[?25h[?25l[30;76H80[25;1H[34h[?25h[?25l[30;77H1[26;1H[34h[?25h[?25l[30;77H2[27;1H[34h[?25h[?25l[30;77H3[28;1H[34h[?25h[?25l[30;77H4[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m(bg) {[30;75H[K[30;75H185,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Print background job info[0m[30;75H[K[30;75H186,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H187,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H188,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H189,1[9C28%[29;1H[34h[?25h[?25l[30;77H8[28;1H[34h[?25h[?25l[30;77H7[27;1H[34h[?25h[?25l[30;77H6[26;1H[34h[?25h[?25l[30;77H5[25;1H[34h[?25h[?25l[30;77H4[24;1H[34h[?25h[?25l[30;77H3[23;1H[34h[?25h[?25l[30;77H2[22;1H[34h[?25h[?25l[30;77H1[21;1H[34h[?25h[?25l[30;77H0[20;1H[34h[?25h[?25l[30;76H79[19;1H[34h[?25h[?25l[30;77H8[18;1H[34h[?25h[?25l[30;77H7[17;1H[34h[?25h[?25l[30;77H6[16;1H[34h[?25h[?25l[30;77H5[15;1H[34h[?25h[?25l[30;77H4[14;1H[34h[?25h[?25l[30;77H3[13;1H[34h[?25h[?25l[30;77H2[12;1H[34h[?25h[?25l[30;77H3[13;1H[34h[?25h[?25l[30;77H4[14;1H[34h[?25h[?25l[30;77H5[15;1H[34h[?25h[?25l[30;77H6[16;1H[34h[?25h[?25l[30;79H38[16;38H[34h[?25h[?25l[1m[36msi[0m[30;80H9[16;39H[34h[?25h[?25l[17;29r[17;1H[L[1;30r[17;4H [1m[36m// [0m[30;75H[K[30;75H177,8[9C28%[17;8H[34h[?25h[?25l[17;7H[K[30;79H7[17;7H[34h[?25h[?25l/[17;6H[K[30;79H6[17;6H[34h[?25h[?25l[17;5H[K[30;79H5[17;5H[34h[?25h[?25l[30;79H4[17;4H[34h[?25h[?25l[30;79H3[17;3H[34h[?25h[?25l[30;79H2[17;2H[34h[?25h[?25l[30;79H1[17;1H[34h[?25h[?25l[16;29r[29;1H
[1;30r[16;4H [1m[36m// Fork and Exec in child processi[0m[29;4H } [1m[33melse[0m {[30;75H[K[30;75H176,39[8C28%[16;39H[34h[?25h[?25l[16;38H[K[30;80H8[16;38H[34h[?25h[?25l[17;29r[17;1H[L[1;30r[17;4H [1m[36m// [0m[30;75H[K[30;75H177,8[9C28%[17;8H[34h[?25h[?25l[18;29r[18;1H[L[1;30r[17;7H[K[18;4H [1m[36m// [0m[30;75H[K[30;75H178,8[9C28%[18;8H[34h[?25h[?25l[18;7H[K[30;79H7[18;7H[34h[?25h[?25l/[18;6H[K[30;79H6[18;6H[34h[?25h[?25l[18;5H[K[30;79H5[18;5H[34h[?25h[?25l[30;79H4[18;4H[34h[?25h[?25l[30;79H3[18;3H[34h[?25h[?25l[30;79H2[18;2H[34h[?25h[?25l[30;79H1[18;1H[34h[?25h[?25l[17;29r[29;1H
[1;30r[17;4H [1m[36m//[0m[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H177,7[9C28%[17;7H[34h[?25h[?25l/[17;6H[K[30;79H6[17;6H[34h[?25h[?25l[17;5H[K[30;79H5[17;5H[34h[?25h[?25l s[30;79H6[17;6H[34h[?25h[?25lsi[30;79H7[17;7H[34h[?25h[?25lig[30;79H8[17;8H[34h[?25h[?25lgp[30;79H9[17;9H[34h[?25h[?25lpr[30;79H10[17;10H[34h[?25h[?25lro[30;80H1[17;11H[34h[?25h[?25loc[30;80H2[17;12H[34h[?25h[?25lcm[30;80H3[17;13H[34h[?25h[?25lma[30;80H4[17;14H[34h[?25h[?25las[30;80H5[17;15H[34h[?25h[?25lsk[30;80H6[17;16H[34h[?25h[?25lk([19;19H[1m[37m[41m{[22;5H}[26;12H{[0m[30;80H7[17;17H[34h[?25h[?25l(S[30;80H8[17;18H[34h[?25h[?25lSI[30;80H9[17;19H[34h[?25h[?25lIG[30;79H20[17;20H[34h[?25h[?25lG_[30;80H1[17;21H[34h[?25h[?25l_B[30;80H2[17;22H[34h[?25h[?25lBL[30;80H3[17;23H[34h[?25h[?25lLO[30;80H4[17;24H[34h[?25h[?25lOC[30;80H5[17;25H[34h[?25h[?25lCK[30;80H6[17;26H[34h[?25h[?25lK,[30;80H7[17;27H[34h[?25h[?25l[30;77H6[16;27H[34h[?25h[?25l[30;79H38[16;38H[34h[?25h[?25l[17;29r[17;1H[L[1;30r[17;4H [1m[36m// [0m[30;75H[K[30;75H177,8[9C28%[17;8H[34h[?25h[?25l[17;7H[K[30;79H7[17;7H[34h[?25h[?25l/[17;6H[K[30;79H6[17;6H[34h[?25h[?25l[17;5H[K[30;79H5[17;5H[34h[?25h[?25l s[30;79H6[17;6H[34h[?25h[?25lsi[30;79H7[17;7H[34h[?25h[?25lig[30;79H8[17;8H[34h[?25h[?25lgs[30;79H9[17;9H[34h[?25h[?25lse[30;79H10[17;10H[34h[?25h[?25let[30;80H1[17;11H[34h[?25h[?25lt_[30;80H2[17;12H[34h[?25h[?25l_t[30;80H3[17;13H[34h[?25h[?25l[30;80H4[17;14H[34h[?25h[?25l s[30;80H5[17;15H[34h[?25h[?25lsi[30;80H6[17;16H[34h[?25h[?25lin[30;80H7[17;17H[34h[?25h[?25lng[30;80H8[17;18H[34h[?25h[?25lga[30;80H9[17;19H[34h[?25h[?25lal[30;79H20[17;20H[34h[?25h[?25l[17;19H[K[30;79H19[17;19H[34h[?25h[?25l[17;18H[K[30;80H8[17;18H[34h[?25h[?25l[17;17H[K[30;80H7[17;17H[34h[?25h[?25l[17;16H[K[30;80H6[17;16H[34h[?25h[?25l[17;15H[K[30;80H5[17;15H[34h[?25h[?25l[17;14H[K[30;80H4[17;14H[34h[?25h[?25l s[30;80H5[17;15H[34h[?25h[?25lsi[30;80H6[17;16H[34h[?25h[?25lig[30;80H7[17;17H[34h[?25h[?25lgc[30;80H8[17;18H[34h[?25h[?25lch[30;80H9[17;19H[34h[?25h[?25lhl[30;79H20[17;20H[34h[?25h[?25lld[30;80H1[17;21H[34h[?25h[?25lds[30;80H2[17;22H[34h[?25h[?25lse[30;80H3[17;23H[34h[?25h[?25let[30;80H4[17;24H[34h[?25h[?25lt;[30;80H5[17;25H[34h[?25h[?25l[18;29r[18;1H[L[1;30r[30;75H[K[30;75H178,5[9C28%[18;5H[34h[?25h[?25l s[30;79H6[18;6H[34h[?25h[?25lsi[30;79H7[18;7H[34h[?25h[?25lig[30;79H8[18;8H[34h[?25h[?25lge[30;79H9[18;9H[34h[?25h[?25lem[30;79H10[18;10H[34h[?25h[?25lmp[30;80H1[18;11H[34h[?25h[?25lpt[30;80H2[18;12H[34h[?25h[?25lty[30;80H3[18;13H[34h[?25h[?25lys[30;80H4[18;14H[34h[?25h[?25lse[30;80H5[18;15H[34h[?25h[?25let[30;80H6[18;16H[34h[?25h[?25lt([30;80H7[18;17H[34h[?25h[?25l($[30;80H8[18;18H[34h[?25h[?25l[18;17H[K[30;80H7[18;17H[34h[?25h[?25l(&[30;80H8[18;18H[34h[?25h[?25l&s[30;80H9[18;19H[34h[?25h[?25lsi[30;79H20[18;20H[34h[?25h[?25lig[30;80H1[18;21H[34h[?25h[?25lgc[30;80H2[18;22H[34h[?25h[?25lch[30;80H3[18;23H[34h[?25h[?25lhl[30;80H4[18;24H[34h[?25h[?25lld[30;80H5[18;25H[34h[?25h[?25lds[30;80H6[18;26H[34h[?25h[?25lse[30;80H7[18;27H[34h[?25h[?25let[30;80H8[18;28H[34h[?25h[?25lt)[18;16H[46m([11C)[0m[30;80H9[18;29H[34h[?25h[?25l[46m)[0m;[18;16H([11C)[30;79H30[18;30H[34h[?25h[?25l[19;29r[19;1H[L[1;30r[30;75H[K[30;75H179,5[9C28%[19;5H[34h[?25h[?25l[20;29r[20;1H[L[1;30r[30;75H[K[30;75H180,5[9C28%[20;5H[34h[?25h[?25l[30;76H79,1[19;1H[34h[?25h[?25l[30;77H8,5[18;5H[34h[?25h[?25l[30;77H9,1[19;1H[34h[?25h[?25l[30;79H5[19;5H[34h[?25h[?25l s[30;79H6[19;6H[34h[?25h[?25lsi[30;79H7[19;7H[34h[?25h[?25lif[30;79H8[19;8H[34h[?25h[?25l[19;7H[K[30;79H7[19;7H[34h[?25h[?25lig[30;79H8[19;8H[34h[?25h[?25lga[30;79H9[19;9H[34h[?25h[?25lad[30;79H10[19;10H[34h[?25h[?25ldd[30;80H1[19;11H[34h[?25h[?25lds[30;80H2[19;12H[34h[?25h[?25lse[30;80H3[19;13H[34h[?25h[?25let[30;80H4[19;14H[34h[?25h[?25lt([30;80H5[19;15H[34h[?25h[?25l($[30;80H6[19;16H[34h[?25h[?25l[19;15H[K[30;80H5[19;15H[34h[?25h[?25l(&[30;80H6[19;16H[34h[?25h[?25l&s[30;80H7[19;17H[34h[?25h[?25lsi[30;80H8[19;18H[34h[?25h[?25lig[30;80H9[19;19H[34h[?25h[?25lgc[30;79H20[19;20H[34h[?25h[?25lch[30;80H1[19;21H[34h[?25h[?25lhl[30;80H2[19;22H[34h[?25h[?25lld[30;80H3[19;23H[34h[?25h[?25lds[30;80H4[19;24H[34h[?25h[?25lse[30;80H5[19;25H[34h[?25h[?25let[30;80H6[19;26H[34h[?25h[?25lt)[19;14H[46m([11C)[0m[30;80H7[19;27H[34h[?25h[?25l[19;26H[K[19;14H([30;80H6[19;26H[34h[?25h[?25lt,[30;80H7[19;27H[34h[?25h[?25l[30;80H8[19;28H[34h[?25h[?25l S[30;80H9[19;29H[34h[?25h[?25lSI[30;79H30[19;30H[34h[?25h[?25lIG[30;80H1[19;31H[34h[?25h[?25lGC[30;80H2[19;32H[34h[?25h[?25lCH[30;80H3[19;33H[34h[?25h[?25lHL[30;80H4[19;34H[34h[?25h[?25l[1m[35mSIGCHLD[0m[30;80H5[19;35H[34h[?25h[?25l[1m[35mD[0m)[19;14H[46m([20C)[0m[30;80H6[19;36H[34h[?25h[?25l[46m)[0m;[19;14H([20C)[30;80H7[19;37H[34h[?25h[?25l[19;14H[46m([20C)[0m[30;80H6[19;36H[34h[?25h[?25l[30;80H5[19;35H[34h[?25h[?25l[19;14H([20C)[30;77H8,30[18;30H[34h[?25h[?25l[19;14H[46m([20C)[0m[30;77H9,35[19;35H[34h[?25h[?25l[19;14H([20C)[30;80H4[19;34H[34h[?25h[?25l[30;80H3[19;33H[34h[?25h[?25l[30;80H2[19;32H[34h[?25h[?25l[30;80H1[19;31H[34h[?25h[?25l[30;80H0[19;30H[34h[?25h[?25l[30;79H29[19;29H[34h[?25h[?25l[30;80H8[19;28H[34h[?25h[?25l[30;80H7[19;27H[34h[?25h[?25l[30;80H8[19;28H[34h[?25h[?25l[18;16H[46m([11C)[0m[30;77H8[18;28H[34h[?25h[?25l[30;80H9[18;29H[34h[?25h[?25l[18;16H([11C)[30;79H30[18;30H[34h[?25h[?25l[30;80H1[18;31H[34h[?25h[?25l C[30;80H2[18;32H[34h[?25h[?25lCA[30;80H3[18;33H[34h[?25h[?25lAP[30;80H4[18;34H[34h[?25h[?25lPS[30;80H5[18;35H[34h[?25h[?25lSL[30;80H6[18;36H[34h[?25h[?25lLO[30;80H7[18;37H[34h[?25h[?25lOC[30;80H8[18;38H[34h[?25h[?25lCK[30;80H9[18;39H[34h[?25h[?25l[18;38H[K[30;80H8[18;38H[34h[?25h[?25l[18;37H[K[30;80H7[18;37H[34h[?25h[?25l[18;36H[K[30;80H6[18;36H[34h[?25h[?25l[18;35H[K[30;80H5[18;35H[34h[?25h[?25l[18;34H[K[30;80H4[18;34H[34h[?25h[?25l[18;33H[K[30;80H3[18;33H[34h[?25h[?25l[18;32H[K[30;80H2[18;32H[34h[?25h[?25l[18;31H[K[30;80H1[18;31H[34h[?25h[?25l[30;80H0[18;30H[34h[?25h[?25l[30;77H7,25[17;25H[34h[?25h[?25l[30;80H4[17;24H[34h[?25h[?25l[30;80H3[17;23H[34h[?25h[?25l[30;80H2[17;22H[34h[?25h[?25l[30;80H1[17;21H[34h[?25h[?25ld_set;[30;80H2[17;22H[34h[?25h[?25l[30;80H1[17;21H[34h[?25h[?25l[30;80H0[17;20H[34h[?25h[?25l[30;79H19[17;19H[34h[?25h[?25l[30;80H8[17;18H[34h[?25h[?25l[30;80H7[17;17H[34h[?25h[?25lg_chld_set;[30;80H8[17;18H[34h[?25h[?25l_hld_set;[17;26H[K[17;18H[34h[?25h[?25l_ld_set;[17;25H[K[17;18H[34h[?25h[?25l_d_set;[17;24H[K[17;18H[34h[?25h[?25l__set;[17;23H[K[17;18H[34h[?25h[?25l_set;[17;22H[K[17;18H[34h[?25h[?25l_et;[17;21H[K[17;18H[34h[?25h[?25l_t;[17;20H[K[17;18H[34h[?25h[?25l_;[17;19H[K[17;18H[34h[?25h[?25lg;[17;18H[K[30;80H7[17;17H[34h[?25h[?25li;[17;17H[K[30;80H6[17;16H[34h[?25h[?25ls;[17;16H[K[30;80H5[17;15H[34h[?25h[?25l ;[17;15H[K[30;80H4[17;14H[34h[?25h[?25l b;[30;80H5[17;15H[34h[?25h[?25lbl;[30;80H6[17;16H[34h[?25h[?25llo;[30;80H7[17;17H[34h[?25h[?25loc;[30;80H8[17;18H[34h[?25h[?25lck;[30;80H9[17;19H[34h[?25h[?25lk_;[30;79H20[17;20H[34h[?25h[?25l_s;[30;80H1[17;21H[34h[?25h[?25lse;[30;80H2[17;22H[34h[?25h[?25let;[30;80H3[17;23H[34h[?25h[?25l[30;77H8[18;23H[34h[?25h[?25l[30;80H2[18;22H[34h[?25h[?25l[30;77H7[17;22H[34h[?25h[?25l[30;80H1[17;21H[34h[?25h[?25l[30;80H0[17;20H[34h[?25h[?25l[30;79H19[17;19H[34h[?25h[?25lkset;[17;23H[K[17;19H[34h[?25h[?25lket;[17;22H[K[17;19H[34h[?25h[?25lkt;[17;21H[K[17;19H[34h[?25h[?25lk;[17;20H[K[17;19H[34h[?25h[?25lk_;[30;79H20[17;20H[34h[?25h[?25l_s;[30;80H1[17;21H[34h[?25h[?25lsi;[30;80H2[17;22H[34h[?25h[?25lig;[30;80H3[17;23H[34h[?25h[?25lgs;[30;80H4[17;24H[34h[?25h[?25lg;[17;24H[K[30;80H3[17;23H[34h[?25h[?25li;[17;23H[K[30;80H2[17;22H[34h[?25h[?25ls;[17;22H[K[30;80H1[17;21H[34h[?25h[?25l_;[17;21H[K[30;80H0[17;20H[34h[?25h[?25lk;[17;20H[K[30;79H19[17;19H[34h[?25h[?25lc;[17;19H[K[30;80H8[17;18H[34h[?25h[?25lo;[17;18H[K[30;80H7[17;17H[34h[?25h[?25ll;[17;17H[K[30;80H6[17;16H[34h[?25h[?25lb;[17;16H[K[30;80H5[17;15H[34h[?25h[?25l ;[17;15H[K[30;80H4[17;14H[34h[?25h[?25l s;[30;80H5[17;15H[34h[?25h[?25lsi;[30;80H6[17;16H[34h[?25h[?25lig;[30;80H7[17;17H[34h[?25h[?25lg_;[30;80H8[17;18H[34h[?25h[?25l_s;[30;80H9[17;19H[34h[?25h[?25lse;[30;79H20[17;20H[34h[?25h[?25let;[30;80H1[17;21H[34h[?25h[?25l[30;77H8[18;21H[34h[?25h[?25l[30;80H0[18;20H[34h[?25h[?25l[30;79H19[18;19H[34h[?25h[?25l[30;77H7[17;19H[34h[?25h[?25l[30;80H8[17;18H[34h[?25h[?25lgset;[17;21H[K[30;80H7[17;17H[34h[?25h[?25liset;[17;20H[K[30;80H6[17;16H[34h[?25h[?25lsset;[17;19H[K[30;80H5[17;15H[34h[?25h[?25lset;[17;18H[K[30;80H4[17;14H[34h[?25h[?25lsset;[30;80H5[17;15H[34h[?25h[?25lsiset;[30;80H6[17;16H[34h[?25h[?25ligset;[30;80H7[17;17H[34h[?25h[?25lg_set;[30;80H8[17;18H[34h[?25h[?25l_cset;[30;80H9[17;19H[34h[?25h[?25lchset;[30;79H20[17;20H[34h[?25h[?25lhlset;[30;80H1[17;21H[34h[?25h[?25lldset;[30;80H2[17;22H[34h[?25h[?25ld_set;[30;80H3[17;23H[34h[?25h[?25ldset;[17;26H[K[30;80H2[17;22H[34h[?25h[?25ld_set;[30;80H3[17;23H[34h[?25h[?25l[30;80H2[17;22H[34h[?25h[?25l[30;80H1[17;21H[34h[?25h[?25l[30;80H0[17;20H[34h[?25h[?25l[30;79H19[17;19H[34h[?25h[?25l[30;80H8[17;18H[34h[?25h[?25lgchld_set;[17;26H[K[30;80H7[17;17H[34h[?25h[?25l[30;80H8[17;18H[34h[?25h[?25l[30;80H9[17;19H[34h[?25h[?25l[30;79H20[17;20H[34h[?25h[?25l[30;80H1[17;21H[34h[?25h[?25l[30;80H2[17;22H[34h[?25h[?25l[30;80H3[17;23H[34h[?25h[?25l[30;80H2[17;22H[34h[?25h[?25l[30;80H1[17;21H[34h[?25h[?25ldset;[17;25H[K[17;21H[34h[?25h[?25ld_set;[30;80H2[17;22H[34h[?25h[?25l[30;77H8[18;22H[34h[?25h[?25l[30;80H3[18;23H[34h[?25h[?25l[30;80H4[18;24H[34h[?25h[?25l[30;80H5[18;25H[34h[?25h[?25ld_set);[30;80H6[18;26H[34h[?25h[?25l[30;77H9[19;26H[34h[?25h[?25l[30;77H8[18;26H[34h[?25h[?25l[30;80H5[18;25H[34h[?25h[?25l[30;80H4[18;24H[34h[?25h[?25l[30;80H3[18;23H[34h[?25h[?25l[30;80H2[18;22H[34h[?25h[?25l[30;80H1[18;21H[34h[?25h[?25l[30;80H0[18;20H[34h[?25h[?25l[30;79H19[18;19H[34h[?25h[?25l[30;80H8[18;18H[34h[?25h[?25l[30;77H9[19;18H[34h[?25h[?25l[30;80H9[19;19H[34h[?25h[?25l[30;79H20[19;20H[34h[?25h[?25l[30;80H1[19;21H[34h[?25h[?25l[30;80H2[19;22H[34h[?25h[?25l[30;80H3[19;23H[34h[?25h[?25ld_set, [1m[35mSIGCHLD[0m);[30;80H4[19;24H[34h[?25h[?25l[30;79H38[19;38H[34h[?25h[?25l[30;77H8,31[18;31H[34h[?25h[?25l[30;77H7,26[17;26H[34h[?25h[?25l[30;80H9[17;29H[34h[?25h[?25l[30;79H33[17;33H[34h[?25h[?25l[30;80H7[17;37H[34h[?25h[?25l[30;79H41[17;41H[34h[?25h[?25l /[30;80H2[17;42H[34h[?25h[?25l[1m[36m//[0m[30;80H3[17;43H[34h[?25h[?25l[1m[36m [0m[30;80H4[17;44H[34h[?25h[?25l[1m[36m C[0m[30;80H5[17;45H[34h[?25h[?25l[1m[36mCr[0m[30;80H6[17;46H[34h[?25h[?25l[1m[36mre[0m[30;80H7[17;47H[34h[?25h[?25l[1m[36mea[0m[30;80H8[17;48H[34h[?25h[?25l[1m[36mat[0m[30;80H9[17;49H[34h[?25h[?25l[1m[36mte[0m[30;79H50[17;50H[34h[?25h[?25l[1m[36m [0m[30;80H1[17;51H[34h[?25h[?25l[1m[36m n[0m[30;80H2[17;52H[34h[?25h[?25l[1m[36mne[0m[30;80H3[17;53H[34h[?25h[?25l[1m[36mew[0m[30;80H4[17;54H[34h[?25h[?25l[1m[36m [0m[30;80H5[17;55H[34h[?25h[?25l[1m[36m s[0m[30;80H6[17;56H[34h[?25h[?25l[1m[36mse[0m[30;80H7[17;57H[34h[?25h[?25l[1m[36met[0m[30;80H8[17;58H[34h[?25h[?25l[17;57H[K[30;80H7[17;57H[34h[?25h[?25l[1m[36met[0m[30;80H8[17;58H[34h[?25h[?25l[30;77H8,31[18;31H[34h[?25h[?25l[30;80H3[18;33H[34h[?25h[?25l[30;80H7[18;37H[34h[?25h[?25l[30;79H41[18;41H[34h[?25h[?25l[30;80H5[18;45H[34h[?25h[?25l[30;80H4[18;44H[34h[?25h[?25l[30;80H3[18;43H[34h[?25h[?25l[30;80H2[18;42H[34h[?25h[?25l[30;80H1[18;41H[34h[?25h[?25l /[30;80H2[18;42H[34h[?25h[?25l[1m[36m//[0m[30;80H3[18;43H[34h[?25h[?25l[1m[36m [0m[30;80H4[18;44H[34h[?25h[?25l[1m[36m C[0m[30;80H5[18;45H[34h[?25h[?25l[1m[36mC;l[0m[30;80H7[18;47H[34h[?25h[?25l[1m[36mle[0m[30;80H8[18;48H[34h[?25h[?25l[18;47H[K[30;80H7[18;47H[34h[?25h[?25l[18;46H[K[30;80H6[18;46H[34h[?25h[?25l[18;45H[K[30;80H5[18;45H[34h[?25h[?25l[1m[36mCl[0m[30;80H6[18;46H[34h[?25h[?25l[1m[36mle[0m[30;80H7[18;47H[34h[?25h[?25l[1m[36mea[0m[30;80H8[18;48H[34h[?25h[?25l[1m[36mar[0m[30;80H9[18;49H[34h[?25h[?25l[1m[36m [0m[30;79H50[18;50H[34h[?25h[?25l[1m[36m i[0m[30;80H1[18;51H[34h[?25h[?25l[1m[36mit[0m[30;80H2[18;52H[34h[?25h[?25l[19;29r[19;1H[L[1;30r[30;75H[K[30;75H179,5[9C28%[19;5H[34h[?25h[?25l[30;79H4[19;4H[34h[?25h[?25l[30;79H3[19;3H[34h[?25h[?25l[30;79H2[19;2H[34h[?25h[?25l[30;79H1[19;1H[34h[?25h[?25l[18;29r[29;1H
[1;30r[18;4H sigemptyset(&sigchld_set);[9C [1m[36m// Clear it[0m[29;4H addjob(jobs, pid, bg ? BG : FG, cmdline);[30;75H[K[30;75H178,52[8C28%[18;52H[34h[?25h[?25l[30;77H9,38[19;38H[34h[?25h[?25l[30;80H9[19;39H[34h[?25h[?25l[30;79H40[19;40H[34h[?25h[?25l /[30;80H1[19;41H[34h[?25h[?25l[19;40H[K[30;80H0[19;40H[34h[?25h[?25l[30;80H1[19;41H[34h[?25h[?25l /[30;80H2[19;42H[34h[?25h[?25l[1m[36m//[0m[30;80H3[19;43H[34h[?25h[?25l[1m[36m [0m[30;80H4[19;44H[34h[?25h[?25l[1m[36m A[0m[30;80H5[19;45H[34h[?25h[?25l[1m[36mAd[0m[30;80H6[19;46H[34h[?25h[?25l[1m[36mdd[0m[30;80H7[19;47H[34h[?25h[?25l[1m[36m [0m[30;80H8[19;48H[34h[?25h[?25l[1m[36m S[0m[30;80H9[19;49H[34h[?25h[?25l[1m[36mSI[0m[30;79H50[19;50H[34h[?25h[?25l[1m[36mIG[0m[30;80H1[19;51H[34h[?25h[?25l[1m[36mGC[0m[30;80H2[19;52H[34h[?25h[?25l[1m[36mCH[0m[30;80H3[19;53H[34h[?25h[?25l[1m[36mHL[0m[30;80H4[19;54H[34h[?25h[?25l[1m[36mLD[0m[30;80H5[19;55H[34h[?25h[?25l[19;54H[K[30;80H4[19;54H[34h[?25h[?25l[19;53H[K[30;80H3[19;53H[34h[?25h[?25l[19;52H[K[30;80H2[19;52H[34h[?25h[?25l[19;51H[K[30;80H1[19;51H[34h[?25h[?25l[19;50H[K[30;80H0[19;50H[34h[?25h[?25l[19;49H[K[30;79H49[19;49H[34h[?25h[?25l[19;48H[K[30;80H8[19;48H[34h[?25h[?25l[19;47H[K[30;80H7[19;47H[34h[?25h[?25l[19;46H[K[30;80H6[19;46H[34h[?25h[?25l[19;45H[K[30;80H5[19;45H[34h[?25h[?25l[19;44H[K[30;80H4[19;44H[34h[?25h[?25l[19;43H[K[30;80H3[19;43H[34h[?25h[?25l/[19;42H[K[30;80H2[19;42H[34h[?25h[?25l[19;41H[K[30;80H1[19;41H[34h[?25h[?25l[30;80H0[19;40H[34h[?25h[?25l[30;79H39[19;39H[34h[?25h[?25l[30;80H8[19;38H[34h[?25h[?25l[19;37H[K[19;14H[46m([21C)[0m[30;80H7[19;37H[34h[?25h[?25l[19;36H[K[19;14H([30;80H6[19;36H[34h[?25h[?25l[19;29HSIGCHL[19;35H[K[30;80H5[19;35H[34h[?25h[?25l[19;34H[K[30;80H4[19;34H[34h[?25h[?25l[19;33H[K[30;80H3[19;33H[34h[?25h[?25l[19;32H[K[30;80H2[19;32H[34h[?25h[?25l[19;31H[K[30;80H1[19;31H[34h[?25h[?25l[19;30H[K[30;80H0[19;30H[34h[?25h[?25l[19;29H[K[30;79H29[19;29H[34h[?25h[?25l[30;80H8[19;28H[34h[?25h[?25l[19;27H[K[30;80H7[19;27H[34h[?25h[?25l[19;26H[K[30;80H6[19;26H[34h[?25h[?25l[19;25H[K[30;80H5[19;25H[34h[?25h[?25l[19;24H[K[30;80H4[19;24H[34h[?25h[?25l[19;23H[K[30;80H3[19;23H[34h[?25h[?25l[19;22H[K[30;80H2[19;22H[34h[?25h[?25l[19;21H[K[30;80H1[19;21H[34h[?25h[?25l[19;20H[K[30;80H0[19;20H[34h[?25h[?25l[19;19H[K[30;79H19[19;19H[34h[?25h[?25l[19;18H[K[30;80H8[19;18H[34h[?25h[?25l[19;17H[K[30;80H7[19;17H[34h[?25h[?25l[19;16H[K[30;80H6[19;16H[34h[?25h[?25l[19;15H[K[30;80H5[19;15H[34h[?25h[?25l[19;14H[K[30;80H4[19;14H[34h[?25h[?25l[19;13H[K[30;80H3[19;13H[34h[?25h[?25l[19;12H[K[30;80H2[19;12H[34h[?25h[?25l[19;11H[K[30;80H1[19;11H[34h[?25h[?25l[19;10H[K[30;80H0[19;10H[34h[?25h[?25l[19;9H[K[30;79H9 [19;9H[34h[?25h[?25l[19;8H[K[30;79H8[19;8H[34h[?25h[?25l[19;7H[K[30;79H7[19;7H[34h[?25h[?25l[19;6H[K[30;79H6[19;6H[34h[?25h[?25l[19;5H[K[30;79H5[19;5H[34h[?25h[?25l[30;79H4[19;4H[34h[?25h[?25l[30;79H3[19;3H[34h[?25h[?25l[30;79H2[19;2H[34h[?25h[?25l[30;79H1[19;1H[34h[?25h[?25l[18;29r[29;1H
[1;30r[18;4H sigemptyset(&sigchld_set);[9C [1m[36m// Clear it[0m[29;4H [1m[33mif[0m(bg) [1m[37m[41m{[0m[30;75H[K[30;75H178,52[8C28%[18;52H[34h[?25h[?25l[18;51H[K[30;80H1[18;51H[34h[?25h[?25l[18;50H[K[30;80H0[18;50H[34h[?25h[?25l[18;49H[K[30;79H49[18;49H[34h[?25h[?25l[18;48H[K[30;80H8[18;48H[34h[?25h[?25l[18;47H[K[30;80H7[18;47H[34h[?25h[?25l[18;46H[K[30;80H6[18;46H[34h[?25h[?25l[18;45H[K[30;80H5[18;45H[34h[?25h[?25l[18;44H[K[30;80H4[18;44H[34h[?25h[?25l[18;43H[K[30;80H3[18;43H[34h[?25h[?25l/[18;42H[K[30;80H2[18;42H[34h[?25h[?25l[18;41H[K[30;80H1[18;41H[34h[?25h[?25l[30;80H0[18;40H[34h[?25h[?25l[30;79H39[18;39H[34h[?25h[?25l[30;80H8[18;38H[34h[?25h[?25l[30;80H7[18;37H[34h[?25h[?25l[30;80H6[18;36H[34h[?25h[?25l[30;80H5[18;35H[34h[?25h[?25l[30;80H4[18;34H[34h[?25h[?25l[30;80H3[18;33H[34h[?25h[?25l[30;80H2[18;32H[34h[?25h[?25l[30;80H1[18;31H[34h[?25h[?25l[18;30H[K[18;16H[46m([12C)[0m[30;80H0[18;30H[34h[?25h[?25l[18;29H[K[18;16H([30;79H29[18;29H[34h[?25h[?25l[18;28H[K[30;80H8[18;28H[34h[?25h[?25l[18;27H[K[30;80H7[18;27H[34h[?25h[?25l[18;26H[K[30;80H6[18;26H[34h[?25h[?25l[18;25H[K[30;80H5[18;25H[34h[?25h[?25l[18;24H[K[30;80H4[18;24H[34h[?25h[?25l[18;23H[K[30;80H3[18;23H[34h[?25h[?25l[18;22H[K[30;80H2[18;22H[34h[?25h[?25l[18;21H[K[30;80H1[18;21H[34h[?25h[?25l[18;20H[K[30;80H0[18;20H[34h[?25h[?25l[18;19H[K[30;79H19[18;19H[34h[?25h[?25l[18;18H[K[30;80H8[18;18H[34h[?25h[?25l[18;17H[K[30;80H7[18;17H[34h[?25h[?25l[18;16H[K[30;80H6[18;16H[34h[?25h[?25l[18;15H[K[30;80H5[18;15H[34h[?25h[?25l[18;14H[K[30;80H4[18;14H[34h[?25h[?25l[18;13H[K[30;80H3[18;13H[34h[?25h[?25l[18;12H[K[30;80H2[18;12H[34h[?25h[?25l[18;11H[K[30;80H1[18;11H[34h[?25h[?25l[18;10H[K[30;80H0[18;10H[34h[?25h[?25l[18;9H[K[30;79H9 [18;9H[34h[?25h[?25l[18;8H[K[30;79H8[18;8H[34h[?25h[?25l[18;7H[K[30;79H7[18;7H[34h[?25h[?25l[18;6H[K[30;79H6[18;6H[34h[?25h[?25l[18;5H[K[30;79H5[18;5H[34h[?25h[?25l[30;79H4[18;4H[34h[?25h[?25l[30;79H3[18;3H[34h[?25h[?25l[30;79H2[18;2H[34h[?25h[?25l[30;79H1[18;1H[34h[?25h[?25l[17;29r[29;1H
[1;30r[17;4H sigset_t sigchld_set;[14C [1m[36m// Create new set[0m[29;8H [1m[36m// Print background job info[0m[30;75H[K[30;75H177,58[8C28%[17;58H[34h[?25h[?25l[17;57H[K[30;80H7[17;57H[34h[?25h[?25l[17;56H[K[30;80H6[17;56H[34h[?25h[?25l[17;55H[K[30;80H5[17;55H[34h[?25h[?25l[17;54H[K[30;80H4[17;54H[34h[?25h[?25l[17;53H[K[30;80H3[17;53H[34h[?25h[?25l[17;52H[K[30;80H2[17;52H[34h[?25h[?25l[17;51H[K[30;80H1[17;51H[34h[?25h[?25l[17;50H[K[30;80H0[17;50H[34h[?25h[?25l[17;49H[K[30;79H49[17;49H[34h[?25h[?25l[17;48H[K[30;80H8[17;48H[34h[?25h[?25l[17;47H[K[30;80H7[17;47H[34h[?25h[?25l[17;46H[K[30;80H6[17;46H[34h[?25h[?25l[17;45H[K[30;80H5[17;45H[34h[?25h[?25l[17;44H[K[30;80H4[17;44H[34h[?25h[?25l[17;43H[K[30;80H3[17;43H[34h[?25h[?25l/[17;42H[K[30;80H2[17;42H[34h[?25h[?25l[17;41H[K[30;80H1[17;41H[34h[?25h[?25l[30;80H0[17;40H[34h[?25h[?25l[30;79H39[17;39H[34h[?25h[?25l[30;80H8[17;38H[34h[?25h[?25l[30;80H7[17;37H[34h[?25h[?25l[30;80H6[17;36H[34h[?25h[?25l[30;80H5[17;35H[34h[?25h[?25l[30;80H4[17;34H[34h[?25h[?25l[30;80H3[17;33H[34h[?25h[?25l[30;80H2[17;32H[34h[?25h[?25l[30;80H1[17;31H[34h[?25h[?25l[30;80H0[17;30H[34h[?25h[?25l[30;79H29[17;29H[34h[?25h[?25l[30;80H8[17;28H[34h[?25h[?25l[30;80H7[17;27H[34h[?25h[?25l[30;80H6[17;26H[34h[?25h[?25l[17;25H[K[30;80H5[17;25H[34h[?25h[?25l[17;24H[K[30;80H4[17;24H[34h[?25h[?25l[17;23H[K[30;80H3[17;23H[34h[?25h[?25l[17;22H[K[30;80H2[17;22H[34h[?25h[?25l[17;21H[K[30;80H1[17;21H[34h[?25h[?25l[17;20H[K[30;80H0[17;20H[34h[?25h[?25l[17;19H[K[30;79H19[17;19H[34h[?25h[?25l[17;18H[K[30;80H8[17;18H[34h[?25h[?25l[17;17H[K[30;80H7[17;17H[34h[?25h[?25l[17;16H[K[30;80H6[17;16H[34h[?25h[?25l[17;15H[K[30;80H5[17;15H[34h[?25h[?25l[17;14H[K[30;80H4[17;14H[34h[?25h[?25l[30;80H3[17;13H[34h[?25h[?25l[17;12H[K[30;80H2[17;12H[34h[?25h[?25l[17;11H[K[30;80H1[17;11H[34h[?25h[?25l[17;10H[K[30;80H0[17;10H[34h[?25h[?25l[17;9H[K[30;79H9 [17;9H[34h[?25h[?25l[17;8H[K[30;79H8[17;8H[34h[?25h[?25l[17;7H[K[30;79H7[17;7H[34h[?25h[?25l[17;6H[K[30;79H6[17;6H[34h[?25h[?25l[17;5H[K[30;79H5[17;5H[34h[?25h[?25l[30;79H4[17;4H[34h[?25h[?25l[30;79H3[17;3H[34h[?25h[?25l[30;79H2[17;2H[34h[?25h[?25l[30;79H1[17;1H[34h[?25h[?25l[16;29r[29;1H
[1;30r[16;4H [1m[36m// Fork and Exec in child process[0m[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H176,38[8C28%[16;38H[34h[?25h[?25l[16;37H[K[30;80H7[16;37H[34h[?25h[?25l[1m[36mss[0m[30;80H8[16;38H[34h[?25h[?25l[16;29r[29;1H
[1;30r[16;4H [1m[36m// Fork and Exec in child process[0m[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H176,38[8C28%[16;38H[34h[?25h[?25l[30;77H7,27[17;27H[34h[?25h[?25l[30;80H8[17;28H[34h[?25h[?25l S[30;80H9[17;29H[34h[?25h[?25lSI[30;79H30[17;30H[34h[?25h[?25lIG[30;80H1[17;31H[34h[?25h[?25lGC[30;80H2[17;32H[34h[?25h[?25lCH[30;80H3[17;33H[34h[?25h[?25lHL[30;80H4[17;34H[34h[?25h[?25l[1m[35mSIGCHLD[0m[30;80H5[17;35H[34h[?25h[?25l[1m[35mD[0m,[30;80H6[17;36H[34h[?25h[?25l[30;80H7[17;37H[34h[?25h[?25l N[30;80H8[17;38H[34h[?25h[?25lNU[30;80H9[17;39H[34h[?25h[?25lUL[30;79H40[17;40H[34h[?25h[?25l[1m[35mNULL[0m[30;80H1[17;41H[34h[?25h[?25l[1m[35mL[0m)[19;19H{[22;5H}[26;12H{[17;16H[46m([24C)[0m[30;80H2[17;42H[34h[?25h[?25l[46m)[0m;[17;16H([24C)[30;80H3[17;43H[34h[?25h[?25l[23m[24m[0m[H[J[2;6H [1m[36m/* Read command line */[0m[3;6H [1m[33mif[0m (emit_prompt) {[4;10H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m"[0m, prompt);[5;10H fflush([1m[35mstdout[0m);[6;6H }[7;6H [1m[33mif[0m ((fgets(cmdline, MAXLINE, [1m[35mstdin[0m) == [1m[35mNULL[0m) && ferror([1m[35mstdin[0m))[8;10H app_error([1m[35m"fgets error"[0m);[9;6H [1m[33mif[0m (feof([1m[35mstdin[0m)) { [1m[36m/* End of file (ctrl-d) */[0m[10;10H fflush([1m[35mstdout[0m);[11;10H exit([1m[35m0[0m);[12;6H }[14;6H [1m[36m/* Evaluate the command line */[0m[15;6H eval(cmdline);[16;6H fflush([1m[35mstdout[0m);[17;6H fflush([1m[35mstdout[0m);
    }[20;4H exit([1m[35m0[0m); [1m[36m/* control never reaches here */[0m
}

[1m[36m/* 
 * eval - Evaluate the command line that the user has just typed in
 * 
 * If the user has requested a built-in command (quit, jobs, bg or fg)
 * then execute it immediately. Otherwise, fork a child process and
 * run the job in the context of the child. If the job is running in
 * the foreground, wait for it to terminate and then return.  Note:[0m
[1m-- INSERT --[0m[62C162,2[9C23%[29;2H[34h[?25h[?25l[23m[24m[0m[H[J[1;8H [1m[33mbreak[0m;[2;8H [1m[33mcase[0m [1m[35m'v'[0m:[12C [1m[36m/* emit additional diagnostic info */[0m[3;12H verbose = [1m[35m1[0m;[4;8H [1m[33mbreak[0m;[5;8H [1m[33mcase[0m [1m[35m'p'[0m:[12C [1m[36m/* don't print a prompt */[0m[6;12H emit_prompt = [1m[35m0[0m;  [1m[36m/* handy for automatic testing */[0m[7;8H [1m[33mbreak[0m;
    [1m[33mdefault[0m:[9;12H usage();
    }
    }[13;4H [1m[36m/* Install the signal handlers */[0m[15;4H [1m[36m/* These are the ones you will need to implement */[0m
    Signal([1m[35mSIGINT[0m,  sigint_handler);   [1m[36m/* ctrl-c */[0m
    Signal([1m[35mSIGTSTP[0m, sigtstp_handler);  [1m[36m/* ctrl-z */[0m
    Signal([1m[35mSIGCHLD[0m, sigchld_handler);  [1m[36m/* Terminated or stopped child */[0m[20;4H [1m[36m/* This one provides a clean way to kill the shell */[0m
    Signal([1m[35mSIGQUIT[0m, sigquit_handler);[23;4H [1m[36m/* Initialize the job list */[0m
    initjobs(jobs);[26;4H [1m[36m/* Execute the shell's read/eval loop */[0m
    [1m[33mwhile[0m ([1m[35m1[0m) {[29;6H [1m[36m/* Read command line */[0m
[1m-- INSERT --[0m[62C135,4-7[7C18%[29;7H[34h[?25h[?25l[23m[24m[0m[H[J[1;1H[1m[32mint[0m pid2jid(pid_t pid);
[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);

[1m[32mvoid[0m usage([1m[32mvoid[0m);
[1m[32mvoid[0m unix_error([1m[32mchar[0m *msg);
[1m[32mvoid[0m app_error([1m[32mchar[0m *msg);
[1m[32mtypedef[0m [1m[32mvoid[0m handler_t([1m[32mint[0m);
handler_t *Signal([1m[32mint[0m signum, handler_t *handler);

[1m[36m/*
 * main - The shell's main routine 
 */[0m
[1m[32mint[0m main([1m[32mint[0m argc, [1m[32mchar[0m **argv)
{
    [1m[32mchar[0m c;
    [1m[32mchar[0m cmdline[MAXLINE];
    [1m[32mint[0m emit_prompt = [1m[35m1[0m; [1m[36m/* emit prompt (default) */[0m[19;4H [1m[36m/* Redirect stderr to stdout (so that driver will get all output
     * on the pipe connected to stdout) */[0m
    dup2([1m[35m1[0m, [1m[35m2[0m);[23;4H [1m[36m/* Parse the command line */[0m
    [1m[33mwhile[0m ((c = getopt(argc, argv, [1m[35m"hvp"[0m)) != [1m[35mEOF[0m) {[25;8H [1m[33mswitch[0m (c) {[26;8H [1m[33mcase[0m [1m[35m'h'[0m:[12C [1m[36m/* print help message */[0m[27;12H usage();[28;8H [1m[33mbreak[0m;[29;8H [1m[33mcase[0m [1m[35m'v'[0m:[12C [1m[36m/* emit additional diagnostic info */[0m
[1m-- INSERT --[0m[62C108,9[9C13%[29;9H[34h[?25h[?25l[23m[24m[0m[H[J[1;1H[1m[36m/* End global variables */


/* Function prototypes */

/* Here are the functions that you will implement */[0m
[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline);
[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv);
[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);
[1m[32mvoid[0m waitfg(pid_t pid);

[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig);
[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig);
[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig);

[1m[36m/* Here are helper routines that we've provided for you */[0m
[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv);
[1m[32mvoid[0m sigquit_handler([1m[32mint[0m sig);

[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job);
[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs);
[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs);
[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline);
[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid);
pid_t fgpid([1m[32mstruct[0m job_t *jobs);
[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);
[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);
[1m[32mint[0m pid2jid(pid_t pid);
[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);
[1m-- INSERT --[0m[62C81,1[11C9%[29;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;1H[1m[34m#define BG [0m[1m[35m2[0m[1m[34m    [0m[1m[36m/* running in background */[0m
[1m[34m#define ST [0m[1m[35m3[0m[1m[34m    [0m[1m[36m/* stopped */

/* 
 * Jobs states: FG (foreground), BG (background), ST (stopped)
 * Job state transitions and enabling actions:
 *     FG -> ST  : ctrl-z
 *     ST -> FG  : fg command
 *     ST -> BG  : bg command
 *     BG -> FG  : fg command
 * At most 1 job can be in the FG state.
 */

/* Global variables */[0m
[1m[32mextern[0m [1m[32mchar[0m **environ;      [1m[36m/* defined in libc */[0m
[1m[32mchar[0m prompt[] = [1m[35m"tsh> "[0m;    [1m[36m/* command line prompt (DO NOT CHANGE) */[0m
[1m[32mint[0m verbose = [1m[35m0[0m;[11C [1m[36m/* if true, print additional output */[0m
[1m[32mint[0m nextjid = [1m[35m1[0m;[11C [1m[36m/* next job ID to allocate */[0m
[1m[32mchar[0m sbuf[MAXLINE];[8C [1m[36m/* for composing sprintf messages */[0m

[1m[32mstruct[0m job_t {[13C [1m[36m/* The job struct */[0m
    pid_t pid;[13C [1m[36m/* job PID */[0m
    [1m[32mint[0m jid;[15C [1m[36m/* job ID [1, 2, ...] */[0m
    [1m[32mint[0m state;[13C [1m[36m/* UNDEF, BG, FG, or ST */[0m
    [1m[32mchar[0m cmdline[MAXLINE];  [1m[36m/* command line */[0m
};
[1m[32mstruct[0m job_t jobs[MAXJOBS]; [1m[36m/* The job list */
/* End global variables */[0m

[1m-- INSERT --[0m[62C54,1[11C4%[29;1H[34h[?25h[?25l[1;29r[1;1H[25L[1;30r[1;1H[1m[36m/* 
 * tsh - A tiny shell program with job control
 */[0m
[1m[34m#include [0m[1m[35m<stdio.h>[0m
[1m[34m#include [0m[1m[35m<stdlib.h>[0m
[1m[34m#include [0m[1m[35m<unistd.h>[0m
[1m[34m#include [0m[1m[35m<string.h>[0m
[1m[34m#include [0m[1m[35m<ctype.h>[0m
[1m[34m#include [0m[1m[35m<signal.h>[0m
[1m[34m#include [0m[1m[35m<sys/types.h>[0m
[1m[34m#include [0m[1m[35m<sys/wait.h>[0m
[1m[34m#include [0m[1m[35m<errno.h>[0m

[1m[36m/* Misc manifest constants */[0m
[1m[34m#define MAXLINE    [0m[1m[35m1024[0m[1m[34m   [0m[1m[36m/* max line size */[0m
[1m[34m#define MAXARGS     [0m[1m[35m128[0m[1m[34m   [0m[1m[36m/* max args on a command line */[0m
[1m[34m#define MAXJOBS      [0m[1m[35m16[0m[1m[34m   [0m[1m[36m/* max jobs at any point in time */[0m
[1m[34m#define MAXJID    [0m[1m[35m1[0m[1m[34m<<[0m[1m[35m16[0m[1m[34m   [0m[1m[36m/* max job ID */

/* Magic Numbers */[0m
[1m[34m#define NOTFOUND [0m[1m[35m127[0m[1m[34m [0m[1m[36m/* Returned when command not found (127 is used by bash as well) */

/* Job states */[0m
[1m[34m#define UNDEF [0m[1m[35m0[0m[1m[34m [0m[1m[36m/* undefined */[0m
[1m[34m#define FG [0m[1m[35m1[0m[1m[34m    [0m[1m[36m/* running in foreground */[0m[30;75H[K[30;75H27,1[10CTop[27;1H[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[30;76H8[28;1H[34h[?25h[?25l[30;76H9[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Jobs states: FG (foreground), BG (background), ST (stopped)[0m[30;75H[K[30;75H30,1[11C0%[29;1H[34h[?25h[?25l[30;75H29[28;1H[34h[?25h[?25l[30;76H8[27;1H[34h[?25h[?25l[30;76H7[26;1H[34h[?25h[?25l[30;76H6[25;1H[34h[?25h[?25l[30;76H5[24;1H[34h[?25h[?25l[30;76H4[23;1H[34h[?25h[?25l[30;76H3[22;1H[34h[?25h[?25l[30;76H2[21;1H[34h[?25h[?25l[30;76H1[20;1H[34h[?25h[?25l[30;76H0[19;1H[34h[?25h[?25l[30;75H19[18;1H[34h[?25h[?25l[30;76H8[17;1H[34h[?25h[?25l[30;76H7[16;1H[34h[?25h[?25l[30;76H6[15;1H[34h[?25h[?25l[30;76H5[14;1H[34h[?25h[?25l[30;76H4[13;1H[34h[?25h[?25l[30;76H3[12;1H[34h[?25h[?25l[30;76H2[11;1H[34h[?25h[?25l[30;76H1[10;1H[34h[?25h[?25l[30;76H0[9;1H[34h[?25h[?25l[30;75H9,1 [8;1H[34h[?25h[?25l[30;75H8[7;1H[34h[?25h[?25l[30;75H7[6;1H[34h[?25h[?25l[30;75H6[5;1H[34h[?25h[?25l[30;75H5[4;1H[34h[?25h[?25l[30;75H4[3;1H[34h[?25h[?25l[30;75H5[4;1H[34h[?25h[?25l[30;75H6[5;1H[34h[?25h[?25l[30;75H7[6;1H[34h[?25h[?25l[30;75H8[7;1H[34h[?25h[?25l[30;75H9[8;1H[34h[?25h[?25l[30;75H10,1[9;1H[34h[?25h[?25l[30;76H1[10;1H[34h[?25h[?25l[30;76H2[11;1H[34h[?25h[?25l[30;76H3[12;1H[34h[?25h[?25l[30;76H4[13;1H[34h[?25h[?25l[30;76H5[14;1H[34h[?25h[?25l[30;76H6[15;1H[34h[?25h[?25l[30;76H7[16;1H[34h[?25h[?25l[30;76H8[17;1H[34h[?25h[?25l[30;76H9[18;1H[34h[?25h[?25l[30;75H20[19;1H[34h[?25h[?25l[30;76H1[20;1H[34h[?25h[?25l[30;76H2[21;1H[34h[?25h[?25l[30;76H3[22;1H[34h[?25h[?25l[30;76H4[23;1H[34h[?25h[?25l[30;76H5[24;1H[34h[?25h[?25l[30;76H6[25;1H[34h[?25h[?25l[30;76H7[26;1H[34h[?25h[?25l[30;76H8[27;1H[34h[?25h[?25l[30;76H9[28;1H[34h[?25h[?25l[30;75H30[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Job state transitions and enabling actions:[0m[30;75H[K[30;75H31,1[11C0%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     FG -> ST  : ctrl-z[0m[30;75H[K[30;75H32,1[11C0%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     ST -> FG  : fg command[0m[30;75H[K[30;75H33,1[11C0%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     ST -> BG  : bg command[0m[30;75H[K[30;75H34,1[11C0%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     BG -> FG  : fg command[0m[30;75H[K[30;75H35,1[11C1%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * At most 1 job can be in the FG state.[0m[30;75H[K[30;75H36,1[11C1%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H37,1[11C1%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H38,1[11C1%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Global variables */[0m[30;75H[K[30;75H39,1[11C1%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mextern[0m [1m[32mchar[0m **environ;      [1m[36m/* defined in libc */[0m[30;75H[K[30;75H40,1[11C1%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mchar[0m prompt[] = [1m[35m"tsh> "[0m;    [1m[36m/* command line prompt (DO NOT CHANGE) */[0m[30;75H[K[30;75H41,1[11C2%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m verbose = [1m[35m0[0m;[11C [1m[36m/* if true, print additional output */[0m[30;75H[K[30;75H42,1[11C2%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m nextjid = [1m[35m1[0m;[11C [1m[36m/* next job ID to allocate */[0m[30;75H[K[30;75H43,1[11C2%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mchar[0m sbuf[MAXLINE];[8C [1m[36m/* for composing sprintf messages */[0m[30;75H[K[30;75H44,1[11C2%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H45,1[11C2%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t {[13C [1m[36m/* The job struct */[0m[30;75H[K[30;75H46,1[11C3%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid;[13C [1m[36m/* job PID */[0m[30;75H[K[30;75H47,1[11C3%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m jid;[15C [1m[36m/* job ID [1, 2, ...] */[0m[30;75H[K[30;75H48,1[11C3%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m state;[13C [1m[36m/* UNDEF, BG, FG, or ST */[0m[30;75H[K[30;75H49,1[11C3%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m cmdline[MAXLINE];  [1m[36m/* command line */[0m[30;75H[K[30;75H50,1[11C3%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H};[30;75H[K[30;75H51,1[11C3%[24;14H[46m{[29;1H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t jobs[MAXJOBS]; [1m[36m/* The job list */[0m[30;75H[K[30;75H52,1[11C4%[23;14H{[28;1H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* End global variables */[0m[30;75H[K[30;75H53,1[11C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H54,1[11C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H55,1[11C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Function prototypes */[0m[30;75H[K[30;75H56,1[11C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H57,1[11C4%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Here are the functions that you will implement */[0m[30;75H[K[30;75H58,1[11C5%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline);[30;75H[K[30;75H59,1[11C5%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv);[30;75H[K[30;75H60,1[11C5%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);[30;75H[K[30;75H61,1[11C5%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m waitfg(pid_t pid);[30;75H[K[30;75H62,1[11C5%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H63,1[11C6%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig);[30;75H[K[30;75H64,1[11C6%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig);[30;75H[K[30;75H65,1[11C6%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig);[30;75H[K[30;75H66,1[11C6%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H67,1[11C6%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* Here are helper routines that we've provided for you */[0m[30;75H[K[30;75H68,1[11C6%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv);[30;75H[K[30;75H69,1[11C7%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigquit_handler([1m[32mint[0m sig);[30;75H[K[30;75H70,1[11C7%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H71,1[11C7%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job);[30;75H[K[30;75H72,1[11C7%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H73,1[11C7%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H74,1[11C7%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline);[30;75H[K[30;75H75,1[11C8%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid);[30;75H[K[30;75H76,1[11C8%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1Hpid_t fgpid([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H77,1[11C8%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);[30;75H[K[30;75H78,1[11C8%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);[30;75H[K[30;75H79,1[11C8%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m pid2jid(pid_t pid);[30;75H[K[30;75H80,1[11C9%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H81,1[11C9%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H82,1[11C9%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m usage([1m[32mvoid[0m);[30;75H[K[30;75H83,1[11C9%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m unix_error([1m[32mchar[0m *msg);[30;75H[K[30;75H84,1[11C9%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m app_error([1m[32mchar[0m *msg);[30;75H[K[30;75H85,1[11C9%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mtypedef[0m [1m[32mvoid[0m handler_t([1m[32mint[0m);[30;75H[K[30;75H86,1[10C10%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1Hhandler_t *Signal([1m[32mint[0m signum, handler_t *handler);[30;75H[K[30;75H87,1[10C10%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H88,1[10C10%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/*[0m[30;75H[K[30;75H89,1[10C10%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * main - The shell's main routine [0m[30;75H[K[30;75H90,1[10C10%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H91,1[10C10%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m main([1m[32mint[0m argc, [1m[32mchar[0m **argv)[30;75H[K[30;75H92,1[10C11%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H{[30;75H[K[30;75H93,1[10C11%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m c;[30;75H[K[30;75H94,1[10C11%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m cmdline[MAXLINE];[30;75H[K[30;75H95,1[10C11%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m emit_prompt = [1m[35m1[0m; [1m[36m/* emit prompt (default) */[0m[30;75H[K[30;75H96,1[10C11%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H97,1[10C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Redirect stderr to stdout (so that driver will get all output[0m[30;75H[K[30;75H98,1[10C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m     * on the pipe connected to stdout) */[0m[30;75H[K[30;75H99,1[10C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H dup2([1m[35m1[0m, [1m[35m2[0m);[30;75H[K[30;75H100,1[9C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H101,1[9C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Parse the command line */[0m[30;75H[K[30;75H102,1[9C12%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m ((c = getopt(argc, argv, [1m[35m"hvp"[0m)) != [1m[35mEOF[0m) {[30;75H[K[30;75H103,1[9C13%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mswitch[0m (c) {[30;75H[K[30;75H104,1[9C13%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'h'[0m:[12C [1m[36m/* print help message */[0m[30;75H[K[30;75H105,1[9C13%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H usage();[30;75H[K[30;75H106,1[9C13%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H107,1[9C13%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'v'[0m:[12C [1m[36m/* emit additional diagnostic info */[0m[30;75H[K[30;75H108,1[9C13%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H verbose = [1m[35m1[0m;[30;75H[K[30;75H109,1[9C14%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H110,1[9C14%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'p'[0m:[12C [1m[36m/* don't print a prompt */[0m[30;75H[K[30;75H111,1[9C14%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H emit_prompt = [1m[35m0[0m;  [1m[36m/* handy for automatic testing */[0m[30;75H[K[30;75H112,1[9C14%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H113,1[9C14%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mdefault[0m:[30;75H[K[30;75H114,1[9C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H usage();[30;75H[K[30;75H115,1[9C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H116,1[9C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H117,1[9C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H118,1[9C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Install the signal handlers */[0m[30;75H[K[30;75H119,1[9C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H120,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* These are the ones you will need to implement */[0m[30;75H[K[30;75H121,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGINT[0m,  sigint_handler);   [1m[36m/* ctrl-c */[0m[30;75H[K[30;75H122,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGTSTP[0m, sigtstp_handler);  [1m[36m/* ctrl-z */[0m[30;75H[K[30;75H123,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGCHLD[0m, sigchld_handler);  [1m[36m/* Terminated or stopped child */[0m[30;75H[K[30;75H124,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H125,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* This one provides a clean way to kill the shell */[0m[30;75H[K[30;75H126,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGQUIT[0m, sigquit_handler);[30;75H[K[30;75H127,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H128,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Initialize the job list */[0m[30;75H[K[30;75H129,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H initjobs(jobs);[30;75H[K[30;75H130,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H131,1[9C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Execute the shell's read/eval loop */[0m[30;75H[K[30;75H132,1[9C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m ([1m[35m1[0m) {[30;75H[K[30;75H133,1[9C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H134,1[9C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[36m/* Read command line */[0m[30;75H[K[30;75H135,1[9C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[33mif[0m (emit_prompt) {[30;75H[K[30;75H136,1[9C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m"[0m, prompt);[30;75H[K[30;75H137,1[9C19%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H138,1[9C19%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H }[30;75H[K[30;75H139,1[9C19%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[33mif[0m ((fgets(cmdline, MAXLINE, [1m[35mstdin[0m) == [1m[35mNULL[0m) && ferror([1m[35mstdin[0m))[30;75H[K[30;75H140,1[9C19%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H app_error([1m[35m"fgets error"[0m);[30;75H[K[30;75H141,1[9C19%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[33mif[0m (feof([1m[35mstdin[0m)) { [1m[36m/* End of file (ctrl-d) */[0m[30;75H[K[30;75H142,1[9C20%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H143,1[9C20%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H exit([1m[35m0[0m);[30;75H[K[30;75H144,1[9C20%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H }[30;75H[K[30;75H145,1[9C20%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H146,1[9C20%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[36m/* Evaluate the command line */[0m[30;75H[K[30;75H147,1[9C20%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H eval(cmdline);[30;75H[K[30;75H148,1[9C21%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H149,1[9C21%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H150,1[9C21%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H151,1[9C21%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H152,1[9C21%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H exit([1m[35m0[0m); [1m[36m/* control never reaches here */[0m[30;75H[K[30;75H153,1[9C21%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H154,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H155,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H156,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * eval - Evaluate the command line that the user has just typed in[0m[30;75H[K[30;75H157,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * [0m[30;75H[K[30;75H158,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * If the user has requested a built-in command (quit, jobs, bg or fg)[0m[30;75H[K[30;75H159,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * then execute it immediately. Otherwise, fork a child process and[0m[30;75H[K[30;75H160,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * run the job in the context of the child. If the job is running in[0m[30;75H[K[30;75H161,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * the foreground, wait for it to terminate and then return.  Note:[0m[30;75H[K[30;75H162,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * each child process must have a unique process group ID so that our[0m[30;75H[K[30;75H163,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * background children don't receive SIGINT (SIGTSTP) from the kernel[0m[30;75H[K[30;75H164,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * when we type ctrl-c (ctrl-z) at the keyboard.  [0m[30;75H[K[30;75H165,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m*/[0m[30;75H[K[30;75H166,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {[30;75H[K[30;75H167,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid;[30;75H[K[30;75H168,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H169,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m bg = parseline(cmdline, argv);[30;75H[K[30;75H170,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H171,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H172,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Check for built in command[0m[30;75H[K[30;75H173,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (builtin_cmd(argv)) [1m[33mreturn[0m;[30;75H[K[30;75H174,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H175,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Fork and Exec in child process[0m[30;75H[K[30;75H176,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H sigprocmask(SIG_BLOCK, [1m[35mSIGCHLD[0m, [1m[35mNULL[0m);[30;75H[K[30;75H177,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid = fork();[30;75H[K[30;75H178,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (pid == [1m[35m0[0m) {[30;75H[K[30;75H179,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H execvp(argv[[1m[35m0[0m], argv);[30;75H[K[30;75H180,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H exit(NOTFOUND); [1m[36m// Do not continue[0m[30;75H[K[30;75H181,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H182,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H183,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Shell waits or prints background job info[0m[30;75H[K[30;75H184,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H addjob(jobs, pid, bg ? BG : FG, cmdline);[30;75H[K[30;75H185,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m(bg) {[30;75H[K[30;75H186,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Print background job info[0m[30;75H[K[30;75H187,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H188,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H189,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H190,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H waitfg(pid);[30;75H[K[30;75H191,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H192,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H193,1[9C29%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H194,1[9C29%[2;26H[46m{[29;1H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H195,1[9C29%[1;26H{[28;1H}
[34h[?25h[?25l[1;26H[46m{[28;1H}[0m[30;77H4[28;1H[34h[?25h[?25l[1;26H{[28;1H}[30;77H3[27;1H[34h[?25h[?25l[30;77H2[26;1H[34h[?25h[?25l[30;77H1[25;1H[34h[?25h[?25l[30;77H0[24;1H[34h[?25h[?25l[30;76H89[23;1H[34h[?25h[?25l[30;77H8[22;1H[34h[?25h[?25l[30;77H7[21;1H[34h[?25h[?25l[30;77H6[20;1H[34h[?25h[?25l[30;77H5[19;1H[34h[?25h[?25l[30;77H4[18;1H[34h[?25h[?25l[30;77H3[17;1H[34h[?25h[?25l[30;77H2[16;1H[34h[?25h[?25l[30;77H1[15;1H[34h[?25h[?25l[30;77H0[14;1H[34h[?25h[?25l[30;76H79[13;1H[34h[?25h[?25l[30;77H8[12;1H[34h[?25h[?25l[30;77H7[11;1H[34h[?25h[?25l[30;77H6[10;1H[34h[?25h[?25l[30;77H7[11;1H[34h[?25h[?25l[30;79H43[11;43H[34h[?25h[?25l[30;80H5[11;45H[34h[?25h[?25l /[30;80H6[11;46H[34h[?25h[?25l[1m[36m//[0m[30;80H7[11;47H[34h[?25h[?25l[1m[36m [0m[30;80H8[11;48H[34h[?25h[?25l[1m[36m B[0m[30;80H9[11;49H[34h[?25h[?25l[1m[36mBl[0m[30;79H50[11;50H[34h[?25h[?25l[1m[36mlo[0m[30;80H1[11;51H[34h[?25h[?25l[1m[36moc[0m[30;80H2[11;52H[34h[?25h[?25l[1m[36mck[0m[30;80H3[11;53H[34h[?25h[?25l[1m[36m [0m[30;80H4[11;54H[34h[?25h[?25l[1m[36m S[0m[30;80H5[11;55H[34h[?25h[?25l[1m[36mSI[0m[30;80H6[11;56H[34h[?25h[?25l[1m[36mIG[0m[30;80H7[11;57H[34h[?25h[?25l[1m[36mGC[0m[30;80H8[11;58H[34h[?25h[?25l[1m[36mCH[0m[30;80H9[11;59H[34h[?25h[?25l[1m[36mHL[0m[30;79H60[11;60H[34h[?25h[?25l[1m[36mLD[0m[30;80H1[11;61H[34h[?25h[?25l[1m[36m [0m[30;80H2[11;62H[34h[?25h[?25l[1m[36m f[0m[30;80H3[11;63H[34h[?25h[?25l[1m[36mfo[0m[30;80H4[11;64H[34h[?25h[?25l[1m[36mor[0m[30;80H5[11;65H[34h[?25h[?25l[1m[36m [0m[30;80H6[11;66H[34h[?25h[?25l[1m[36m n[0m[30;80H7[11;67H[34h[?25h[?25l[1m[36mno[0m[30;80H8[11;68H[34h[?25h[?25l[1m[36mow[0m[30;80H9[11;69H[34h[?25h[?25l[30;77H8,18[12;18H[34h[?25h[?25l[13;19H[46m{[16;5H}[0m[30;77H9,20[13;20H[34h[?25h[?25l[30;79H19[13;19H[34h[?25h[?25l[13;8H[46m([8C)[0m {[16;5H}[30;80H8[13;18H[34h[?25h[?25l[30;80H7[13;17H[34h[?25h[?25l[13;8H([8C)[30;80H6[13;16H[34h[?25h[?25l[30;80H5[13;15H[34h[?25h[?25l[30;80H4[13;14H[34h[?25h[?25l[30;80H3[13;13H[34h[?25h[?25l[30;80H2[13;12H[34h[?25h[?25l[30;80H1[13;11H[34h[?25h[?25l[30;80H0[13;10H[34h[?25h[?25l[46m([8C)[0m[30;79H9 [13;9H[34h[?25h[?25l[46m([0m(pid == [1m[35m[46m0[0m) [1m[37m[41m{[16;5H}[20;12H{[24;5H}[6C{[26;5H}

}[0m[13;8H([46m([0m[7C[1m[35m0[0m[46m)[0m[30;79H10[13;10H[34h[?25h[?25l([8C)[30;80H1[13;11H[34h[?25h[?25l[30;80H2[13;12H[34h[?25h[?25l[30;80H3[13;13H[34h[?25h[?25ld) == [1m[35m0[0m) {[16;5H}[20;12H{[24;5H}[6C{[26;5H}

}[13;9H[46m([0mpid[46m)[0m[30;80H4[13;14H[34h[?25h[?25l[30;80H3[13;13H[34h[?25h[?25ld[46m [0m) == [1m[35m0[0m) {[13;13H [46m)[0m[30;80H4[13;14H[34h[?25h[?25l [46m=[0m) == [1m[35m0[0m) {[13;14H=[46m)[0m[30;80H5[13;15H[34h[?25h[?25l=[46m [0m) == [1m[35m0[0m) {[13;15H [46m)[0m[30;80H6[13;16H[34h[?25h[?25l [46mf[0m) == [1m[35m0[0m) {[13;16Hf[46m)[0m[30;80H7[13;17H[34h[?25h[?25lf[46mo[0m) == [1m[35m0[0m) {[13;17Ho[46m)[0m[30;80H8[13;18H[34h[?25h[?25l[1m[33mfo[0m[1m[33m[46mr[0m) == [1m[35m0[0m) {[13;18H[1m[33mr[0m[46m)[0m[30;80H9[13;19H[34h[?25h[?25lfor[46mk[0m) == [1m[35m0[0m) {[13;19Hk[46m)[0m[30;79H20[13;20H[34h[?25h[?25lk[46m([0m) == [1m[35m0[0m) [1m[37m[41m{[16;5H}[20;12H{[24;5H}[6C{[26;5H}

}[0m[13;9H([11C[46m)[0m[30;80H1[13;21H[34h[?25h[?25l[46m)[0m) == [1m[35m0[0m) {[16;5H}[20;12H{[24;5H}[6C{[26;5H}

}[13;9H[46m([0m[10C()[46m)[0m[30;80H2[13;22H[34h[?25h[?25l[13;9H([12C)[30;77H8,18[12;18H[34h[?25h[?25l[12;17H[K[12;15H[46m()[0m[30;80H7[12;17H[34h[?25h[?25l[12;16H[K[13;30H[1m[37m[41m{[16;5H}[20;12H{[24;5H}[6C{[26;5H}

}[0m[12;15H([30;80H6[12;16H[34h[?25h[?25l[12;15H[K[13;30H{[16;5H}[20;12H{[24;5H}[6C{[26;5H}

}[30;80H5[12;15H[34h[?25h[?25l[1m[33mfor[0m[12;14H[K[30;80H4[12;14H[34h[?25h[?25lfo[12;13H[K[30;80H3[12;13H[34h[?25h[?25l[12;12H[K[30;80H2[12;12H[34h[?25h[?25l[12;11H[K[30;80H1[12;11H[34h[?25h[?25l[30;80H0[12;10H[34h[?25h[?25l[12;9H[K[30;79H9 [12;9H[34h[?25h[?25l[30;79H8[12;8H[34h[?25h[?25l[12;7H[K[30;79H7[12;7H[34h[?25h[?25l[12;6H[K[30;79H6[12;6H[34h[?25h[?25l[12;5H[K[30;79H5[12;5H[34h[?25h[?25l[30;79H4[12;4H[34h[?25h[?25l[30;79H3[12;3H[34h[?25h[?25l[30;79H2[12;2H[34h[?25h[?25l[30;79H1[12;1H[34h[?25h[?25l[11;29r[29;1H
[1;30r[11;4H sigprocmask(SIG_BLOCK, [1m[35mSIGCHLD[0m, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[29;1H/* [0m[30;75H[K[30;75H177,69[8C29%[11;69H[34h[?25h[?25l[12;30H[46m{[15;5H}[0m[30;77H8,31[12;31H[34h[?25h[?25l[13;29r[13;1H[L[1;30r[30;75H[K[30;75H179,9[9C29%[12;30H{[16;5H}[13;9H[34h[?25h[?25l /[30;79H10[13;10H[34h[?25h[?25l[1m[36m//[0m[30;80H1[13;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[13;12H[34h[?25h[?25l[1m[36m I[0m[30;80H3[13;13H[34h[?25h[?25l[1m[36mIn[0m[30;80H4[13;14H[34h[?25h[?25l[1m[36m [0m[30;80H5[13;15H[34h[?25h[?25l[1m[36m c[0m[30;80H6[13;16H[34h[?25h[?25l[1m[36mch[0m[30;80H7[13;17H[34h[?25h[?25l[1m[36mhi[0m[30;80H8[13;18H[34h[?25h[?25l[1m[36mi;[0m[30;80H9[13;19H[34h[?25h[?25l[1m[36m;d[0m[30;79H20[13;20H[34h[?25h[?25l[13;19H[K[30;79H19[13;19H[34h[?25h[?25l[13;18H[K[30;80H8[13;18H[34h[?25h[?25l[1m[36mil[0m[30;80H9[13;19H[34h[?25h[?25l[1m[36mld[0m[30;79H20[13;20H[34h[?25h[?25l[1m[36m [0m[30;80H1[13;21H[34h[?25h[?25l[1m[36m p[0m[30;80H2[13;22H[34h[?25h[?25l[1m[36mpr[0m[30;80H3[13;23H[34h[?25h[?25l[1m[36mro[0m[30;80H4[13;24H[34h[?25h[?25l[1m[36moc[0m[30;80H5[13;25H[34h[?25h[?25l[1m[36mce[0m[30;80H6[13;26H[34h[?25h[?25l[1m[36mes[0m[30;80H7[13;27H[34h[?25h[?25l[1m[36mss[0m[30;80H8[13;28H[34h[?25h[?25l[1m[36ms:[0m[30;80H9[13;29H[34h[?25h[?25l[14;15H[46m([13C)[0m[30;76H80[14;29H[34h[?25h[?25l[14;15H([13C)[30;76H79[13;29H[34h[?25h[?25l[14;29r[14;1H[L[1;30r[14;8H [1m[36m// [0m[30;75H[K[30;75H180,12[8C29%[14;12H[34h[?25h[?25l[14;11H[K[30;80H1[14;11H[34h[?25h[?25l/[14;10H[K[30;80H0[14;10H[34h[?25h[?25l[14;9H[K[30;79H9 [14;9H[34h[?25h[?25l s[30;79H10[14;10H[34h[?25h[?25lsi[30;80H1[14;11H[34h[?25h[?25lif[30;80H2[14;12H[34h[?25h[?25l[14;11H[K[30;80H1[14;11H[34h[?25h[?25lig[30;80H2[14;12H[34h[?25h[?25lgp[30;80H3[14;13H[34h[?25h[?25lpr[30;80H4[14;14H[34h[?25h[?25lro[30;80H5[14;15H[34h[?25h[?25loc[30;80H6[14;16H[34h[?25h[?25lcm[30;80H7[14;17H[34h[?25h[?25lma[30;80H8[14;18H[34h[?25h[?25las[30;80H9[14;19H[34h[?25h[?25lsk[30;79H20[14;20H[34h[?25h[?25lk([17;5H[1m[37m[41m}[21;12H{[25;5H}[6C{[27;5H}

}[0m[30;80H1[14;21H[34h[?25h[?25l(S[30;80H2[14;22H[34h[?25h[?25lSI[30;80H3[14;23H[34h[?25h[?25lIG[30;80H4[14;24H[34h[?25h[?25lG_[30;80H5[14;25H[34h[?25h[?25l_U[30;80H6[14;26H[34h[?25h[?25lUN[30;80H7[14;27H[34h[?25h[?25lNB[30;80H8[14;28H[34h[?25h[?25lBL[30;80H9[14;29H[34h[?25h[?25lLO[30;79H30[14;30H[34h[?25h[?25lOC[30;80H1[14;31H[34h[?25h[?25lCK[30;80H2[14;32H[34h[?25h[?25lK,[30;80H3[14;33H[34h[?25h[?25l[30;80H4[14;34H[34h[?25h[?25l S[30;80H5[14;35H[34h[?25h[?25lSI[30;80H6[14;36H[34h[?25h[?25lIG[30;80H7[14;37H[34h[?25h[?25lGC[30;80H8[14;38H[34h[?25h[?25lCH[30;80H9[14;39H[34h[?25h[?25lHL[30;79H40[14;40H[34h[?25h[?25l[1m[35mSIGCHLD[0m[30;80H1[14;41H[34h[?25h[?25l[1m[35mD[0m,[30;80H2[14;42H[34h[?25h[?25l[30;80H3[14;43H[34h[?25h[?25l N[30;80H4[14;44H[34h[?25h[?25lNU[30;80H5[14;45H[34h[?25h[?25lUL[30;80H6[14;46H[34h[?25h[?25l[1m[35mNULL[0m[30;80H7[14;47H[34h[?25h[?25l[1m[35mL[0m)[17;5H}[21;12H{[25;5H}[6C{[27;5H}

}[14;20H[46m([26C)[0m[30;80H8[14;48H[34h[?25h[?25l[46m)[0m;[14;20H([26C)[30;80H9[14;49H[34h[?25h[?25l[12;30H[46m{[17;5H}[0m[30;77H3,6 [17;6H[34h[?25h[?25l[12;30H{[17;5H}[30;77H5,49[19;49H[34h[?25h[?25l[30;77H6,46[20;46H[34h[?25h[?25l[30;77H8,37[22;37H[34h[?25h[?25l[30;77H9,36[23;36H[34h[?25h[?25l[30;76H92,21[26;21H[34h[?25h[?25l[1;26H[46m{[29;1H}[0m[30;77H5,2 [29;2H[34h[?25h[?25l[1;26H{[29;1H}[30;77H2,21[26;21H[34h[?25h[?25l[30;76H89,36[23;36H[34h[?25h[?25l[30;77H6,4[20;46H[34h[?25h[?25l[21;12H[46m{[25;5H}[0m[30;77H7,13[21;13H[34h[?25h[?25l{[25;5H}[30;77H8,37[22;37H[34h[?25h[?25l[30;77H9,36[23;36H[34h[?25h[?25l[30;76H90,49[24;49H[34h[?25h[?25l[25;12H[46m{[27;5H}[0m[30;77H1,13[25;13H[34h[?25h[?25l{[27;5H}[30;77H2,21[26;21H[34h[?25h[?25l[25;12H[46m{[27;5H}[0m[30;77H3,6 [27;6H[34h[?25h[?25l[25;12H{[27;5H}[30;77H4,12[28;12H[34h[?25h[?25l[1;26H[46m{[29;1H}[0m[30;77H5,2 [29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H196,1[9C29%[28;1H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H197,4[9C29%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * parseline - Parse the command line and build the argv array.[0m[30;75H[K[30;75H198,49[8C29%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * [0m[30;75H[K[30;75H199,4[9C30%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Characters enclosed in single quotes are treated as a single[0m[30;75H[K[30;75H200,49[8C30%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * argument.  Return true if the user has requested a BG job, false if[0m[30;75H[K[30;75H201,49[8C30%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * the user has requested a FG job.  [0m[30;75H[K[30;75H202,38[8C30%[29;38H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H203,4[9C30%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv) {[30;75H[K[30;75H204,49[8C30%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstatic[0m [1m[32mchar[0m array[MAXLINE]; [1m[36m/* holds local copy of command line */[0m[30;75H[K[30;75H205,49[8C31%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *buf = array;[9C [1m[36m/* ptr that traverses command line */[0m[30;75H[K[30;75H206,49[8C31%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *delim;[15C [1m[36m/* points to first space delimiter */[0m[30;75H[K[30;75H207,49[8C31%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m argc;[18C [1m[36m/* number of args */[0m[30;75H[K[30;75H208,49[8C31%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m bg;[20C [1m[36m/* background job? */[0m[30;75H[K[30;75H209,49[8C31%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H210,1[9C31%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H strcpy(buf, cmdline);[30;75H[K[30;75H211,26[8C32%[29;26H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf[strlen(buf)-[1m[35m1[0m] = [1m[35m' '[0m;  [1m[36m/* replace trailing '\n' with space */[0m[30;75H[K[30;75H212,49[8C32%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore leading spaces */[0m[30;75H[K[30;75H213,49[8C32%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf++;[30;75H[K[30;75H214,8-11      32%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H215,1[9C32%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Build the argv list */[0m[30;75H[K[30;75H216,30[8C33%[29;30H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H argc = [1m[35m0[0m;[30;75H[K[30;75H217,14[8C33%[29;14H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H218,24[8C33%[29;24H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf++;[30;75H[K[30;75H219,8-11      33%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H220,28-31     33%[29;31H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H221,6[9C33%[26;23H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H [1m[33melse[0m {[30;75H[K[30;75H222,11[8C34%[25;23H{[28;5H}[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H223,27-30     34%[29;30H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H224,6[9C34%[27;10H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H225,1[9C34%[26;10H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (delim) {[30;75H[K[30;75H226,20[8C34%[29;20H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H argv[argc++] = buf;[30;75H[K[30;75H227,25-28     34%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H *delim = [1m[31m'\0'[0m;[30;75H[K[30;75H228,20-23     35%[29;23H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H229,22-25     35%[29;25H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[30;75H[K[30;75H230,46-49     35%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H buf++;[30;75H[K[30;75H231,19[8C35%[29;19H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H232,6[9C35%[29;6H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H233,28[8C36%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H buf++;[30;75H[K[30;75H234,16-19     36%[29;19H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H235,36-39     36%[29;39H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m {[30;75H[K[30;75H236,14-17     36%[29;17H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H237,35-38     36%[29;38H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H238,7-10      36%[27;16H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H }[30;75H[K[30;75H239,6[9C37%[16;19H[46m{[0m[26;16H{[28;9H}
    [46m}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H argv[argc] = [1m[35mNULL[0m;[30;75H[K[30;75H240,23[8C37%[15;19H{[28;5H}[29;23H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H241,5[9C37%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (argc == [1m[35m0[0m)  [1m[36m/* ignore blank line */[0m[30;75H[K[30;75H242,44[8C37%[29;44H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H243,11-14     37%[29;14H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H244,1[9C37%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* should the job run in the background? */[0m[30;75H[K[30;75H245,48[8C38%[29;48H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) {[30;75H[K[30;75H246,46[8C38%[29;46H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H argv[--argc] = [1m[35mNULL[0m;[30;75H[K[30;75H247,26-29     38%[29;29H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H248,6[9C38%[27;45H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H [1m[33mreturn[0m bg;[30;75H[K[30;75H249,15[8C38%[26;45H{[28;5H}[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H250,2[9C39%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H251,1[9C39%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H252,4[9C39%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H253,49[8C39%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H254,24[8C39%[29;24H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H255,4[9C39%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[30;75H[K[30;75H256,31[8C40%[29;31H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"quit"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H257,38[8C40%[29;38H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H exit([1m[35m0[0m);[30;75H[K[30;75H258,13[8C40%[29;13H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H259,45[8C40%[29;45H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H listjobs(jobs);[30;75H[K[30;75H260,21[8C40%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H261,14[8C40%[29;14H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H262,43[8C41%[29;43H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H do_bgfg(argv);[30;75H[K[30;75H263,19[8C41%[29;19H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H264,14[8C41%[29;14H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H265,43[8C41%[29;43H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H do_bgfg(argv);[30;75H[K[30;75H266,19[8C41%[29;19H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H267,14[8C42%[29;14H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H268,45[8C42%[29;45H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H269,14[8C42%[29;14H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H }[30;75H[K[30;75H270,4[9C42%[27;44H[46m{

[0m  [46m}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;2H [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m[30;75H[K[30;75H271,44[8C42%[26;44H{

  }[29;44H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H272,2[9C42%[13;30H[46m{[29;1H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H273,1[9C43%[12;30H{[28;1H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H274,4[9C43%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * do_bgfg - Execute the builtin bg and fg commands[0m[30;75H[K[30;75H275,49[8C43%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H276,4[9C43%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H277,28[8C43%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H278,12[8C43%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H279,2[9C44%[27;27H[46m{

}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H280,1[9C44%[26;27H{

}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H281,4[9C44%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H282,49[8C44%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H283,4[9C44%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H284,25[8C45%[29;25H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H285,46[8C45%[29;46H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H286,31[8C45%[29;31H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;75H[K[30;75H287,49[8C45%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H288,6[9C45%[27;30H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H289,12[8C45%[26;30H{[28;5H}[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H290,2[9C46%[23;24H[46m{[29;1H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H291,1[9C46%[22;24H{[28;1H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/*****************[0m[30;75H[K[30;75H292,19[8C46%[29;19H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Signal handlers[0m[30;75H[K[30;75H293,19[8C46%[29;19H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *****************/[0m[30;75H[K[30;75H294,20[8C46%[29;20H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H295,1[9C46%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H296,4[9C47%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever[0m[30;75H[K[30;75H297,49[8C47%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     a child job terminates (becomes a zombie), or stops because it[0m[30;75H[K[30;75H298,49[8C47%[29;31H[1m[36m[46m([16C)[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;1H[1m[36m *     received a SIGSTOP or SIGTSTP signal. The handler reaps all[0m[30;75H[K[30;75H299,49[8C47%[28;31H[1m[36m([16C)[29;49H[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;1H[1m[36m *     available zombie children, but doesn't wait for any other[0m[30;75H[K[30;75H300,49[8C47%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     currently running children to terminate.  [0m[30;75H[K[30;75H301,49[8C48%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H302,4[9C48%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {[30;75H[K[30;75H303,32[8C48%[29;32H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid;[30;75H[K[30;75H304,15[8C48%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m status;[30;75H[K[30;75H305,16[8C48%[29;16H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H306,23[8C48%[29;23H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H307,1[9C49%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[30;75H[K[30;75H308,49[8C49%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Get pointer to job struct[0m[30;75H[K[30;75H309,37[8C49%[29;37H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H310,36[8C49%[29;36H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H311,1[9C49%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (WIFEXITED(status)) {[30;75H[K[30;75H312,34[8C50%[29;34H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H313,32[8C50%[29;32H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H314,9[9C50%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[30;75H[K[30;75H315,49[8C50%[29;16H[46m([31C)[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;16H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H316,37[8C50%[28;16H([31C)[29;37H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H parseline(job->cmdline, argv);[30;75H[K[30;75H317,47[8C50%[29;47H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H318,49[8C51%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H }  [1m[33melse[0m {[30;75H[K[30;75H319,22[8C51%[29;22H[34h[?25h[?25l[30;77H8,49[28;49H[34h[?25h[?25l[30;77H7,47[27;47H[34h[?25h[?25l[30;77H6,3[26;37H[34h[?25h[?25l[25;16H[46m([31C)[0m[30;77H5,49[25;49H[34h[?25h[?25l[25;16H([31C)[30;77H4,9 [24;9H[34h[?25h[?25l[30;77H3,32[23;32H[34h[?25h[?25l[30;77H2,34[22;34H[34h[?25h[?25l[30;77H1,1 [21;1H[34h[?25h[?25l[30;77H0,36[20;36H[34h[?25h[?25l[30;76H09,37[19;37H[34h[?25h[?25l[30;77H8,49[18;49H[34h[?25h[?25l[30;77H7,1 [17;1H[34h[?25h[?25l[30;77H6,23[16;23H[34h[?25h[?25l[30;77H7,1 [17;1H[34h[?25h[?25l[30;77H8,49[18;49H[34h[?25h[?25l[30;77H9,37[19;37H[34h[?25h[?25l[30;76H10,36[20;36H[34h[?25h[?25l[30;77H1,1 [21;1H[34h[?25h[?25l[30;77H2,34[22;34H[34h[?25h[?25l[30;77H3,32[23;32H[34h[?25h[?25l[30;77H4,9 [24;9H[34h[?25h[?25l[25;16H[46m([31C)[0m[30;77H5,49[25;49H[34h[?25h[?25l[25;16H([31C)[30;77H6,37[26;37H[34h[?25h[?25l[30;77H7,4[27;47H[34h[?25h[?25l[30;77H8,49[28;49H[34h[?25h[?25l[30;77H9,22[29;22H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H [1m[36m//printf("Process exited normally with return value of %d\n", [0m[30;75H[K[30;75H320,49[8C51%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H [1m[36m//    WEXITSTATUS(status));[0m[30;75H[K[30;75H321,44[8C51%[29;44H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H }[30;75H[K[30;75H322,14[8C51%[26;21H[46m{[29;13H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H323,49[8C51%[25;21H{[28;13H}[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H324,1[9C52%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFSIGNALED(status)) {[30;75H[K[30;75H325,43[8C52%[29;43H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case terminated to signal[0m[30;75H[K[30;75H326,37[8C52%[29;37H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H327,9[9C52%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) teminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H328,49[8C52%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H job->jid, job->pid, WTERMSIG(status));[30;75H[K[30;75H329,49[8C53%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H330,49[8C53%[29;49H[34h[?25h[?25l[30;76H29[28;49H[34h[?25h[?25l[30;76H30[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H331,1[9C53%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[30;75H[K[30;75H332,41[8C53%[29;41H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case stopped by signal[0m[30;75H[K[30;75H333,34[8C53%[29;34H[34h[?25h[?25l[30;77H2,41[28;41H[34h[?25h[?25l[30;77H1,1 [27;1H[34h[?25h[?25l[30;77H0,49[26;49H[34h[?25h[?25l[30;76H29[25;49H[34h[?25h[?25l[30;77H8[24;49H[34h[?25h[?25l[30;77H7,9 [23;9H[34h[?25h[?25l[30;77H6,37[22;37H[34h[?25h[?25l[30;77H5,43[21;43H[34h[?25h[?25l[30;77H4,1 [20;1H[34h[?25h[?25l[30;77H3,49[19;49H[34h[?25h[?25l[15;21H[46m{[18;13H}[0m[30;77H2,14[18;14H[34h[?25h[?25l[15;21H{[18;13H}[30;77H1,4[17;44H[34h[?25h[?25l[30;77H0,49[16;49H[34h[?25h[?25l[15;21H[46m{[18;13H}[0m[30;76H19,22[15;22H[34h[?25h[?25l{[18;13H}[30;77H8,49[14;49H[34h[?25h[?25l[30;77H7,47[13;47H[34h[?25h[?25l[30;77H6,3[12;37H[34h[?25h[?25l[30;77H7,4[13;47H[34h[?25h[?25l[30;77H8,49[14;49H[34h[?25h[?25l[15;21H[46m{[18;13H}[0m[30;77H9,22[15;22H[34h[?25h[?25l{[18;13H}[30;76H20,49[16;49H[34h[?25h[?25l[30;77H1,44[17;44H[34h[?25h[?25l[15;21H[46m{[18;13H}[0m[30;77H2,1[18;14H[34h[?25h[?25l[15;21H{[18;13H}[30;77H3,49[19;49H[34h[?25h[?25l[30;77H4,1 [20;1H[34h[?25h[?25l[30;77H5,43[21;43H[34h[?25h[?25l[30;77H6,37[22;37H[34h[?25h[?25l[30;77H7,9 [23;9H[34h[?25h[?25l[30;77H8,49[24;49H[34h[?25h[?25l[30;77H9[25;49H[34h[?25h[?25l[30;77H6,37[22;37H[34h[?25h[?25l[30;77H3,49[19;49H[34h[?25h[?25l[30;77H0[16;49H[34h[?25h[?25l[30;76H17,47[13;47H[34h[?25h[?25l[11;16H[46m([31C)[0m[30;77H5,49[11;49H[34h[?25h[?25l[11;16H([31C)[30;77H4,9 [10;9H[34h[?25h[?25l[30;77H1,1[7;1H[34h[?25h[?25l[30;76H08,49[4;49H[34h[?25h[?25l[30;77H5,16[1;16H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m */[0m
[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {
    pid_t pid;[30;75H[K[30;75H302,4[9C53%[1;4H[34h[?25h[?25l[30;77H4,15[3;15H[34h[?25h[?25l[30;77H5,16[4;16H[34h[?25h[?25l[30;77H8,49[7;49H[34h[?25h[?25l[30;76H11,1 [10;1H[34h[?25h[?25l[30;77H4,9[13;9H[34h[?25h[?25l[30;77H7,47[16;47H[34h[?25h[?25l[30;76H20,49[19;49H[34h[?25h[?25l[30;77H3[22;49H[34h[?25h[?25l[30;77H6,37[25;37H[34h[?25h[?25l[30;77H9,49[28;49H[34h[?25h[?25l[1;29r[1;1H[2M[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[30;75H[K[30;75H332,41[8C53%[29;41H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;8H [1m[36m// Case stopped by signal[0m[29;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H335,49[8C54%[29;49H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;16H job->jid, job->pid, WSTOPSIG(status));[28;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H338,1[9C54%[29;1H[34h[?25h[?25l[30;77H5,49[26;49H[34h[?25h[?25l[30;77H2,41[23;41H[34h[?25h[?25l[30;76H29,49[20;49H[34h[?25h[?25l[30;77H6,37[17;37H[34h[?25h[?25l[30;77H3,49[14;49H[34h[?25h[?25l[30;77H0[11;49H[34h[?25h[?25l[30;76H17,47[8;47H[34h[?25h[?25l[30;77H4,9 [5;9H[34h[?25h[?25l[30;77H1,1[2;1H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[2;8H [1m[36m// Get pointer to job struct[0m[30;75H[K[30;75H308,49[8C54%[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mint[0m status;
    [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H305,16[8C53%[1;16H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m */[0m
[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {
    pid_t pid;[30;75H[K[30;75H302,4[9C53%[1;4H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m *     received a SIGSTOP or SIGTSTP signal. The handler reaps all
 *     available zombie children, but doesn't wait for any other
 *     currently running children to terminate.  [0m[30;75H[K[30;75H299,49[8C52%[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m/* 
 * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever
 *     a child job terminates (becomes a zombie), or stops because it[0m[30;75H[K[30;75H296,4[9C52%[1;4H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m * Signal handlers
 *****************/[0m[30;75H[K[30;75H293,19[8C51%[1;19H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H}

[1m[36m/*****************[0m[30;75H[K[30;75H290,2[9C51%[1;2H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m
    }
    [1m[33mreturn[0m;[30;75H[K[30;75H287,49[8C50%[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mvoid[0m waitfg(pid_t pid) {
    [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);
    [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H284,25[8C50%[1;24H[46m{[7;1H}[1;25H[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[1;1H[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m[30;75H[K[30;75H281,4[9C49%[4;24H{[10;1H}[1;4H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[33mreturn[0m;
}[30;75H[K[30;75H278,12[8C48%[1;12H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m * do_bgfg - Execute the builtin bg and fg commands
 */[0m
[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H275,49[8C48%[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H}

[1m[36m/* [0m[30;75H[K[30;75H272,2[9C47%[1;2H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;
  }
  [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m[30;75H[K[30;75H269,14[8C47%[1;14H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H do_bgfg(argv);
    [1m[33mreturn[0m [1m[35m1[0m;
  } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H266,19[8C46%[1;19H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H do_bgfg(argv);
    [1m[33mreturn[0m [1m[35m1[0m;
  } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H263,19[8C46%[1;19H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H listjobs(jobs);
    [1m[33mreturn[0m [1m[35m1[0m;
  } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H260,21[8C45%[1;21H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H259,45[8C45%[1;44H[46m{[4;3H}[1;45H[1;29r[0m[1;1H[2L[1;30r[1;2H [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"quit"[0m) == [1m[35m0[0m) {
    exit([1m[35m0[0m);[30;75H[K[30;75H257,38[8C45%[1;37H[46m{

[0m  [46m}[0m[40C{[6;3H}[1;38H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m *    it immediately.  
 */[0m
[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[30;75H[K[30;75H254,24[8C44%[4;37H{

  }[1;24H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[2;1H[1m[36m/* 
 * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H251,1[9C44%[1;1H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H }
    [1m[33mreturn[0m bg;
}[30;75H[K[30;75H248,6[9C43%[1;6H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[36m/* should the job run in the background? */[0m
    [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) {[3;8H argv[--argc] = [1m[35mNULL[0m;[30;75H[K[30;75H245,48[8C43%[1;48H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[33mif[0m (argc == [1m[35m0[0m)  [1m[36m/* ignore blank line */[0m
    [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H242,44[8C42%[1;44H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H }
    argv[argc] = [1m[35mNULL[0m;[30;75H[K[30;75H239,6[9C42%[1;6H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H } [1m[33melse[0m {[2;12H delim = strchr(buf, [1m[35m' '[0m);[3;8H }[30;75H[K[30;75H236,14-17     41%[1;16H[46m{[3;9H}[1;17H[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[1;8H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[2;12H buf++;[3;12H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H233,28[8C40%[1;27H[46m{[4;9H}[0m[6C{[6;9H}[1;28H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[2;12H buf++;[30;75H[K[30;75H230,46-49     40%[4;27H{[7;9H}[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H argv[argc++] = buf;[2;8H *delim = [1m[31m'\0'[0m;[3;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H227,25-28     39%[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (delim) {[30;75H[K[30;75H226,20[8C39%[1;19H[46m{[14;5H}[1;20H[34h[?25h[?25l[1;29r[0m[1;1H[2L[1;30r[1;4H }[30;75H[K[30;75H224,6[9C39%[3;19H{[16;5H}[1;6H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H }
    [1m[33melse[0m {
    delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H221,6[9C38%[1;6H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {
    buf++;
    delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H218,24[8C38%[1;23H[46m{[4;5H}[1;24H[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[2;4H [1m[36m/* Build the argv list */[0m
    argc = [1m[35m0[0m;[30;75H[K[30;75H215,1[9C37%[4;23H{[7;5H}[1;1H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H buf[strlen(buf)-[1m[35m1[0m] = [1m[35m' '[0m;  [1m[36m/* replace trailing '\n' with space */[0m
    [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore leading spaces */[0m
    buf++;[30;75H[K[30;75H212,49[8C37%[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mint[0m bg;[20C [1m[36m/* background job? */[0m[3;4H strcpy(buf, cmdline);[30;75H[K[30;75H209,49[8C36%[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mchar[0m *buf = array;[9C [1m[36m/* ptr that traverses command line */[0m
    [1m[32mchar[0m *delim;[15C [1m[36m/* points to first space delimiter */[0m
    [1m[32mint[0m argc;[18C [1m[36m/* number of args */[0m[30;75H[K[30;75H206,49[8C36%[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m */[0m
[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv) {
    [1m[32mstatic[0m [1m[32mchar[0m array[MAXLINE]; [1m[36m/* holds local copy of command line */[0m[30;75H[K[30;75H203,4[9C35%[1;4H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m * Characters enclosed in single quotes are treated as a single
 * argument.  Return true if the user has requested a BG job, false if
 * the user has requested a FG job.  [0m[30;75H[K[30;75H200,49[8C35%[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m/* 
 * parseline - Parse the command line and build the argv array.
 * [0m[30;75H[K[30;75H197,4[9C34%[1;4H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[33mreturn[0m;
}[30;75H[K[30;75H194,12[8C34%[1;12H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H } [1m[33melse[0m {[2;8H waitfg(pid);
    }[30;75H[K[30;75H191,13[8C33%[1;12H[46m{[3;5H}[1;13H[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[1;8H [1m[36m// Print background job info[0m[2;8H job = getjobpid(jobs, pid);[3;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H188,37[8C33%[4;12H{[6;5H}[1;37H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[36m// Shell waits or prints background job info[0m
    addjob(jobs, pid, bg ? BG : FG, cmdline);
    [1m[33mif[0m(bg) {[30;75H[K[30;75H185,49[8C32%[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H exit(NOTFOUND); [1m[36m// Do not continue[0m
    }[30;75H[K[30;75H182,43[8C31%[1;43H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H [1m[36m// In child process:[0m[2;8H sigprocmask(SIG_UNBLOCK, [1m[35mSIGCHLD[0m, [1m[35mNULL[0m);[3;8H execvp(argv[[1m[35m0[0m], argv);[30;75H[K[30;75H179,29[8C31%[1;29H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[36m// Fork and Exec in child process[0m
    sigprocmask(SIG_BLOCK, [1m[35mSIGCHLD[0m, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m
    [1m[33mif[0m ((pid = fork()) == [1m[35m0[0m) {[30;75H[K[30;75H176,38[8C30%[1;38H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[36m// Check for built in command[0m
    [1m[33mif[0m (builtin_cmd(argv)) [1m[33mreturn[0m;[30;75H[K[30;75H173,34[8C30%[1;34H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mint[0m bg = parseline(cmdline, argv);
    [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H170,39[8C29%[1;39H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {
    pid_t pid;
    [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H167,27[8C29%[1;26H[46m{[29;1H}[1;27H[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[1;1H[1m[36m * background children don't receive SIGINT (SIGTSTP) from the kernel
 * when we type ctrl-c (ctrl-z) at the keyboard.  
*/[0m[30;75H[K[30;75H164,49[8C28%[4;26H{[1;49H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m * run the job in the context of the child. If the job is running in
 * the foreground, wait for it to terminate and then return.  Note:
 * each child process must have a unique process group ID so that our[0m[30;75H[K[30;75H161,49[8C28%[1;49H[34h[?25h[?25l[30;77H4[4;49H[34h[?25h[?25l[30;77H7,27[7;27H[34h[?25h[?25l[30;76H70,39[10;39H[34h[?25h[?25l[30;77H1,23[11;23H[34h[?25h[?25l[30;77H3,34[13;34H[34h[?25h[?25l[30;77H6,38[16;38H[34h[?25h[?25l[30;77H9,29[19;29H[34h[?25h[?25l[30;77H6,38[16;38H[34h[?25h[?25l[30;77H3,34[13;34H[34h[?25h[?25l[30;77H0,39[10;39H[34h[?25h[?25l[30;76H67,27[7;27H[34h[?25h[?25l[30;76H70,39[10;39H[34h[?25h[?25l[30;77H3,34[13;34H[34h[?25h[?25l[30;77H0,39[10;39H[34h[?25h[?25l[30;76H67,27[7;27H[34h[?25h[30;1H[K[7;26H[?25l[30;75H167,26[8C28%[7;26H[34h[?25h[?25l[30;77H8,14[8;14H[34h[?25h[?25l[30;77H9,2[9;24H[34h[?25h[?25l[30;76H70,26[10;26H[34h[?25h[?25l[30;77H1,22[11;22H[34h[?25h[?25l[30;77H2,4 [12;4H[34h[?25h[?25l[30;77H3,26[13;26H[34h[?25h[?25l[14;8H[46m([17C)[0m[30;77H4[14;26H[34h[?25h[?25l[14;8H([17C)[30;77H5,0-1[15;1H[34h[?25h[?25l[30;77H6,26 [16;26H[34h[?25h[?25l[30;77H7[17;26H[34h[?25h[?25l[30;77H8[18;26H[34h[?25h[?25l[30;77H7[17;26H[34h[?25h[?25l[30;79H1 [17;1H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H177,1[9C28%[17;1H[34h[?25h[?25l[30;79H2[17;2H[34h[?25h[?25l[30;79H3[17;3H[34h[?25h[?25l[30;79H4[17;4H[34h[?25h[?25l[30;79H5[17;5H[34h[?25h[?25l /sigprocmask(SIG_BLOCK, [1m[35mSIGCHLD[0m, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[30;79H6[17;6H[34h[?25h[?25l[1m[36m//sigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[30;79H7[17;7H[34h[?25h[?25l[1m[36m/Tsigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[30;79H8[17;8H[34h[?25h[?25l[1m[36mTOsigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[30;79H9[17;9H[34h[?25h[?25l[1m[36mODsigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[30;79H10[17;10H[34h[?25h[?25l[1m[36mDOsigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[30;80H1[17;11H[34h[?25h[?25l[30m[43mTODO[0m[1m[36m:sigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[30;80H2[17;12H[34h[?25h[?25l[1m[36m: sigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[30;80H3[17;13H[34h[?25h[30;1H[K[17;12H[?25l[30;75H177,12[8C28%[17;12H[34h[?25h[?25l[30;77H8[18;12H[34h[?25h[?25l[30;77H9[19;12H[34h[?25h[?25l[30;76H80[20;12H[34h[?25h[?25l[30;77H1[21;12H[34h[?25h[?25l[30;77H2[22;12H[34h[?25h[?25l[18;30H[46m{[23;5H}[0m[30;77H3,5 [23;5H[34h[?25h[?25l[18;30H{[23;5H}[30;77H4,0-1[24;1H[34h[?25h[?25l[30;77H5,12 [25;12H[34h[?25h[?25l[30;77H6[26;12H[34h[?25h[?25l[30;77H7[27;12H[34h[?25h[?25l[30;77H8[28;12H[34h[?25h[?25l[30;77H9[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H190,12[8C28%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H191,12[8C28%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H waitfg(pid);[30;75H[K[30;75H192,12[8C28%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[27;12H[46m{[0m[29;4H [46m}[0m[30;75H[K[30;75H193,5[9C28%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;12H{[28;5H}
    [1m[33mreturn[0m;[30;75H[K[30;75H194,11[8C29%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[1;26H[46m{[29;1H}[0m[30;75H[K[30;75H195,1[9C29%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;1H}[30;75H[K[30;75H196,0-1[7C29%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H197,3[9C29%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * parseline - Parse the command line and build the argv array.[0m[30;75H[K[30;75H198,12[8C29%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * [0m[30;75H[K[30;75H199,3[9C30%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Characters enclosed in single quotes are treated as a single[0m[30;75H[K[30;75H200,12[8C30%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * argument.  Return true if the user has requested a BG job, false if[0m[30;75H[K[30;75H201,12[8C30%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * the user has requested a FG job.  [0m[30;75H[K[30;75H202,12[8C30%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H203,3[9C30%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv) {[30;75H[K[30;75H204,12[8C30%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstatic[0m [1m[32mchar[0m array[MAXLINE]; [1m[36m/* holds local copy of command line */[0m[30;75H[K[30;75H205,12[8C31%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *buf = array;[9C [1m[36m/* ptr that traverses command line */[0m[30;75H[K[30;75H206,12[8C31%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *delim;[15C [1m[36m/* points to first space delimiter */[0m[30;75H[K[30;75H207,12[8C31%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m argc;[18C [1m[36m/* number of args */[0m[30;75H[K[30;75H208,12[8C31%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m bg;[20C [1m[36m/* background job? */[0m[30;75H[K[30;75H209,12[8C31%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H210,0-1[7C31%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H strcpy(buf, cmdline);[30;75H[K[30;75H211,12[8C32%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf[strlen(buf)-[1m[35m1[0m] = [1m[35m' '[0m;  [1m[36m/* replace trailing '\n' with space */[0m[30;75H[K[30;75H212,12[8C32%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore leading spaces */[0m[30;75H[K[30;75H213,12[8C32%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf++;[30;75H[K[30;75H214,7-10      32%[29;10H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H215,0-1[7C32%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Build the argv list */[0m[30;75H[K[30;75H216,12[8C33%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H argc = [1m[35m0[0m;[30;75H[K[30;75H217,12[8C33%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H218,12[8C33%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf++;[30;75H[K[30;75H219,7-10      33%[29;10H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H220,9-12      33%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;23H[46m{[0m[29;4H [46m}[0m[30;75H[K[30;75H221,5[9C33%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[25;23H{[28;5H}
    [1m[33melse[0m {[30;75H[K[30;75H222,10[8C34%[29;10H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H223,9-12      34%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[27;10H[46m{[0m[29;4H [46m}[0m[30;75H[K[30;75H224,5[9C34%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;10H{[28;5H}[30;75H[K[30;75H225,0-1[7C34%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (delim) {[30;75H[K[30;75H226,12[8C34%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H argv[argc++] = buf;[30;75H[K[30;75H227,9-12      34%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H *delim = [1m[31m'\0'[0m;[30;75H[K[30;75H228,9-12      35%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H229,9-12      35%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[30;75H[K[30;75H230,9-12      35%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H buf++;[30;75H[K[30;75H231,12[8C35%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H232,5[9C35%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m [46m([0m*buf == [1m[31m'\''[0m[46m)[0m {[30;75H[K[30;75H233,12[8C36%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H([12C)[29;12H buf++;[30;75H[K[30;75H234,9-12      36%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H235,9-12      36%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m {[30;75H[K[30;75H236,9-12      36%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H237,9-12      36%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[27;16H[46m{[0m[29;8H [46m}[0m[30;75H[K[30;75H238,6-9[7C36%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[16;19H[46m{[0m[26;16H{[28;9H}
    [46m}[0m[30;75H[K[30;75H239,5[9C37%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[15;19H{[28;5H}
    argv[argc] = [1m[35mNULL[0m;[30;75H[K[30;75H240,12[8C37%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H241,4[9C37%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (argc == [1m[35m0[0m)  [1m[36m/* ignore blank line */[0m[30;75H[K[30;75H242,12[8C37%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H243,9-12      37%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H244,0-1[7C37%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* should the job run in the background? */[0m[30;75H[K[30;75H245,12[8C38%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) {[30;75H[K[30;75H246,12[8C38%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H argv[--argc] = [1m[35mNULL[0m;[30;75H[K[30;75H247,9-12      38%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[27;45H[46m{[0m[29;4H [46m}[0m[30;75H[K[30;75H248,5[9C38%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;45H{[28;5H}
    [1m[33mreturn[0m bg;[30;75H[K[30;75H249,12[8C38%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H250,1[9C39%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H251,0-1[7C39%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H252,3[9C39%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H253,12[8C39%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H254,12[8C39%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H255,3[9C39%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[30;75H[K[30;75H256,12[8C40%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"quit"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H257,12[8C40%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H exit([1m[35m0[0m);[30;75H[K[30;75H258,12[8C40%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H259,12[8C40%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H listjobs(jobs);[30;75H[K[30;75H260,12[8C40%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H261,12[8C40%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H262,12[8C41%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H do_bgfg[46m([0margv[46m)[0m;[30;75H[K[30;75H263,12[8C41%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H(argv)
    [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H264,12[8C41%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H265,12[8C41%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H do_bgfg[46m([0margv[46m)[0m;[30;75H[K[30;75H266,12[8C41%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H(argv)
    [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H267,12[8C42%[29;12H[34h[?25h[?25l[28;12H[46m([0margv[46m)[0m[30;77H6[28;12H[34h[?25h[?25l(argv)[30;77H5[27;12H[34h[?25h[?25l[30;77H4[26;12H[34h[?25h[?25l[25;12H[46m([0margv[46m)[0m[30;77H3[25;12H[34h[?25h[?25l(argv)[30;77H2[24;12H[34h[?25h[?25l[30;77H1[23;12H[34h[?25h[?25l[30;77H0[22;12H[34h[?25h[?25l[30;76H59[21;12H[34h[?25h[?25l[30;77H8[20;12H[34h[?25h[?25l[30;77H7[19;12H[34h[?25h[?25l[30;77H6[18;12H[34h[?25h[?25l[30;77H5,3 [17;3H[34h[?25h[?25l[30;77H6,12[18;12H[34h[?25h[?25l[30;77H7[19;12H[34h[?25h[?25l[30;77H8[20;12H[34h[?25h[?25l[30;77H9[21;12H[34h[?25h[?25l[30;76H60[22;12H[34h[?25h[?25l[30;77H1[23;12H[34h[?25h[?25l[30;77H2[24;12H[34h[?25h[?25l[25;12H[46m([0margv[46m)[0m[30;77H3[25;12H[34h[?25h[?25l(argv)[30;77H4[26;12H[34h[?25h[?25l[30;77H5[27;12H[34h[?25h[?25l[28;12H[46m([0margv[46m)[0m[30;77H6[28;12H[34h[?25h[?25l(argv)[30;77H7[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H268,12[8C42%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H269,12[8C42%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[27;44H[46m{[0m

  [46m}[0m[30;75H[K[30;75H270,3[9C42%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;44H{

  }
  [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m[30;75H[K[30;75H271,12[8C42%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[13;30H[46m{[29;1H}[0m[30;75H[K[30;75H272,1[9C42%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[12;30H{[28;1H}[30;75H[K[30;75H273,0-1[7C43%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H274,3[9C43%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * do_bgfg - Execute the builtin bg and fg commands[0m[30;75H[K[30;75H275,12[8C43%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H276,3[9C43%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H277,12[8C43%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H278,11[8C43%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[27;27H[46m{

}[0m[30;75H[K[30;75H279,1[9C44%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;27H{

}[30;75H[K[30;75H280,0-1[7C44%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H281,3[9C44%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H282,12[8C44%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H283,3[9C44%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m waitfg[46m([0mpid_t pid[46m)[0m {[30;75H[K[30;75H284,12[8C45%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H([9C)
    [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H285,12[8C45%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H286,12[8C45%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;75H[K[30;75H287,12[8C45%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[27;30H[46m{[0m[29;4H [46m}[0m[30;75H[K[30;75H288,5[9C45%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;30H{[28;5H}
    [1m[33mreturn[0m;[30;75H[K[30;75H289,11[8C45%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[23;24H[46m{[29;1H}[0m[30;75H[K[30;75H290,1[9C46%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[22;24H{[28;1H}[30;75H[K[30;75H291,0-1[7C46%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/*****************[0m[30;75H[K[30;75H292,12[8C46%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Signal handlers[0m[30;75H[K[30;75H293,12[8C46%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *****************/[0m[30;75H[K[30;75H294,12[8C46%[29;12H[34h[?25h[?25l[30;77H3[28;12H[34h[?25h[?25l[30;77H2[27;12H[34h[?25h[?25l[30;77H1,0-1[26;1H[34h[?25h[?25l[19;24H[46m{[25;1H}[0m[30;77H0,1  [25;1H[34h[?25h[?25l[19;24H{[25;1H}[30;76H89,11[24;11H[34h[?25h[?25l[21;30H[46m{[23;5H}[0m[30;77H8,5 [23;5H[34h[?25h[?25l[21;30H{[23;5H}[30;77H7,12[22;12H[34h[?25h[?25l[30;77H6[21;12H[34h[?25h[?25l[30;77H5[20;12H[34h[?25h[?25l[19;12H[46m([9C)[0m[30;77H4[19;12H[34h[?25h[?25l([9C)[30;77H3,3 [18;3H[34h[?25h[?25l[30;77H2,12[17;12H[34h[?25h[?25l[30;77H1,3 [16;3H[34h[?25h[?25l[30;77H0,0-1[15;1H[34h[?25h[?25l[12;27H[46m{

}[0m[30;76H79,1  [14;1H[34h[?25h[?25l[12;27H{

}[30;76H80,0-1[15;1H[34h[?25h[?25l[30;77H1,3  [16;3H[34h[?25h[?25l[30;77H2,12[17;12H[34h[?25h[?25l[30;77H3,3 [18;3H[34h[?25h[?25l[19;12H[46m([9C)[0m[30;77H4,12[19;12H[34h[?25h[?25l([9C)[30;77H5[20;12H[34h[?25h[?25l[30;77H6[21;12H[34h[?25h[?25l[30;77H7[22;12H[34h[?25h[?25l[21;30H[46m{[23;5H}[0m[30;77H8,5 [23;5H[34h[?25h[?25l[21;30H{[23;5H}[30;77H9,11[24;11H[34h[?25h[?25l[19;24H[46m{[25;1H}[0m[30;76H90,1 [25;1H[34h[?25h[?25l[19;24H{[25;1H}[30;77H1,0-1[26;1H[34h[?25h[?25l[30;77H2,12 [27;12H[34h[?25h[?25l[30;77H3[28;12H[34h[?25h[?25l[30;77H4[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H295,0-1[7C46%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H296,3[9C47%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever[0m[30;75H[K[30;75H297,12[8C47%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     a child job terminates (becomes a zombie), or stops because it[0m[30;75H[K[30;75H298,12[8C47%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     received a SIGSTOP or SIGTSTP signal. The handler reaps all[0m[30;75H[K[30;75H299,12[8C47%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     available zombie children, but doesn't wait for any other[0m[30;75H[K[30;75H300,12[8C47%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     currently running children to terminate.  [0m[30;75H[K[30;75H301,12[8C48%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H302,3[9C48%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {[30;75H[K[30;75H303,12[8C48%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid;[30;75H[K[30;75H304,12[8C48%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m status;[30;75H[K[30;75H305,12[8C48%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H306,12[8C48%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H307,0-1[7C49%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m ([46m([0mpid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)[46m)[0m > [1m[35m0[0m) {[30;75H[K[30;75H308,12[8C49%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H([60C)[29;8H [1m[36m// Get pointer to job struct[0m[30;75H[K[30;75H309,12[8C49%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H310,12[8C49%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H311,0-1[7C49%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m [46m([0mWIFEXITED(status)[46m)[0m {[30;75H[K[30;75H312,12[8C50%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;12H([17C)[29;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H313,12[8C50%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H314,8[9C50%[29;8H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[30;75H[K[30;75H315,12[8C50%[29;12H[34h[?25h[?25l[30;77H4,8 [28;8H[34h[?25h[?25l[30;77H3,12[27;12H[34h[?25h[?25l[26;12H[46m([17C)[0m[30;77H2[26;12H[34h[?25h[?25l([17C)[30;77H1,0-1[25;1H[34h[?25h[?25l[30;77H0,12 [24;12H[34h[?25h[?25l[30;76H09[23;12H[34h[?25h[?25l[22;12H[46m([60C)[0m[30;77H8[22;12H[34h[?25h[?25l([60C)[30;77H7,0-1[21;1H[34h[?25h[?25l[30;77H6,12 [20;12H[34h[?25h[?25l[30;77H5[19;12H[34h[?25h[?25l[30;77H4[18;12H[34h[?25h[?25l[30;77H3[17;12H[34h[?25h[?25l[30;77H2,3 [16;3H[34h[?25h[?25l[30;77H1,12[15;12H[34h[?25h[?25l[30;77H0[14;12H[34h[?25h[?25l[30;75H299[13;12H[34h[?25h[?25l[30;77H8[12;12H[34h[?25h[?25l[23m[24m[0m[H[J[1;4H exit([1m[35m0[0m); [1m[36m/* control never reaches here */[0m
}

[1m[36m/* 
 * eval - Evaluate the command line that the user has just typed in
 * 
 * If the user has requested a built-in command (quit, jobs, bg or fg)
 * then execute it immediately. Otherwise, fork a child process and
 * run the job in the context of the child. If the job is running in
 * the foreground, wait for it to terminate and then return.  Note:
 * each child process must have a unique process group ID so that our
 * background children don't receive SIGINT (SIGTSTP) from the kernel
 * when we type ctrl-c (ctrl-z) at the keyboard.  
*/[0m
[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {
    pid_t pid;
    [1m[32mchar[0m *argv[MAXARGS];
    [1m[32mint[0m bg = parseline(cmdline, argv);
    [1m[32mstruct[0m job_t *job;[21;4H [1m[36m// Check for built in command[0m
    [1m[33mif[0m (builtin_cmd(argv)) [1m[33mreturn[0m;[24;4H [1m[36m// Fork and Exec in child process[0m
    [1m[36m//[0m[30m[43mTODO[0m[1m[36m: sigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m
    [1m[33mif[0m ((pid = fork()) == [1m[35m0[0m) {[27;8H [1m[36m// In child process:[0m[28;8H sigprocmask(SIG_UNBLOCK, [1m[35mSIGCHLD[0m, [1m[35mNULL[0m);[29;8H execvp(argv[[1m[35m0[0m], argv);[30;75H167,1[9C26%[15;1H[34h[?25h[?25l[30;77H6[14;1H[34h[?25h[?25l[30;77H5[13;1H[34h[?25h[?25l[30;77H4[12;1H[34h[?25h[?25l[30;77H3[11;1H[34h[?25h[?25l[30;77H2[10;1H[34h[?25h[?25l[30;77H1[9;1H[34h[?25h[?25l[30;77H0[8;1H[34h[?25h[?25l[30;76H59[7;1H[34h[?25h[?25l[30;77H8[6;1H[34h[?25h[?25l[30;77H7[5;1H[34h[?25h[?25l[30;77H6[4;1H[34h[?25h[?25l[30;77H5[3;1H[34h[?25h[?25l[30;77H4[2;1H[34h[?25h[?25l[30;77H3[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H152,0-1[7C26%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H151,1[9C26%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H150,1-4[7C26%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H149,1-4[7C26%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H eval(cmdline);[30;75H[K[30;75H148,1-4[7C25%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[36m/* Evaluate the command line */[0m[30;75H[K[30;75H147,1-4[7C25%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H146,0-1[7C25%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H }[30;75H[K[30;75H145,1-4[7C25%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H exit([1m[35m0[0m);[30;75H[K[30;75H144,1-4[7C25%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H143,1-4[7C25%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[33mif[0m (feof([1m[35mstdin[0m)) { [1m[36m/* End of file (ctrl-d) */[0m[30;75H[K[30;75H142,1-4[7C24%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H app_error([1m[35m"fgets error"[0m);[30;75H[K[30;75H141,1-4[7C24%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[33mif[0m ((fgets(cmdline, MAXLINE, [1m[35mstdin[0m) == [1m[35mNULL[0m) && ferror([1m[35mstdin[0m))[30;75H[K[30;75H140,1-4[7C24%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H }[30;75H[K[30;75H139,1-4[7C24%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H138,1-4[7C24%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;10H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m"[0m, prompt);[30;75H[K[30;75H137,1-4[7C24%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[33mif[0m (emit_prompt) {[30;75H[K[30;75H136,1-4[7C23%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;6H [1m[36m/* Read command line */[0m[30;75H[K[30;75H135,1-4[7C23%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H134,0-1[7C23%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m ([1m[35m1[0m) {[30;75H[K[30;75H133,1[9C23%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Execute the shell's read/eval loop */[0m[30;75H[K[30;75H132,1[9C23%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H131,0-1[7C22%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H initjobs(jobs);[30;75H[K[30;75H130,1[9C22%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Initialize the job list */[0m[30;75H[K[30;75H129,1[9C22%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H128,0-1[7C22%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H Signal([1m[35mSIGQUIT[0m, sigquit_handler);[30;75H[K[30;75H127,1[9C22%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* This one provides a clean way to kill the shell */[0m[30;75H[K[30;75H126,1[9C22%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H125,0-1[7C21%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H Signal([1m[35mSIGCHLD[0m, sigchld_handler);  [1m[36m/* Terminated or stopped child */[0m[30;75H[K[30;75H124,1[9C21%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H Signal([1m[35mSIGTSTP[0m, sigtstp_handler);  [1m[36m/* ctrl-z */[0m[30;75H[K[30;75H123,1[9C21%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H Signal([1m[35mSIGINT[0m,  sigint_handler);   [1m[36m/* ctrl-c */[0m[30;75H[K[30;75H122,1[9C21%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* These are the ones you will need to implement */[0m[30;75H[K[30;75H121,1[9C21%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H120,0-1[7C21%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Install the signal handlers */[0m[30;75H[K[30;75H119,1[9C20%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H118,0-1[7C20%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H117,1[9C20%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H116,1-4[7C20%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H usage();[30;75H[K[30;75H115,1[9C20%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mdefault[0m:[30;75H[K[30;75H114,1-4[7C19%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mbreak[0m;[30;75H[K[30;75H113,1-4[7C19%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H emit_prompt = [1m[35m0[0m;  [1m[36m/* handy for automatic testing */[0m[30;75H[K[30;75H112,1[9C19%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mcase[0m [1m[35m'p'[0m:[12C [1m[36m/* don't print a prompt */[0m[30;75H[K[30;75H111,1[9C19%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mbreak[0m;[30;75H[K[30;75H110,1-4[7C19%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H verbose = [1m[35m1[0m;[30;75H[K[30;75H109,1[9C19%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mcase[0m [1m[35m'v'[0m:[12C [1m[36m/* emit additional diagnostic info */[0m[30;75H[K[30;75H108,1[9C18%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mbreak[0m;[30;75H[K[30;75H107,1-4[7C18%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H usage();[30;75H[K[30;75H106,1[9C18%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mcase[0m [1m[35m'h'[0m:[12C [1m[36m/* print help message */[0m[30;75H[K[30;75H105,1[9C18%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mswitch[0m (c) {[30;75H[K[30;75H104,1[9C18%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m ((c = getopt(argc, argv, [1m[35m"hvp"[0m)) != [1m[35mEOF[0m) {[30;75H[K[30;75H103,1[9C18%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Parse the command line */[0m[30;75H[K[30;75H102,1[9C17%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H101,0-1[7C17%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H dup2([1m[35m1[0m, [1m[35m2[0m);[30;75H[K[30;75H100,1[9C17%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m     * on the pipe connected to stdout) */[0m[30;75H[K[30;75H99,1[10C17%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Redirect stderr to stdout (so that driver will get all output[0m[30;75H[K[30;75H98,1[10C17%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H97,0-1[8C16%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m emit_prompt = [1m[35m1[0m; [1m[36m/* emit prompt (default) */[0m[30;75H[K[30;75H96,1[10C16%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m cmdline[MAXLINE];[30;75H[K[30;75H95,1[10C16%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m c;[30;75H[K[30;75H94,1[10C16%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H{[30;75H[K[30;75H93,1[10C16%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m main([1m[32mint[0m argc, [1m[32mchar[0m **argv)[30;75H[K[30;75H92,1[10C16%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H91,1[10C15%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * main - The shell's main routine [0m[30;75H[K[30;75H90,1[10C15%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*[0m[30;75H[K[30;75H89,1[10C15%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H88,0-1[8C15%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1Hhandler_t *Signal([1m[32mint[0m signum, handler_t *handler);[30;75H[K[30;75H87,1[10C15%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mtypedef[0m [1m[32mvoid[0m handler_t([1m[32mint[0m);[30;75H[K[30;75H86,1[10C15%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m app_error([1m[32mchar[0m *msg);[30;75H[K[30;75H85,1[10C14%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m unix_error([1m[32mchar[0m *msg);[30;75H[K[30;75H84,1[10C14%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m usage([1m[32mvoid[0m);[30;75H[K[30;75H83,1[10C14%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H82,0-1[8C14%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H81,1[10C14%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m pid2jid(pid_t pid);[30;75H[K[30;75H80,1[10C13%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);[30;75H[K[30;75H79,1[10C13%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);[30;75H[K[30;75H78,1[10C13%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1Hpid_t fgpid([1m[32mstruct[0m job_t *jobs);[30;75H[K[30;75H77,1[10C13%[1;1H[34h[?25h[?25l[30;76H8[2;1H[34h[?25h[?25l[30;76H9[3;1H[34h[?25h[?25l[30;75H80[4;1H[34h[?25h[?25l[30;76H1[5;1H[34h[?25h[?25l[30;76H2,0-1[6;1H[34h[?25h[?25l[30;76H3,1  [7;1H[34h[?25h[?25l[30;76H4[8;1H[34h[?25h[?25l[30;76H5[9;1H[34h[?25h[?25l[30;76H6[10;1H[34h[?25h[?25l[30;76H7[11;1H[34h[?25h[?25l[30;76H8,0-1[12;1H[34h[?25h[?25l[30;76H9,1  [13;1H[34h[?25h[?25l[30;75H90[14;1H[34h[?25h[?25l[30;76H1[15;1H[34h[?25h[?25l[30;76H2[16;1H[34h[?25h[?25l[30;76H3[17;1H[34h[?25h[?25l[30;76H4[18;1H[34h[?25h[?25l[30;76H5[19;1H[34h[?25h[?25l[30;76H6[20;1H[34h[?25h[?25l[30;76H7,0-1[21;1H[34h[?25h[?25l[30;76H8,1  [22;1H[34h[?25h[?25l[30;76H9[23;1H[34h[?25h[?25l[30;75H100,1[24;1H[34h[?25h[?25l[30;77H1,0-1[25;1H[34h[?25h[?25l[30;77H2,1  [26;1H[34h[?25h[?25l[30;77H3[27;1H[34h[?25h[?25l[30;77H4[28;1H[34h[?25h[?25l[30;77H5[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H usage();[30;75H[K[30;75H106,1[9C13%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H107,1-4[7C13%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'v'[0m:[12C [1m[36m/* emit additional diagnostic info */[0m[30;75H[K[30;75H108,1[9C13%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H verbose = [1m[35m1[0m;[30;75H[K[30;75H109,1[9C14%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H110,1-4[7C14%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m [1m[35m'p'[0m:[12C [1m[36m/* don't print a prompt */[0m[30;75H[K[30;75H111,1[9C14%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H emit_prompt = [1m[35m0[0m;  [1m[36m/* handy for automatic testing */[0m[30;75H[K[30;75H112,1[9C14%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mbreak[0m;[30;75H[K[30;75H113,1-4[7C14%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mdefault[0m:[30;75H[K[30;75H114,1-4[7C15%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H usage();[30;75H[K[30;75H115,1[9C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H116,1-4[7C15%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H117,1[9C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H118,0-1[7C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Install the signal handlers */[0m[30;75H[K[30;75H119,1[9C15%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H120,0-1[7C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* These are the ones you will need to implement */[0m[30;75H[K[30;75H121,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGINT[0m,  sigint_handler);   [1m[36m/* ctrl-c */[0m[30;75H[K[30;75H122,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGTSTP[0m, sigtstp_handler);  [1m[36m/* ctrl-z */[0m[30;75H[K[30;75H123,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGCHLD[0m, sigchld_handler);  [1m[36m/* Terminated or stopped child */[0m[30;75H[K[30;75H124,1[9C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H125,0-1[7C16%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* This one provides a clean way to kill the shell */[0m[30;75H[K[30;75H126,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H Signal([1m[35mSIGQUIT[0m, sigquit_handler);[30;75H[K[30;75H127,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H128,0-1[7C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Initialize the job list */[0m[30;75H[K[30;75H129,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H initjobs(jobs);[30;75H[K[30;75H130,1[9C17%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H131,0-1[7C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Execute the shell's read/eval loop */[0m[30;75H[K[30;75H132,1[9C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m ([1m[35m1[0m) {[30;75H[K[30;75H133,1[9C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H134,0-1[7C18%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[36m/* Read command line */[0m[30;75H[K[30;75H135,1-4[7C18%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[33mif[0m (emit_prompt) {[30;75H[K[30;75H136,1-4[7C18%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m"[0m, prompt);[30;75H[K[30;75H137,1-4[7C19%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H138,1-4[7C19%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H }[30;75H[K[30;75H139,1-4[7C19%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[33mif[0m ((fgets(cmdline, MAXLINE, [1m[35mstdin[0m) == [1m[35mNULL[0m) && ferror([1m[35mstdin[0m))[30;75H[K[30;75H140,1-4[7C19%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H app_error([1m[35m"fgets error"[0m);[30;75H[K[30;75H141,1-4[7C19%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[33mif[0m (feof([1m[35mstdin[0m)) { [1m[36m/* End of file (ctrl-d) */[0m[30;75H[K[30;75H142,1-4[7C19%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H fflush([1m[35mstdout[0m);[30;75H[K[30;75H143,1-4[7C20%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;10H exit([1m[35m0[0m);[30;75H[K[30;75H144,1-4[7C20%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H }[30;75H[K[30;75H145,1-4[7C20%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H146,0-1[7C20%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H [1m[36m/* Evaluate the command line */[0m[30;75H[K[30;75H147,1-4[7C20%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H eval(cmdline);[30;75H[K[30;75H148,1-4[7C21%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H149,1-4[7C21%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;6H fflush([1m[35mstdout[0m);[30;75H[K[30;75H150,1-4[7C21%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H151,1[9C21%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H152,0-1[7C21%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H exit([1m[35m0[0m); [1m[36m/* control never reaches here */[0m[30;75H[K[30;75H153,1[9C21%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H154,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H155,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H156,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * eval - Evaluate the command line that the user has just typed in[0m[30;75H[K[30;75H157,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * [0m[30;75H[K[30;75H158,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * If the user has requested a built-in command (quit, jobs, bg or fg)[0m[30;75H[K[30;75H159,1[9C22%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * then execute it immediately. Otherwise, fork a child process and[0m[30;75H[K[30;75H160,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * run the job in the context of the child. If the job is running in[0m[30;75H[K[30;75H161,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * the foreground, wait for it to terminate and then return.  Note:[0m[30;75H[K[30;75H162,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * each child process must have a unique process group ID so that our[0m[30;75H[K[30;75H163,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * background children don't receive SIGINT (SIGTSTP) from the kernel[0m[30;75H[K[30;75H164,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * when we type ctrl-c (ctrl-z) at the keyboard.  [0m[30;75H[K[30;75H165,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m*/[0m[30;75H[K[30;75H166,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {[30;75H[K[30;75H167,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid;[30;75H[K[30;75H168,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H169,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m bg = parseline(cmdline, argv);[30;75H[K[30;75H170,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H171,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H172,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Check for built in command[0m[30;75H[K[30;75H173,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (builtin_cmd(argv)) [1m[33mreturn[0m;[30;75H[K[30;75H174,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H175,0-1[7C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Fork and Exec in child process[0m[30;75H[K[30;75H176,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m//[0m[30m[43mTODO[0m[1m[36m: sigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[30;75H[K[30;75H177,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m ((pid = fork()) == [1m[35m0[0m) {[30;75H[K[30;75H178,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// In child process:[0m[30;75H[K[30;75H179,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H sigprocmask(SIG_UNBLOCK, [1m[35mSIGCHLD[0m, [1m[35mNULL[0m);[30;75H[K[30;75H180,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H execvp(argv[[1m[35m0[0m], argv);[30;75H[K[30;75H181,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H exit(NOTFOUND); [1m[36m// Do not continue[0m[30;75H[K[30;75H182,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H183,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H184,0-1[7C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Shell waits or prints background job info[0m[30;75H[K[30;75H185,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H addjob(jobs, pid, bg ? BG : FG, cmdline);[30;75H[K[30;75H186,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m(bg) {[30;75H[K[30;75H187,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Print background job info[0m[30;75H[K[30;75H188,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H189,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H190,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H191,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H waitfg(pid);[30;75H[K[30;75H192,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H193,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H194,1[9C29%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[1;26H[46m{[29;1H}[0m[30;75H[K[30;75H195,1[9C29%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[28;1H}[30;75H[K[30;75H196,0-1[7C29%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H197,1[9C29%[29;1H[34h[?25h[?25l[30;77H6,0-1[28;1H[34h[?25h[?25l[30;77H5,1  [27;1H[34h[?25h[?25l[30;77H4[26;1H[34h[?25h[?25l[30;77H3[25;1H[34h[?25h[?25l[30;77H2[24;1H[34h[?25h[?25l[30;77H1[23;1H[34h[?25h[?25l[30;77H0[22;1H[34h[?25h[?25l[30;76H89[21;1H[34h[?25h[?25l[30;77H8[20;1H[34h[?25h[?25l[30;77H7[19;1H[34h[?25h[?25l[30;77H6[18;1H[34h[?25h[?25l[30;77H5[17;1H[34h[?25h[?25l[30;77H4,0-1[16;1H[34h[?25h[?25l[30;77H3,1  [15;1H[34h[?25h[?25l[30;77H2[14;1H[34h[?25h[?25l[30;77H1[13;1H[34h[?25h[?25l[30;77H0[12;1H[34h[?25h[?25l[30;76H79[11;1H[34h[?25h[?25l[30;77H8[10;1H[34h[?25h[?25l[30;77H7[9;1H[34h[?25h[?25l[30;77H6[8;1H[34h[?25h[?25l[30;77H5,0-1[7;1H[34h[?25h[?25l[30;77H4,1  [6;1H[34h[?25h[?25l[30;77H3[5;1H[34h[?25h[?25l[30;77H2[4;1H[34h[?25h[?25l[30;77H1[3;1H[34h[?25h[?25l[30;77H0[2;1H[34h[?25h[?25l[30;76H69[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[30;75H[K[30;75H168,1[9C29%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {[30;75H[K[30;75H167,1[9C29%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m*/[0m[30;75H[K[30;75H166,1[9C29%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * when we type ctrl-c (ctrl-z) at the keyboard.  [0m[30;75H[K[30;75H165,1[9C28%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * background children don't receive SIGINT (SIGTSTP) from the kernel[0m[30;75H[K[30;75H164,1[9C28%[1;1H[34h[?25h[?25l[30;77H5[2;1H[34h[?25h[?25l[30;77H6[3;1H[34h[?25h[?25l[30;77H7[4;1H[34h[?25h[?25l[30;77H8[5;1H[34h[?25h[?25l[30;77H9[6;1H[34h[?25h[?25l[30;76H70[7;1H[34h[?25h[?25l[30;77H1[8;1H[34h[?25h[?25l[30;77H2[9;1H[34h[?25h[?25l[30;77H3[10;1H[34h[?25h[?25l[30;77H4[11;1H[34h[?25h[?25l[30;77H5,0-1[12;1H[34h[?25h[?25l[30;77H4,1  [11;1H[34h[?25h[?25l[30;77H3[10;1H[34h[?25h[?25l[30;77H2[9;1H[34h[?25h[?25l[30;77H1[8;1H[34h[?25h[?25l[30;79H22[8;22H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H171,22[8C28%[8;22H[34h[?25h[?25l[30;80H3[8;23H[34h[?25h[?25l[9;29r[9;1H[L[1;30r[30;75H[K[30;75H172,5[9C28%[9;5H[34h[?25h[?25l s[30;79H6[9;6H[34h[?25h[?25lsi[30;79H7[9;7H[34h[?25h[?25lig[30;79H8[9;8H[34h[?25h[?25lgs[30;79H9[9;9H[34h[?25h[?25lse[30;79H10[9;10H[34h[?25h[?25let[30;80H1[9;11H[34h[?25h[?25lt_[30;80H2[9;12H[34h[?25h[?25l_t[30;80H3[9;13H[34h[?25h[?25ltm[30;80H4[9;14H[34h[?25h[?25lma[30;80H5[9;15H[34h[?25h[?25las[30;80H6[9;16H[34h[?25h[?25lsk[30;80H7[9;17H[34h[?25h[?25lkl[30;80H8[9;18H[34h[?25h[?25l[9;17H[K[30;80H7[9;17H[34h[?25h[?25l[9;16H[K[30;80H6[9;16H[34h[?25h[?25l[9;15H[K[30;80H5[9;15H[34h[?25h[?25l[9;14H[K[30;80H4[9;14H[34h[?25h[?25l[9;13H[K[30;80H3[9;13H[34h[?25h[?25l[30;80H4[9;14H[34h[?25h[?25l m[30;80H5[9;15H[34h[?25h[?25lma[30;80H6[9;16H[34h[?25h[?25las[30;80H7[9;17H[34h[?25h[?25lsk[30;80H8[9;18H[34h[?25h[?25lk;[30;80H9[9;19H[34h[?25h[?25l[30;77H3,5 [10;5H[34h[?25h[?25l[30;77H4,19[11;19H[34h[?25h[?25l[30;77H5[12;19H[34h[?25h[?25l[30;77H6,1 [13;1H[34h[?25h[?25l[30;77H7,19[14;19H[34h[?25h[?25l[30;79H38[14;38H[34h[?25h[?25l[15;29r[15;1H[L[1;30r[15;4H [1m[36m// [0m[30;75H[K[30;75H178,8[9C28%[15;8H[34h[?25h[?25l[15;7H[K[30;79H7[15;7H[34h[?25h[?25l/[15;6H[K[30;79H6[15;6H[34h[?25h[?25l[15;5H[K[30;79H5[15;5H[34h[?25h[?25l S[30;79H6[15;6H[34h[?25h[?25lSi[30;79H7[15;7H[34h[?25h[?25lig[30;79H8[15;8H[34h[?25h[?25lge[30;79H9[15;9H[34h[?25h[?25lem[30;79H10[15;10H[34h[?25h[?25lmp[30;80H1[15;11H[34h[?25h[?25lpt[30;80H2[15;12H[34h[?25h[?25lty[30;80H3[15;13H[34h[?25h[?25l[30;80H [15;1H[34h[?25h[?25l[30;79H2[15;2H[34h[?25h[?25l[30;79H3[15;3H[34h[?25h[?25l[30;79H4[15;4H[34h[?25h[?25l[30;79H5[15;5H[34h[?25h[?25l igempty[15;12H[K[15;5H[34h[?25h[?25l digempty[30;79H6[15;6H[34h[?25h[?25l igempty[15;12H[K[30;79H5[15;5H[34h[?25h[?25l sigempty[30;79H6[15;6H[34h[?25h[?25l[30;79H13[15;13H[34h[?25h[?25lys[30;80H4[15;14H[34h[?25h[?25lse[30;80H5[15;15H[34h[?25h[?25let[30;80H6[15;16H[34h[?25h[?25lt([17;30H[1m[37m[41m{[22;5H}[26;12H{[0m[30;80H7[15;17H[34h[?25h[?25l(&[30;80H8[15;18H[34h[?25h[?25l&m[30;80H9[15;19H[34h[?25h[?25lma[30;79H20[15;20H[34h[?25h[?25las[30;80H1[15;21H[34h[?25h[?25lsk[30;80H2[15;22H[34h[?25h[?25lk)[17;30H{[22;5H}[26;12H{[15;16H[46m([0m&mask[46m)[0m[30;80H3[15;23H[34h[?25h[?25l[46m)[0m;[15;16H(&mask)[30;80H4[15;24H[34h[?25h[?25l[16;29r[16;1H[L[1;30r[30;75H[K[30;75H179,5[9C28%[16;5H[34h[?25h[?25l s[30;79H6[16;6H[34h[?25h[?25lsi[30;79H7[16;7H[34h[?25h[?25lig[30;79H8[16;8H[34h[?25h[?25lga[30;79H9[16;9H[34h[?25h[?25lad[30;79H10[16;10H[34h[?25h[?25ldd[30;80H1[16;11H[34h[?25h[?25lds[30;80H2[16;12H[34h[?25h[?25lse[30;80H3[16;13H[34h[?25h[?25let[30;80H4[16;14H[34h[?25h[?25lt([18;30H[1m[37m[41m{[23;5H}[27;12H{[0m[30;80H5[16;15H[34h[?25h[?25l(&[30;80H6[16;16H[34h[?25h[?25l&m[30;80H7[16;17H[34h[?25h[?25lma[30;80H8[16;18H[34h[?25h[?25las[30;80H9[16;19H[34h[?25h[?25lsk[30;79H20[16;20H[34h[?25h[?25lk,[30;80H1[16;21H[34h[?25h[?25l[30;80H2[16;22H[34h[?25h[?25l S[30;80H3[16;23H[34h[?25h[?25lSI[30;80H4[16;24H[34h[?25h[?25lIG[30;80H5[16;25H[34h[?25h[?25lGC[30;80H6[16;26H[34h[?25h[?25lCH[30;80H7[16;27H[34h[?25h[?25lHL[30;80H8[16;28H[34h[?25h[?25l[1m[35mSIGCHLD[0m[30;80H9[16;29H[34h[?25h[?25l[1m[35mD[0m)[18;30H{[23;5H}[27;12H{[16;14H[46m([14C)[0m[30;79H30[16;30H[34h[?25h[?25l[46m)[0m;[16;14H([14C)[30;80H1[16;31H[34h[?25h[?25l[30;76H80[17;31H[34h[?25h[?25l[30;80H0[17;30H[34h[?25h[?25l[30;79H29[17;29H[34h[?25h[?25l[30;80H8[17;28H[34h[?25h[?25l[30;80H7[17;27H[34h[?25h[?25l[30;80H6[17;26H[34h[?25h[?25l[1m[36m[46m([24C)[0m[30;80H5[17;25H[34h[?25h[?25l[30;80H4[17;24H[34h[?25h[?25l[1m[36m([24C)[0m[30;80H3[17;23H[34h[?25h[?25l[30;80H2[17;22H[34h[?25h[?25l[30;80H1[17;21H[34h[?25h[?25l[30;80H0[17;20H[34h[?25h[?25l[30;79H19[17;19H[34h[?25h[?25l[30;80H8[17;18H[34h[?25h[?25l[30;80H7[17;17H[34h[?25h[?25l[30;80H6[17;16H[34h[?25h[?25l[30;80H5[17;15H[34h[?25h[?25l[30;80H4[17;14H[34h[?25h[?25l[30;80H3[17;13H[34h[?25h[?25l[1m[36m:sigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[17;76H[K[30;80H2[17;12H[34h[?25h[?25l[1m[36mTODOsigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[17;75H[K[30;80H1[17;11H[34h[?25h[?25l[1m[36mDsigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[17;74H[K[30;80H0[17;10H[34h[?25h[?25l[1m[36mOsigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[17;73H[K[30;79H9 [17;9H[34h[?25h[?25l[1m[36mTsigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[17;72H[K[30;79H8[17;8H[34h[?25h[?25l[1m[36m/sigprocmask(SIG_BLOCK, SIGCHLD, NULL);  // Block SIGCHLD for now[0m[17;71H[K[30;79H7[17;7H[34h[?25h[?25l/sigprocmask(SIG_BLOCK, [1m[35mSIGCHLD[0m, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[17;70H[K[30;79H6[17;6H[34h[?25h[?25l sigprocmask(SIG_BLOCK, [1m[35mSIGCHLD[0m, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[17;69H[K[30;79H5[17;5H[34h[?25h[?25l[30;79H6[17;6H[34h[?25h[?25l[30;79H7[17;7H[34h[?25h[?25l[30;79H8[17;8H[34h[?25h[?25l[30;79H9[17;9H[34h[?25h[?25l[30;79H10[17;10H[34h[?25h[?25l[30;80H1[17;11H[34h[?25h[?25l[30;80H2[17;12H[34h[?25h[?25l[30;80H3[17;13H[34h[?25h[?25l[30;80H4[17;14H[34h[?25h[?25l[30;80H5[17;15H[34h[?25h[?25lk[46m([24C)[0m[30;80H6[17;16H[34h[?25h[?25l[30;80H7[17;17H[34h[?25h[?25l([24C)[30;80H8[17;18H[34h[?25h[?25l[30;80H9[17;19H[34h[?25h[?25l[30;79H20[17;20H[34h[?25h[?25l[30;80H1[17;21H[34h[?25h[?25l[30;80H2[17;22H[34h[?25h[?25l[30;80H3[17;23H[34h[?25h[?25l[30;80H4[17;24H[34h[?25h[?25l[30;80H5[17;25H[34h[?25h[?25l[30;80H6[17;26H[34h[?25h[?25l[30;80H7[17;27H[34h[?25h[?25l[30;80H8[17;28H[34h[?25h[?25l[30;80H9[17;29H[34h[?25h[?25l[30;80H8[17;28H[34h[?25h[?25l IGCHLD, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[17;68H[K[17;28H[34h[?25h[?25l GCHLD, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[17;67H[K[17;28H[34h[?25h[?25l CHLD, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[17;66H[K[17;28H[34h[?25h[?25l HLD, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[17;65H[K[17;28H[34h[?25h[?25l LD, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[17;64H[K[17;28H[34h[?25h[?25l D, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[17;63H[K[17;28H[34h[?25h[?25l , [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[17;62H[K[17;28H[34h[?25h[?25l &, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[30;80H9[17;29H[34h[?25h[?25l&m, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[30;79H30[17;30H[34h[?25h[?25lma, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[30;80H1[17;31H[34h[?25h[?25las, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[30;80H2[17;32H[34h[?25h[?25lsk, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m[30;80H3[17;33H[34h[?25h[?25l[18;30H[46m{[23;5H}[0m[30;77H1,31[18;31H[34h[?25h[?25l{[23;5H}[30;77H2,29[19;29H[34h[?25h[?25l[30;77H3,33[20;33H[34h[?25h[?25l[30;80H2[20;32H[34h[?25h[?25l[30;80H1[20;31H[34h[?25h[?25l[30;80H0[20;30H[34h[?25h[?25l[30;79H29[20;29H[34h[?25h[?25l[30;80H8[20;28H[34h[?25h[?25l[30;80H9[20;29H[34h[?25h[?25l[30;79H30[20;30H[34h[?25h[?25l[30;80H1[20;31H[34h[?25h[?25l[30;80H2[20;32H[34h[?25h[?25l[30;80H3[20;33H[34h[?25h[?25l[30;80H4[20;34H[34h[?25h[?25l IGCHLD, [1m[35mNULL[0m);[20;48H[K[20;34H[34h[?25h[?25l GCHLD, [1m[35mNULL[0m);[20;47H[K[20;34H[34h[?25h[?25l CHLD, [1m[35mNULL[0m);[20;46H[K[20;34H[34h[?25h[?25l HLD, [1m[35mNULL[0m);[20;45H[K[20;34H[34h[?25h[?25l LD, [1m[35mNULL[0m);[20;44H[K[20;34H[34h[?25h[?25l D, [1m[35mNULL[0m);[20;43H[K[20;34H[34h[?25h[?25l , [1m[35mNULL[0m);[20;42H[K[20;34H[34h[?25h[?25l &, [1m[35mNULL[0m);[30;80H5[20;35H[34h[?25h[?25l&m, [1m[35mNULL[0m);[30;80H6[20;36H[34h[?25h[?25lma, [1m[35mNULL[0m);[30;80H7[20;37H[34h[?25h[?25las, [1m[35mNULL[0m);[30;80H8[20;38H[34h[?25h[?25lsk, [1m[35mNULL[0m);[30;80H9[20;39H[34h[?25h[?25l[30;79H47[20;47H[34h[?25h[?25l[30;80H8[20;48H[34h[?25h[?25l /[30;80H9[20;49H[34h[?25h[?25l[1m[36m//[0m[30;79H50[20;50H[34h[?25h[?25l[1m[36m [0m[30;80H1[20;51H[34h[?25h[?25l[1m[36m U[0m[30;80H2[20;52H[34h[?25h[?25l[1m[36mUn[0m[30;80H3[20;53H[34h[?25h[?25l[1m[36mnb[0m[30;80H4[20;54H[34h[?25h[?25l[1m[36mbl[0m[30;80H5[20;55H[34h[?25h[?25l[1m[36mlo[0m[30;80H6[20;56H[34h[?25h[?25l[1m[36moc[0m[30;80H7[20;57H[34h[?25h[?25l[1m[36mck[0m[30;80H8[20;58H[34h[?25h[?25l[1m[36m [0m[30;80H9[20;59H[34h[?25h[?25l[1m[36m c[0m[30;79H60[20;60H[34h[?25h[?25l[1m[36mch[0m[30;80H1[20;61H[34h[?25h[?25l[1m[36mhi[0m[30;80H2[20;62H[34h[?25h[?25l[1m[36mil[0m[30;80H3[20;63H[34h[?25h[?25l[1m[36mld[0m[30;80H4[20;64H[34h[?25h[?25l[1m[36md'[0m[30;80H5[20;65H[34h[?25h[?25l[1m[36m's[0m[30;80H6[20;66H[34h[?25h[?25l[1m[36m [0m[30;80H7[20;67H[34h[?25h[?25l[1m[36m S[0m[30;80H8[20;68H[34h[?25h[?25l[1m[36mSI[0m[30;80H9[20;69H[34h[?25h[?25l[1m[36mIG[0m[30;79H70[20;70H[34h[?25h[?25l[1m[36mGC[0m[30;80H1[20;71H[34h[?25h[?25l[1m[36mCH[0m[30;80H2[20;72H[34h[?25h[?25l[1m[36mHL[0m[30;80H3[20;73H[34h[?25h[?25l[1m[36mLD[0m[30;80H4[20;74H[34h[?25h[?25l[30;77H4,31[21;31H[34h[?25h[?25l[30;77H5,43[22;43H[34h[?25h[?25l[18;30H[46m{[23;5H}[0m[30;77H6,6 [23;6H[34h[?25h[?25l[18;30H{[23;5H}[30;77H7,1[24;1H[34h[?25h[?25l[30;77H8,49[25;49H[34h[?25h[?25l[30;77H9,46[26;46H[34h[?25h[?25l[30;76H90,13[27;13H[34h[?25h[?25l[30;77H1,37[28;37H[34h[?25h[?25l[30;77H2,36[29;36H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H193,60[8C28%[29;60H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H194,13[8C28%[29;13H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H waitfg(pid);[30;75H[K[30;75H195,21[8C29%[29;21H[34h[?25h[?25l[30;77H4,13[28;13H[34h[?25h[?25l[30;77H3,60[27;60H[34h[?25h[?25l[30;77H2,36[26;36H[34h[?25h[?25l[30;77H1,37[25;37H[34h[?25h[?25l[24;12H[46m{[28;5H}[0m[30;77H0,13[24;13H[34h[?25h[?25l{[28;5H}[30;76H89,46[23;46H[34h[?25h[?25l[30;77H8,49[22;49H[34h[?25h[?25l[30;77H9,46[23;46H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H190,5[9C29%[24;5H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[30;75H[K[30;75H191,5[9C29%[25;5H[34h[?25h[?25l[30;77H0,1[24;1H[34h[?25h[?25l[30;76H89,5[23;5H[34h[?25h[?25l[30;77H8[22;5H[34h[?25h[?25l[30;77H7,1[21;1H[34h[?25h[?25l[15;30H[46m{[20;5H}[0m[30;77H6,5[20;5H[34h[?25h[?25l[30;79H6[20;6H[34h[?25h[?25l[15;30H{[20;5H}[30;79H7[20;7H[34h[?25h[?25l e[30;79H8[20;8H[34h[?25h[?25lel[30;79H9[20;9H[34h[?25h[?25lls[30;79H10[20;10H[34h[?25h[?25l[1m[33melse[0m[30;80H1[20;11H[34h[?25h[?25l[30;80H2[20;12H[34h[?25h[?25l {[30;80H3[20;13H[34h[?25h[?25l[30;77H7,1 [21;1H[34h[?25h[?25l[30;77H8,13[22;13H[34h[?25h[?25l[30;77H9[23;13H[34h[?25h[?25l[30;76H90,1 [24;1H[34h[?25h[?25l}[20;12H[46m{[24;1H}[0m[30;79H2[24;2H[34h[?25h[?25l[30;79H1[24;1H[34h[?25h[?25l[46m [0m   }    [46m}[0m[30;79H5[24;5H[34h[?25h[?25l[20;12H{[24;5H}[30;76H89[23;5H[34h[?25h[?25l[30;79H4[23;4H[34h[?25h[?25l[30;79H5[23;5H[34h[?25h[?25l     addjob(jobs, pid, bg ? BG : FG, cmdline);[30;79H9[23;9H[34h[?25h[?25l[30;77H8[22;9H[34h[?25h[?25l[30;79H8[22;8H[34h[?25h[?25l[30;79H7[22;7H[34h[?25h[?25l[30;79H6[22;6H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l     [1m[36m// Shell waits or prints background job info[0m[30;79H9[22;9H[34h[?25h[?25l[30;77H7,1[21;1H[34h[?25h[?25l[20;29r[29;1H
[1;30r[20;4H } [1m[33melse[0m {[29;4H } [1m[33melse[0m {[30;75H[K[30;75H186,13[8C29%[20;12H[46m{[23;5H}[20;13H[34h[?25h[?25l[0m{[23;5H}[30;77H7[21;13H[34h[?25h[?25l[30;77H8[22;13H[34h[?25h[?25l[30;79H50[22;50H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H189,9[9C29%[23;9H[34h[?25h[?25l s[30;79H10[23;10H[34h[?25h[?25lsi[30;80H1[23;11H[34h[?25h[?25lig[30;80H2[23;12H[34h[?25h[?25lgp[30;80H3[23;13H[34h[?25h[?25lpr[30;80H4[23;14H[34h[?25h[?25lro[30;80H5[23;15H[34h[?25h[?25loc[30;80H6[23;16H[34h[?25h[?25lcm[30;80H7[23;17H[34h[?25h[?25lma[30;80H8[23;18H[34h[?25h[?25las[30;80H9[23;19H[34h[?25h[?25lsk[30;79H20[23;20H[34h[?25h[?25lk(
    [1m[37m[41m}[26;12H{[0m[30;80H1[23;21H[34h[?25h[?25l(S[30;80H2[23;22H[34h[?25h[?25lSI[30;80H3[23;23H[34h[?25h[?25lIG[30;80H4[23;24H[34h[?25h[?25lG_[30;80H5[23;25H[34h[?25h[?25l_U[30;80H6[23;26H[34h[?25h[?25lUN[30;80H7[23;27H[34h[?25h[?25lNB[30;80H8[23;28H[34h[?25h[?25lBL[30;80H9[23;29H[34h[?25h[?25lLO[30;79H30[23;30H[34h[?25h[?25lOC[30;80H1[23;31H[34h[?25h[?25lCK[30;80H2[23;32H[34h[?25h[?25lK,[30;80H3[23;33H[34h[?25h[?25l[30;80H4[23;34H[34h[?25h[?25l &[30;80H5[23;35H[34h[?25h[?25l&m[30;80H6[23;36H[34h[?25h[?25lma[30;80H7[23;37H[34h[?25h[?25las[30;80H8[23;38H[34h[?25h[?25lsk[30;80H9[23;39H[34h[?25h[?25lk,[30;79H40[23;40H[34h[?25h[?25l[30;80H1[23;41H[34h[?25h[?25l N[30;80H2[23;42H[34h[?25h[?25lNU[30;80H3[23;43H[34h[?25h[?25lUL[30;80H4[23;44H[34h[?25h[?25l[1m[35mNULL[0m[30;80H5[23;45H[34h[?25h[?25l[1m[35mL[0m)
    }[26;12H{[23;20H[46m([24C)[0m[30;80H6[23;46H[34h[?25h[?25l[46m)[0m;[23;20H([24C)[30;80H7[23;47H[34h[?25h[?25l[30;80H8[23;48H[34h[?25h[?25l /[30;80H9[23;49H[34h[?25h[?25l[1m[36m//[0m[30;79H50[23;50H[34h[?25h[?25l[1m[36m [0m[30;80H1[23;51H[34h[?25h[?25l[1m[36m U[0m[30;80H2[23;52H[34h[?25h[?25l[1m[36mUn[0m[30;80H3[23;53H[34h[?25h[?25l[1m[36mnb[0m[30;80H4[23;54H[34h[?25h[?25l[1m[36mbl[0m[30;80H5[23;55H[34h[?25h[?25l[1m[36mlo[0m[30;80H6[23;56H[34h[?25h[?25l[1m[36moc[0m[30;80H7[23;57H[34h[?25h[?25l[1m[36mck[0m[30;80H8[23;58H[34h[?25h[?25l[1m[36m [0m[30;80H9[23;59H[34h[?25h[?25l[1m[36m s[0m[30;79H60[23;60H[34h[?25h[?25l[1m[36msh[0m[30;80H1[23;61H[34h[?25h[?25l[1m[36mhe[0m[30;80H2[23;62H[34h[?25h[?25l[1m[36mel[0m[30;80H3[23;63H[34h[?25h[?25l[1m[36mll[0m[30;80H4[23;64H[34h[?25h[?25l[1m[36ml'[0m[30;80H5[23;65H[34h[?25h[?25l[1m[36m's[0m[30;80H6[23;66H[34h[?25h[?25l[1m[36m [0m[30;80H7[23;67H[34h[?25h[?25l[1m[36m S[0m[30;80H8[23;68H[34h[?25h[?25l[1m[36mSI[0m[30;80H9[23;69H[34h[?25h[?25l[1m[36mIG[0m[30;79H70[23;70H[34h[?25h[?25l[1m[36mGC[0m[30;80H1[23;71H[34h[?25h[?25l[1m[36mCH[0m[30;80H2[23;72H[34h[?25h[?25l[1m[36mHL[0m[30;80H3[23;73H[34h[?25h[?25l[1m[36mLD[0m[30;80H4[23;74H[34h[?25h[?25l[30;77H8,50[22;50H[34h[?25h[?25l[30;77H7,53[21;53H[34h[?25h[?25l[20;12H[46m{[24;5H}[0m[30;77H6,1[20;13H[34h[?25h[?25l{[24;5H}[30;77H5,4[19;43H[34h[?25h[?25l[30;77H4,31[18;31H[34h[?25h[?25l[30;77H3,74[17;74H[34h[?25h[?25l[18;29r[18;1H[L[1;30r[30;75H[K[30;75H184,9[9C29%[18;9H[34h[?25h[?25l[30;77H7[21;9H[34h[?25h[?25l[30;76H90[24;9H[34h[?25h[?25l[30;76H89[23;9H[34h[?25h[?25l[30;77H8[22;9H[34h[?25h[?25l[30;77H7[21;9H[34h[?25h[?25l[30;77H6[20;9H[34h[?25h[?25l[30;77H5[19;9H[34h[?25h[?25l[30;77H4,1[18;1H[34h[?25h[?25l[30;79H5[18;5H[34h[?25h[?25l[30;79H9[18;9H[34h[?25h[?25l s[30;79H10[18;10H[34h[?25h[?25lse[30;80H1[18;11H[34h[?25h[?25let[30;80H2[18;12H[34h[?25h[?25ltp[30;80H3[18;13H[34h[?25h[?25lpg[30;80H4[18;14H[34h[?25h[?25lgi[30;80H5[18;15H[34h[?25h[?25lid[30;80H6[18;16H[34h[?25h[?25ld([21;5H[1m[37m[41m}[6C{[25;5H}[27;12H{[0m[30;80H7[18;17H[34h[?25h[?25l()[21;5H}[6C{[25;5H}[27;12H{[18;16H[46m()[0m[30;80H8[18;18H[34h[?25h[?25l()[30;77H3[17;18H[34h[?25h[?25l[30;80H7[17;17H[34h[?25h[?25l[18;16H[46m()[0m[30;77H4[18;17H[34h[?25h[?25l[46m(p[0m)p[46m)[0m[30;80H8[18;18H[34h[?25h[?25lp[46mi[0m)i[46m)[0m[30;80H9[18;19H[34h[?25h[?25li[46md[0m)d[46m)[0m[30;79H20[18;20H[34h[?25h[?25ld[46m,[0m),[46m)[0m[30;80H1[18;21H[34h[?25h[?25l,[46m [0m) [46m)[0m[30;80H2[18;22H[34h[?25h[?25l [46mp[0m)p[46m)[0m[30;80H3[18;23H[34h[?25h[?25lp[46mi[0m)i[46m)[0m[30;80H4[18;24H[34h[?25h[?25li[46md[0m)d[46m)[0m[30;80H5[18;25H[34h[?25h[?25l[30;80H6[18;26H[34h[?25h[?25l[46m)[0ml[18;16H([8C)[30;80H7[18;27H[34h[?25h[?25l[30;80H8[18;28H[34h[?25h[?25l[30;80H7[18;27H[34h[?25h[?25l[18;26H[K[18;16H[46m([8C)[0m[30;80H6[18;26H[34h[?25h[?25l[46m)[0m;[18;16H([8C)[30;80H7[18;27H[34h[?25h[?25l[30;80H8[18;28H[34h[?25h[?25l /[30;80H9[18;29H[34h[?25h[?25l[1m[36m//[0m[30;79H30[18;30H[34h[?25h[?25l[1m[36m [0m[30;80H1[18;31H[34h[?25h[?25l[1m[36m M[0m[30;80H2[18;32H[34h[?25h[?25l[1m[36mMa[0m[30;80H3[18;33H[34h[?25h[?25l[1m[36mak[0m[30;80H4[18;34H[34h[?25h[?25l[1m[36mke[0m[30;80H5[18;35H[34h[?25h[?25l[1m[36m [0m[30;80H6[18;36H[34h[?25h[?25l[1m[36m p[0m[30;80H7[18;37H[34h[?25h[?25l[1m[36mpr[0m[30;80H8[18;38H[34h[?25h[?25l[1m[36mro[0m[30;80H9[18;39H[34h[?25h[?25l[1m[36moc[0m[30;79H40[18;40H[34h[?25h[?25l[1m[36mce[0m[30;80H1[18;41H[34h[?25h[?25l[1m[36mes[0m[30;80H2[18;42H[34h[?25h[?25l[1m[36mss[0m[30;80H3[18;43H[34h[?25h[?25l[1m[36m [0m[30;80H4[18;44H[34h[?25h[?25l[1m[36m i[0m[30;80H5[18;45H[34h[?25h[?25l[1m[36mit[0m[30;80H6[18;46H[34h[?25h[?25l[1m[36mts[0m[30;80H7[18;47H[34h[?25h[?25l[1m[36m [0m[30;80H8[18;48H[34h[?25h[?25l[1m[36m o[0m[30;80H9[18;49H[34h[?25h[?25l[1m[36mow[0m[30;79H50[18;50H[34h[?25h[?25l[1m[36mwn[0m[30;80H1[18;51H[34h[?25h[?25l[1m[36m [0m[30;80H2[18;52H[34h[?25h[?25l[1m[36m g[0m[30;80H3[18;53H[34h[?25h[?25l[1m[36mgr[0m[30;80H4[18;54H[34h[?25h[?25l[1m[36mro[0m[30;80H5[18;55H[34h[?25h[?25l[1m[36mou[0m[30;80H6[18;56H[34h[?25h[?25l[1m[36mup[0m[30;80H7[18;57H[34h[?25h[?25l[30;77H3[17;57H[34h[?25h[?25l[30;80H6[17;56H[34h[?25h[?25l[30;80H5[17;55H[34h[?25h[?25l[30;80H4[17;54H[34h[?25h[?25l[30;80H3[17;53H[34h[?25h[?25l[30;80H2[17;52H[34h[?25h[?25l[30;80H1[17;51H[34h[?25h[?25l[30;80H0[17;50H[34h[?25h[?25l[30;79H49[17;49H[34h[?25h[?25l[30;80H8[17;48H[34h[?25h[?25l[30;80H7[17;47H[34h[?25h[?25l[17;20H[46m([24C)[0m[30;80H6[17;46H[34h[?25h[?25l[30;80H5[17;45H[34h[?25h[?25l[17;20H([24C)[30;80H4[17;44H[34h[?25h[?25l[30;80H3[17;43H[34h[?25h[?25l[30;80H2[17;42H[34h[?25h[?25l[30;80H1[17;41H[34h[?25h[?25l[30;80H0[17;40H[34h[?25h[?25l[30;79H39[17;39H[34h[?25h[?25l[30;80H8[17;38H[34h[?25h[?25l[30;80H7[17;37H[34h[?25h[?25l[30;80H6[17;36H[34h[?25h[?25l[30;80H5[17;35H[34h[?25h[?25l[30;80H4[17;34H[34h[?25h[?25l[30;80H3[17;33H[34h[?25h[?25l[30;77H4[18;33H[34h[?25h[?25l[30;80H2[18;32H[34h[?25h[?25l[30;80H1[18;31H[34h[?25h[?25l[30;80H0[18;30H[34h[?25h[?25l[30;79H29[18;29H[34h[?25h[?25l[30;80H8[18;28H[34h[?25h[?25l[30;80H9[18;29H[34h[?25h[?25l[30;80H8[18;28H[34h[?25h[?25l  [1m[36m// Make process its own group[0m[30;80H9[18;29H[34h[?25h[?25l     [1m[36m// Make process its own group[0m[30;79H33[18;33H[34h[?25h[?25l     [1m[36m// Make process its own group[0m[30;80H7[18;37H[34h[?25h[?25l     [1m[36m// Make process its own group[0m[30;79H41[18;41H[34h[?25h[?25l     [1m[36m// Make process its own group[0m[30;80H5[18;45H[34h[?25h[?25l     [1m[36m// Make process its own group[0m[30;80H9[18;49H[34h[?25h[?25l     [1m[36m// Make process its own group[0m[30;79H53[18;53H[34h[?25h[?25l     [1m[36m// Make process its own group[0m[30;80H7[18;57H[34h[?25h[?25l     [1m[36m// Make process its own group[0m[30;79H61[18;61H[34h[?25h[?25l[19;29r[19;1H[L[1;30r[18;60H     [1m[36m// Make process its own grouu[19;1Hp[0m[30;75H[K[30;75H184,65[8C28%[18;65H[34h[?25h[?25l[18;29r[29;1H
[1;30r[18;1H        setpgid(pid, pid);[36C [1m[36m// Make process its own group[0m[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H184,64[8C29%[18;64H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;92H[K[30;80H3[18;63H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;91H[K[30;80H2[18;62H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;90H[K[30;80H1[18;61H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;89H[K[30;80H0[18;60H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;88H[K[30;79H59[18;59H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;87H[K[30;80H8[18;58H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;86H[K[30;80H7[18;57H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;85H[K[30;80H6[18;56H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;84H[K[30;80H5[18;55H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;83H[K[30;80H4[18;54H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;82H[K[30;80H3[18;53H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;81H[K[30;80H2[18;52H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;80H[K[30;80H1[18;51H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;79H[K[30;80H0[18;50H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;78H[K[30;79H49[18;49H[34h[?25h[?25l [1m[36m// Make process its own group[0m[18;77H[K[30;80H8[18;48H[34h[?25h[?25l[30;77H5,31[19;31H[34h[?25h[?25l[19;15H[46m([13C)[0m[30;80H0[19;30H[34h[?25h[?25l[19;15H([13C)[30;77H6[20;30H[34h[?25h[?25l[30;79H29[20;29H[34h[?25h[?25l[30;80H8[20;28H[34h[?25h[?25l[30;80H7[20;27H[34h[?25h[?25l[30;80H6[20;26H[34h[?25h[?25l[30;80H5[20;25H[34h[?25h[?25l     [1m[36m// Do not continue[0m[30;80H9[20;29H[34h[?25h[?25l     [1m[36m// Do not continue[0m[30;79H33[20;33H[34h[?25h[?25l     [1m[36m// Do not continue[0m[30;80H7[20;37H[34h[?25h[?25l     [1m[36m// Do not continue[0m[30;79H41[20;41H[34h[?25h[?25l     [1m[36m// Do not continue[0m[30;80H5[20;45H[34h[?25h[?25l     [1m[36m// Do not continue[0m[30;80H9[20;49H[34h[?25h[?25l     [1m[36m// Do not continue[0m[30;79H53[20;53H[34h[?25h[?25l     [1m[36m// Do not continue[0m[30;80H7[20;57H[34h[?25h[?25l [1m[36m// Do not continue[0m[20;74H[K[30;80H6[20;56H[34h[?25h[?25l [1m[36m// Do not continue[0m[20;73H[K[30;80H5[20;55H[34h[?25h[?25l [1m[36m// Do not continue[0m[20;72H[K[30;80H4[20;54H[34h[?25h[?25l [1m[36m// Do not continue[0m[20;71H[K[30;80H3[20;53H[34h[?25h[?25l [1m[36m// Do not continue[0m[20;70H[K[30;80H2[20;52H[34h[?25h[?25l [1m[36m// Do not continue[0m[20;69H[K[30;80H1[20;51H[34h[?25h[?25l [1m[36m// Do not continue[0m[20;68H[K[30;80H0[20;50H[34h[?25h[?25l [1m[36m// Do not continue[0m[20;67H[K[30;79H49[20;49H[34h[?25h[?25l [1m[36m// Do not continue[0m[20;66H[K[30;80H8[20;48H[34h[?25h[?25l[30;77H5,31[19;31H[34h[?25h[?25l[30;80H3[19;33H[34h[?25h[?25l[30;80H7[19;37H[34h[?25h[?25l[30;79H41[19;41H[34h[?25h[?25l[30;80H5[19;45H[34h[?25h[?25l[30;80H9[19;49H[34h[?25h[?25l[30;79H53[19;53H[34h[?25h[?25l[30;80H7[19;57H[34h[?25h[?25l[30;80H6[19;56H[34h[?25h[?25l[30;80H5[19;55H[34h[?25h[?25l[30;80H4[19;54H[34h[?25h[?25l[30;80H3[19;53H[34h[?25h[?25l[30;80H2[19;52H[34h[?25h[?25l[30;80H1[19;51H[34h[?25h[?25l[30;80H0[19;50H[34h[?25h[?25l[30;79H49[19;49H[34h[?25h[?25l[30;80H8[19;48H[34h[?25h[?25l /[30;80H9[19;49H[34h[?25h[?25l[1m[36m//[0m[30;79H50[19;50H[34h[?25h[?25l[1m[36m [0m[30;80H1[19;51H[34h[?25h[?25l[1m[36m E[0m[30;80H2[19;52H[34h[?25h[?25l[1m[36mEC[0m[30;80H3[19;53H[34h[?25h[?25l[19;52H[K[30;80H2[19;52H[34h[?25h[?25l[1m[36mEx[0m[30;80H3[19;53H[34h[?25h[?25l[1m[36mxe[0m[30;80H4[19;54H[34h[?25h[?25l[1m[36mec[0m[30;80H5[19;55H[34h[?25h[?25l[1m[36mc,[0m[30;80H6[19;56H[34h[?25h[?25l[1m[36m [0m[30;80H7[19;57H[34h[?25h[?25l[1m[36m rt[0m[30;80H9[19;59H[34h[?25h[?25l[19;58H[K[30;80H8[19;58H[34h[?25h[?25l[1m[36mre[0m[30;80H9[19;59H[34h[?25h[?25l[1m[36mep[0m[30;79H60[19;60H[34h[?25h[?25l[1m[36mpl[0m[30;80H1[19;61H[34h[?25h[?25l[1m[36mla[0m[30;80H2[19;62H[34h[?25h[?25l[1m[36mac[0m[30;80H3[19;63H[34h[?25h[?25l[1m[36mci[0m[30;80H4[19;64H[34h[?25h[?25l[1m[36min[0m[30;80H5[19;65H[34h[?25h[?25l[1m[36mng[0m[30;80H6[19;66H[34h[?25h[?25l[1m[36m [0m[30;80H7[19;67H[34h[?25h[?25l[1m[36m t[0m[30;80H8[19;68H[34h[?25h[?25l[1m[36mth[0m[30;80H9[19;69H[34h[?25h[?25l[1m[36mhi[0m[30;79H70[19;70H[34h[?25h[?25l[1m[36mis[0m[30;80H1[19;71H[34h[?25h[?25l[1m[36m [0m[30;80H2[19;72H[34h[?25h[?25l[1m[36m p[0m[30;80H3[19;73H[34h[?25h[?25l[1m[36mpr[0m[30;80H4[19;74H[34h[?25h[?25l[1m[36mro[0m[30;80H5[19;75H[34h[?25h[?25l[1m[36moc[0m[30;80H6[19;76H[34h[?25h[?25l[1m[36mce[0m[30;80H7[19;77H[34h[?25h[?25l[1m[36mes[0m[30;80H8[19;78H[34h[?25h[?25l[1m[36mss[0m[30;80H9[19;79H[34h[?25h[?25l[30;77H6,66[20;66H[34h[?25h[?25l[30;80H5[20;65H[34h[?25h[?25l[30;80H4[20;64H[34h[?25h[?25l[30;80H3[20;63H[34h[?25h[?25l[30;80H2[20;62H[34h[?25h[?25l[30;80H1[20;61H[34h[?25h[?25l[30;80H0[20;60H[34h[?25h[?25l[30;79H59[20;59H[34h[?25h[?25l[30;80H8[20;58H[34h[?25h[?25l[30;80H7[20;57H[34h[?25h[?25l[30;80H6[20;56H[34h[?25h[?25l[30;80H5[20;55H[34h[?25h[?25l[30;80H4[20;54H[34h[?25h[?25l[30;80H3[20;53H[34h[?25h[?25l[30;80H2[20;52H[34h[?25h[?25l[30;80H1[20;51H[34h[?25h[?25l[30;80H0[20;50H[34h[?25h[?25l[30;79H49[20;49H[34h[?25h[?25l[30;79H50[20;50H[34h[?25h[?25l[30;80H1[20;51H[34h[?25h[?25l[1m[36m IDo not continue[0m[30;80H2[20;52H[34h[?25h[?25l[1m[36mIfDo not continue[0m[30;80H3[20;53H[34h[?25h[?25l[1m[36mf Do not continue[0m[30;80H4[20;54H[34h[?25h[?25l[1m[36m fDo not continue[0m[30;80H5[20;55H[34h[?25h[?25l[1m[36mfaDo not continue[0m[30;80H6[20;56H[34h[?25h[?25l[1m[36maiDo not continue[0m[30;80H7[20;57H[34h[?25h[?25l[1m[36milDo not continue[0m[30;80H8[20;58H[34h[?25h[?25l[1m[36mleDo not continue[0m[30;80H9[20;59H[34h[?25h[?25l[1m[36medDo not continue[0m[30;79H60[20;60H[34h[?25h[?25l[1m[36md,Do not continue[0m[30;80H1[20;61H[34h[?25h[?25l[1m[36m, Do not continue[0m[30;80H2[20;62H[34h[?25h[?25l[1m[36m o not continue[0m[20;76H[K[20;62H[34h[?25h[?25l[1m[36m  not continue[0m[20;75H[K[20;62H[34h[?25h[?25l[1m[36m not continue[0m[20;74H[K[20;62H[34h[?25h[?25l[1m[36m ot continue[0m[20;73H[K[20;62H[34h[?25h[?25l[1m[36m t continue[0m[20;72H[K[20;62H[34h[?25h[?25l[1m[36m  continue[0m[20;71H[K[20;62H[34h[?25h[?25l[1m[36m continue[0m[20;70H[K[20;62H[34h[?25h[?25l[1m[36m ontinue[0m[20;69H[K[20;62H[34h[?25h[?25l[1m[36m ntinue[0m[20;68H[K[20;62H[34h[?25h[?25l[1m[36m tinue[0m[20;67H[K[20;62H[34h[?25h[?25l[1m[36m inue[0m[20;66H[K[20;62H[34h[?25h[?25l[1m[36m nue[0m[20;65H[K[20;62H[34h[?25h[?25l[1m[36m ue[0m[20;64H[K[20;62H[34h[?25h[?25l[1m[36m e[0m[20;63H[K[20;62H[34h[?25h[?25l[20;62H[K[20;62H[34h[?25h[?25l[1m[36m e[0m[30;80H3[20;63H[34h[?25h[?25l[1m[36mex[0m[30;80H4[20;64H[34h[?25h[?25l[1m[36mxi[0m[30;80H5[20;65H[34h[?25h[?25l[1m[36mit[0m[30;80H6[20;66H[34h[?25h[?25l[1m[36m [0m[30;80H7[20;67H[34h[?25h[?25l[1m[36m w[0m[30;80H8[20;68H[34h[?25h[?25l[1m[36mwi[0m[30;80H9[20;69H[34h[?25h[?25l[1m[36mit[0m[30;79H70[20;70H[34h[?25h[?25l[1m[36mth[0m[30;80H1[20;71H[34h[?25h[?25l[1m[36m [0m[30;80H2[20;72H[34h[?25h[?25l[1m[36m N[0m[30;80H3[20;73H[34h[?25h[?25l[1m[36mNO[0m[30;80H4[20;74H[34h[?25h[?25l[1m[36mOT[0m[30;80H5[20;75H[34h[?25h[?25l[1m[36mTF[0m[30;80H6[20;76H[34h[?25h[?25l[1m[36mFO[0m[30;80H7[20;77H[34h[?25h[?25l[1m[36mOU[0m[30;80H8[20;78H[34h[?25h[?25l[1m[36mUN[0m[30;80H9[20;79H[34h[?25h[?25l[1m[36mND[0m[30;79H80[20;80H[34h[?25h[?25l[21;12H[46m{[25;5H}[0m[30;77H7,13[21;13H[34h[?25h[?25l{[25;5H}[30;77H8,5[22;53H[34h[?25h[?25l[30;77H9,50[23;50H[34h[?25h[?25l[23;15H[46m([32C)[0m[30;79H49[23;49H[34h[?25h[?25l[23;15H([32C)[30;76H90[24;49H[34h[?25h[?25l[30;80H8[24;48H[34h[?25h[?25l  [1m[36m// Unblock shell's SIGCHLD[0m[30;80H9[24;49H[34h[?25h[?25l     [1m[36m// Unblock shell's SIGCHLD[0m[30;79H53[24;53H[34h[?25h[?25l[30;76H89,50[23;50H[34h[?25h[?25l[30;76H90,53[24;53H[34h[?25h[?25l \[34h[?25h[?25l [1m[36m// Unblock shell's SIGCHLD[0m[24;78H[K[30;80H2[24;52H[34h[?25h[?25l [1m[36m// Unblock shell's SIGCHLD[0m[24;77H[K[30;80H1[24;51H[34h[?25h[?25l[30;76H89,50[23;50H[34h[?25h[?25l[30;80H1[23;51H[34h[?25h[?25l /[30;80H2[23;52H[34h[?25h[?25l[1m[36m//[0m[30;80H3[23;53H[34h[?25h[?25l[1m[36m [0m[30;80H4[23;54H[34h[?25h[?25l[1m[36m A[0m[30;80H5[23;55H[34h[?25h[?25l[1m[36mAD[0m[30;80H6[23;56H[34h[?25h[?25l[1m[36mDD[0m[30;80H7[23;57H[34h[?25h[?25l[1m[36m [0m[30;80H8[23;58H[34h[?25h[?25l[1m[36m t[0m[30;80H9[23;59H[34h[?25h[?25l[23;58H[K[30;80H8[23;58H[34h[?25h[?25l[23;57H[K[30;80H7[23;57H[34h[?25h[?25l[23;56H[K[30;80H6[23;56H[34h[?25h[?25l[23;55H[K[30;80H5[23;55H[34h[?25h[?25l[1m[36mAd[0m[30;80H6[23;56H[34h[?25h[?25l[1m[36m [0m[30;80H7[23;57H[34h[?25h[?25l[1m[36m d[0m[30;80H8[23;58H[34h[?25h[?25l[23;57H[K[30;80H7[23;57H[34h[?25h[?25l[23;56H[K[30;80H6[23;56H[34h[?25h[?25l[1m[36mdd[0m[30;80H7[23;57H[34h[?25h[?25l[1m[36m [0m[30;80H8[23;58H[34h[?25h[?25l[1m[36m t[0m[30;80H9[23;59H[34h[?25h[?25l[1m[36mth[0m[30;79H60[23;60H[34h[?25h[?25l[1m[36mhe[0m[30;80H1[23;61H[34h[?25h[?25l[1m[36m [0m[30;80H2[23;62H[34h[?25h[?25l[1m[36m j[0m[30;80H3[23;63H[34h[?25h[?25l[1m[36mjo[0m[30;80H4[23;64H[34h[?25h[?25l[1m[36mob[0m[30;80H5[23;65H[34h[?25h[?25l[1m[36m [0m[30;80H6[23;66H[34h[?25h[?25l[1m[36m t[0m[30;80H7[23;67H[34h[?25h[?25l[1m[36mto[0m[30;80H8[23;68H[34h[?25h[?25l[1m[36m [0m[30;80H9[23;69H[34h[?25h[?25l[1m[36m t[0m[30;79H70[23;70H[34h[?25h[?25l[1m[36mth[0m[30;80H1[23;71H[34h[?25h[?25l[1m[36mhe[0m[30;80H2[23;72H[34h[?25h[?25l[1m[36m [0m[30;80H3[23;73H[34h[?25h[?25l[1m[36m j[0m[30;80H4[23;74H[34h[?25h[?25l[1m[36mjo[0m[30;80H5[23;75H[34h[?25h[?25l[1m[36mob[0m[30;80H6[23;76H[34h[?25h[?25l[1m[36m [0m[30;80H7[23;77H[34h[?25h[?25l[1m[36m l[0m[30;80H8[23;78H[34h[?25h[?25l[1m[36mli[0m[30;80H9[23;79H[34h[?25h[?25l[1m[36mis[0m[30;79H80[23;80H[34h[?25h[?25l[1m[36mst[0m[30;80H1[23;81H[34h[?25h[?25l[30;76H90,77[24;77H[34h[?25h[?25l[21;12H[46m{[25;5H}[0m[30;77H1,6 [25;6H[34h[?25h[?25l[21;12H{[25;5H}[30;77H2,1[26;1H[34h[?25h[?25l[30;77H3,13[27;13H[34h[?25h[?25l[30;77H4,37[28;37H[34h[?25h[?25l[30;77H5,36[29;36H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H196,60[8C29%[29;60H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H197,13[8C29%[29;13H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H waitfg(pid);[30;75H[K[30;75H198,21[8C29%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H199,6[9C29%[27;12H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H200,12[8C29%[26;12H{[28;5H}[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H201,2[9C30%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H202,1[9C30%[29;1H[34h[?25h[?25l[30;77H1,2[28;2H[34h[?25h[?25l[30;77H0,12[27;12H[34h[?25h[?25l[24;12H[46m{[26;5H}[0m[30;75H199,6 [26;6H[34h[?25h[?25l[24;12H{[26;5H}[30;77H8,21[25;21H[34h[?25h[?25l[24;12H[46m{[26;5H}[0m[30;77H7,13[24;13H[34h[?25h[?25l{[26;5H}[30;77H6,60[23;60H[34h[?25h[?25l[30;77H5,36[22;36H[34h[?25h[?25l[30;77H4,37[21;37H[34h[?25h[?25l[30;77H5,36[22;36H[34h[?25h[?25l[30;77H4,37[21;37H[34h[?25h[?25l[30;77H5,36[22;36H[34h[?25h[?25l[30;77H6,60[23;60H[34h[?25h[?25l[24;12H[46m{[26;5H}[0m[30;77H7,13[24;13H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[26;5H[46m [0m[30;75H[K[30;75H198,9[9C30%[24;12H{[26;5H 
    }[25;9H[34h[?25h[?25l /[30;79H10[25;10H[34h[?25h[?25l[1m[36m//[0m[30;80H1[25;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[25;12H[34h[?25h[?25l[1m[36m W[0m[30;80H3[25;13H[34h[?25h[?25l[1m[36mWa[0m[30;80H4[25;14H[34h[?25h[?25l[1m[36mai[0m[30;80H5[25;15H[34h[?25h[?25l[1m[36mit[0m[30;80H6[25;16H[34h[?25h[?25l[1m[36m [0m[30;80H7[25;17H[34h[?25h[?25l[1m[36m f[0m[30;80H8[25;18H[34h[?25h[?25l[1m[36mfo[0m[30;80H9[25;19H[34h[?25h[?25l[1m[36mor[0m[30;79H20[25;20H[34h[?25h[?25l[1m[36m [0m[30;80H1[25;21H[34h[?25h[?25l[1m[36m t[0m[30;80H2[25;22H[34h[?25h[?25l[1m[36mth[0m[30;80H3[25;23H[34h[?25h[?25l[1m[36mhe[0m[30;80H4[25;24H[34h[?25h[?25l[1m[36m [0m[30;80H5[25;25H[34h[?25h[?25l[1m[36m f[0m[30;80H6[25;26H[34h[?25h[?25l[25;25H[K[30;80H5[25;25H[34h[?25h[?25l[1m[36m F[0m[30;80H6[25;26H[34h[?25h[?25l[1m[36mFG[0m[30;80H7[25;27H[34h[?25h[?25l[1m[36m [0m[30;80H8[25;28H[34h[?25h[?25l[25;27H[K[30;80H7[25;27H[34h[?25h[?25l[25;26H[K[30;80H6[25;26H[34h[?25h[?25l[25;25H[K[30;80H5[25;25H[34h[?25h[?25l[1m[36m f[0m[30;80H6[25;26H[34h[?25h[?25l[1m[36mfo[0m[30;80H7[25;27H[34h[?25h[?25l[1m[36mor[0m[30;80H8[25;28H[34h[?25h[?25l[1m[36mre[0m[30;80H9[25;29H[34h[?25h[?25l[1m[36meg[0m[30;79H30[25;30H[34h[?25h[?25l[1m[36mgr[0m[30;80H1[25;31H[34h[?25h[?25l[1m[36mro[0m[30;80H2[25;32H[34h[?25h[?25l[1m[36mou[0m[30;80H3[25;33H[34h[?25h[?25l[1m[36mun[0m[30;80H4[25;34H[34h[?25h[?25l[1m[36mnd[0m[30;80H5[25;35H[34h[?25h[?25l[1m[36m [0m[30;80H6[25;36H[34h[?25h[?25l[1m[36m p[0m[30;80H7[25;37H[34h[?25h[?25l[1m[36mpr[0m[30;80H8[25;38H[34h[?25h[?25l[1m[36mro[0m[30;80H9[25;39H[34h[?25h[?25l[1m[36moc[0m[30;79H40[25;40H[34h[?25h[?25l[1m[36mce[0m[30;80H1[25;41H[34h[?25h[?25l[1m[36mes[0m[30;80H2[25;42H[34h[?25h[?25l[1m[36mss[0m[30;80H3[25;43H[34h[?25h[?25l[1m[36m [0m[30;80H4[25;44H[34h[?25h[?25l[1m[36m t[0m[30;80H5[25;45H[34h[?25h[?25l[1m[36mto[0m[30;80H6[25;46H[34h[?25h[?25l[1m[36m [0m[30;80H7[25;47H[34h[?25h[?25l[1m[36m f[0m[30;80H8[25;48H[34h[?25h[?25l[1m[36mfi[0m[30;80H9[25;49H[34h[?25h[?25l[1m[36min[0m[30;79H50[25;50H[34h[?25h[?25l[1m[36mni[0m[30;80H1[25;51H[34h[?25h[?25l[1m[36mis[0m[30;80H2[25;52H[34h[?25h[?25l[1m[36msh[0m[30;80H3[25;53H[34h[?25h[?25l[1m[36mh/[0m[30;80H4[25;54H[34h[?25h[?25l[1m[36m/c[0m[30;80H5[25;55H[34h[?25h[?25l[1m[36mch[0m[30;80H6[25;56H[34h[?25h[?25l[1m[36mha[0m[30;80H7[25;57H[34h[?25h[?25l[1m[36man[0m[30;80H8[25;58H[34h[?25h[?25l[1m[36mng[0m[30;80H9[25;59H[34h[?25h[?25l[1m[36mge[0m[30;79H60[25;60H[34h[?25h[?25l[25;59H[K[30;79H59[25;59H[34h[?25h[?25l[25;58H[K[30;80H8[25;58H[34h[?25h[?25l[25;57H[K[30;80H7[25;57H[34h[?25h[?25l[25;56H[K[30;80H6[25;56H[34h[?25h[?25l[25;55H[K[30;80H5[25;55H[34h[?25h[?25l[25;54H[K[30;80H4[25;54H[34h[?25h[?25l[25;53H[K[30;80H3[25;53H[34h[?25h[?25l[30;77H9,21[26;21H[34h[?25h[?25l[24;12H[46m{[27;5H}[0m[30;75H200,6 [27;6H[34h[?25h[?25l[24;12H{[27;5H}[30;77H1,12[28;12H[34h[?25h[?25l[30;77H2,2 [29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H203,1[9C30%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H204,4[9C30%[29;4H[34h[?25h[?25l[30;77H3,1[28;1H[34h[?25h[?25l[30;77H2,2[27;2H[34h[?25h[?25l[30;77H1,12[26;12H[34h[?25h[?25l[22;12H[46m{[25;5H}[0m[30;77H0,6 [25;6H[34h[?25h[?25l[22;12H{[25;5H}[30;75H199,21[24;21H[34h[?25h[?25l[30;77H8,53[23;53H[34h[?25h[?25l[22;12H[46m{[25;5H}[0m[30;77H7,1[22;13H[34h[?25h[?25l{[25;5H}[30;77H6,5[21;53H[34h[?25h[?25l[30;77H5,36[20;36H[34h[?25h[?25l[30;77H4,37[19;37H[34h[?25h[?25l[18;12H[46m{[22;5H}[0m[30;77H3,13[18;13H[34h[?25h[?25l{[22;5H}[30;77H2,1 [17;1H[34h[?25h[?25l[12;12H[46m{[16;5H}[0m[30;77H1,6[16;6H[34h[?25h[?25l[12;12H{[16;5H}[30;77H0,53[15;53H[34h[?25h[?25l[12;12H[46m{[16;5H}[0m[30;77H1,6 [16;6H[34h[?25h[?25l[12;12H{[16;5H}[30;77H2,1[17;1H[34h[?25h[?25l[18;12H[46m{[22;5H}[0m[30;77H3,13[18;13H[34h[?25h[?25l{[22;5H}[30;77H4,37[19;37H[34h[?25h[?25l[30;77H5,36[20;36H[34h[?25h[?25l[30;77H6,53[21;53H[34h[?25h[?25l[22;12H[46m{[25;5H}[0m[30;77H7,1[22;13H[34h[?25h[?25l{[25;5H}[30;77H8,5[23;53H[34h[?25h[?25l[30;77H9,21[24;21H[34h[?25h[?25l[22;12H[46m{[25;5H}[0m[30;75H200,6 [25;6H[34h[?25h[?25l[22;12H{[25;5H}[30;77H1,12[26;12H[34h[?25h[?25l[30;77H2,2 [27;2H[34h[?25h[?25l[30;77H3,1[28;1H[34h[?25h[?25l[30;77H4,4[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * parseline - Parse the command line and build the argv array.[0m[30;75H[K[30;75H205,53[8C30%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * [0m[30;75H[K[30;75H206,4[9C30%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Characters enclosed in single quotes are treated as a single[0m[30;75H[K[30;75H207,53[8C31%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * argument.  Return true if the user has requested a BG job, false if[0m[30;75H[K[30;75H208,53[8C31%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * the user has requested a FG job.  [0m[30;75H[K[30;75H209,38[8C31%[29;38H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H210,4[9C31%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv) {[30;75H[K[30;75H211,50[8C31%[29;50H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstatic[0m [1m[32mchar[0m array[MAXLINE]; [1m[36m/* holds local copy of command line */[0m[30;75H[K[30;75H212,53[8C31%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *buf = array;[9C [1m[36m/* ptr that traverses command line */[0m[30;75H[K[30;75H213,53[8C32%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *delim;[15C [1m[36m/* points to first space delimiter */[0m[30;75H[K[30;75H214,53[8C32%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m argc;[18C [1m[36m/* number of args */[0m[30;75H[K[30;75H215,53[8C32%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m bg;[20C [1m[36m/* background job? */[0m[30;75H[K[30;75H216,53[8C32%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H217,1[9C32%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H strcpy(buf, cmdline);[30;75H[K[30;75H218,26[8C32%[29;26H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf[strlen(buf)-[1m[35m1[0m] = [1m[35m' '[0m;  [1m[36m/* replace trailing '\n' with space */[0m[30;75H[K[30;75H219,53[8C33%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore leading spaces */[0m[30;75H[K[30;75H220,53[8C33%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf++;[30;75H[K[30;75H221,8-11      33%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H222,1[9C33%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Build the argv list */[0m[30;75H[K[30;75H223,30[8C33%[29;30H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H argc = [1m[35m0[0m;[30;75H[K[30;75H224,14[8C34%[29;14H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H225,24[8C34%[29;24H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf++;[30;75H[K[30;75H226,8-11      34%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H227,28-31     34%[29;31H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H228,6[9C34%[26;23H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H [1m[33melse[0m {[30;75H[K[30;75H229,11[8C34%[25;23H{[28;5H}[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H230,27-30     35%[29;30H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H231,6[9C35%[27;10H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H232,1[9C35%[26;10H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (delim) {[30;75H[K[30;75H233,20[8C35%[29;20H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H argv[argc++] = buf;[30;75H[K[30;75H234,25-28     35%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H *delim = [1m[31m'\0'[0m;[30;75H[K[30;75H235,20-23     35%[29;23H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H236,22-25     36%[29;25H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[30;75H[K[30;75H237,50-53     36%[29;53H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H buf++;[30;75H[K[30;75H238,19[8C36%[29;19H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H239,6[9C36%[29;6H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H240,28[8C36%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H buf++;[30;75H[K[30;75H241,16-19     36%[29;19H[34h[?25h/ [30;1H[K[?25l[30;75H241,15-18     36%[29;18H[34h[?25h[?25l[30;75H[K[30;1H/T[34h[?25hO[?25l[34h[?25hD[?25l[34h[?25ho[?25l[34h[?25h[?25l[1m[31msearch hit BOTTOM, continuing at TOP[0m[1m[37m[41mE486: Pattern not found: TODo[0m[30;30H[K[30;75H241,15-18     36%[29;18H[34h[?25h[?25l[30;77H0,18   [28;18H[34h[?25h[?25l[30;1H[K[30;1H/[34h[?25hT[?25l[34h[?25hO[?25l[34h[?25hD[?25l[34h[?25hO[?25l[34h[?25h[?25l[23m[24m[0m[H[J[1;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[2;8H }[4;4H }
    [1m[33mreturn[0m;
}

[1m[36m/* 
 * sigint_handler - The kernel sends a SIGINT to the shell whenever the
 *    user types ctrl-c at the keyboard.  Catch it and send it along
 *    to the foreground job.  
 */[0m
[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig) {
    pid_t pid = fgpid(jobs);
    [1m[36m// Send interrupt signal ([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m
    [1m[33mif[0m (pid != [1m[35m0[0m) kill(pid, sig);
    [1m[33mreturn[0m;
}

[1m[36m/*
 * sigtstp_handler - The kernel sends a SIGTSTP to the shell whenever
 *     the user types ctrl-z at the keyboard. Catch it and suspend the
 *     foreground job by sending it a SIGTSTP.  
 */[0m
[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig) {
    pid_t pid = fgpid(jobs);
    [1m[36m// Send stop signal ([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m
    [1m[33mif[0m (pid != [1m[35m0[0m) kill(pid, sig);
    [1m[33mreturn[0m;[30;75H365,31[8C61%[15;31H[34h[?25h[?25l[30;77H6,5 [16;5H[34h[?25h[?25l[30;77H5[15;5H[34h[?25h[?25l[30;79H6[15;6H[34h[?25h[?25l[30;79H7[15;7H[34h[?25h[?25l[30;79H8[15;8H[34h[?25h[?25l[30;79H9[15;9H[34h[?25h[?25l[30;79H10[15;10H[34h[?25h[?25l[30;80H1[15;11H[34h[?25h[?25l[30;80H2[15;12H[34h[?25h[?25l[30;80H3[15;13H[34h[?25h[?25l[30;80H4[15;14H[34h[?25h[?25l[30;80H5[15;15H[34h[?25h[?25l[30;80H6[15;16H[34h[?25h[?25l[30;80H7[15;17H[34h[?25h[?25l[30;80H8[15;18H[34h[?25h[?25l[30;80H9[15;19H[34h[?25h[?25l[30;79H20[15;20H[34h[?25h[?25l[30;80H1[15;21H[34h[?25h[?25l[30;80H2[15;22H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H365,22[8C61%[15;22H[34h[?25h[?25l[30;77H6[16;22H[34h[?25h[?25ll[46m([8C)[0m[30;80H3[16;23H[34h[?25h[?25l[30;80H4[16;24H[34h[?25h[?25l([8C)[30;80H5[16;25H[34h[?25h[?25l[30;80H6[16;26H[34h[?25h[?25l[30;80H7[16;27H[34h[?25h[?25l[30;77H5[15;27H[34h[?25h[?25l[30;80H8[15;28H[34h[?25h[?25l[30;80H9[15;29H[34h[?25h[?25l[1C[1m[36m[46m([22C)[0m[30;79H30[15;30H[34h[?25h[?25l[30;80H1[15;31H[34h[?25h[?25l[1m[36m([22C)[0m[30;80H2[15;32H[34h[?25h[?25l[1m[36m[46m([22C)[0m[30;80H1[15;31H[34h[?25h[?25l[30;80H0[15;30H[34h[?25h[?25l[1m[36m([22C)[0m[30;79H29[15;29H[34h[?25h[?25l[1m[36ml([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m[15;53H[K[15;29H[1m[36m[46m([22C)[15;29H[34h[?25h[?25l[0m[1m[36ml[0m[1m[36m[46mT[0m[1m[30m[43mODO[0m[1m[36m: send to group id)[0m[46m [0m[15;29H[1m[30m[43mT[0m[15;52H[K[15;29H[34h[?25h[?25l[1m[36mlODO: send to group id)[0m[15;51H[K[15;29H[34h[?25h[?25l[1m[36mlDO: send to group id)[0m[15;50H[K[15;29H[34h[?25h[?25l[1m[36mlO: send to group id)[0m[15;49H[K[15;29H[34h[?25h[?25l[1m[36ml: send to group id)[0m[15;48H[K[15;29H[34h[?25h[?25l[1m[36ml send to group id)[0m[15;47H[K[15;29H[34h[?25h[?25l[1m[36mlsend to group id)[0m[15;46H[K[15;29H[34h[?25h[?25l[1m[36mlend to group id)[0m[15;45H[K[15;29H[34h[?25h[?25l[1m[36mlnd to group id)[0m[15;44H[K[15;29H[34h[?25h[?25l[1m[36mld to group id)[0m[15;43H[K[15;29H[34h[?25h[?25l[1m[36ml to group id)[0m[15;42H[K[15;29H[34h[?25h[?25l[1m[36mlto group id)[0m[15;41H[K[15;29H[34h[?25h[?25l[1m[36mlo group id)[0m[15;40H[K[15;29H[34h[?25h[?25l[1m[36ml group id)[0m[15;39H[K[15;29H[34h[?25h[?25l[1m[36mlgroup id)[0m[15;38H[K[15;29H[34h[?25h[?25l[1m[36mlroup id)[0m[15;37H[K[15;29H[34h[?25h[?25l[1m[36mloup id)[0m[15;36H[K[15;29H[34h[?25h[?25l[1m[36mlup id)[0m[15;35H[K[15;29H[34h[?25h[?25l[1m[36mlp id)[0m[15;34H[K[15;29H[34h[?25h[?25l[1m[36ml id)[0m[15;33H[K[15;29H[34h[?25h[?25l[1m[36mlid)[0m[15;32H[K[15;29H[34h[?25h[?25l[1m[36mld)[0m[15;31H[K[15;29H[34h[?25h[?25l[1m[36ml)[0m[15;30H[K[15;29H[34h[?25h[?25l[15;29H[K[15;29H[34h[?25h[?25l[30;77H2,4 [12;4H[34h[?25h[?25l[30;76H59,29[9;29H[34h[?25h[?25l[30;76H62,4 [12;4H[34h[?25h[?25l[30;77H4,29[14;29H[34h[?25h[?25l[30;77H5[15;29H[34h[?25h[?25l[13;30H[46m{[18;1H}[0m[30;77H8,2 [18;2H[34h[?25h[?25l[13;30H{[18;1H}[30;76H71,29[21;29H[34h[?25h[?25l[30;77H4,4 [24;4H[34h[?25h[?25l[30;77H7,29[27;29H[34h[?25h[?25l[30;77H4,4 [24;4H[34h[?25h[?25l[30;77H1,29[21;29H[34h[?25h[?25l[13;30H[46m{[18;1H}[0m[30;76H68,2 [18;2H[34h[?25h[?25l[13;30H{[18;1H}[30;77H5,29[15;29H[34h[?25h[?25l[30;77H2,4 [12;4H[34h[?25h[?25l[30;77H5,29[15;29H[34h[?25h[?25l[1m[36mlm[0m[30;79H30[15;30H[34h[?25h[?25l[1m[36mmw[0m[30;80H1[15;31H[34h[?25h[?25l[15;30H[K[30;80H0[15;30H[34h[?25h[?25l[15;29H[K[30;79H29[15;29H[34h[?25h[30;1H[K[15;28H[?25l[30;75H365,28[8C61%[15;28H[34h[?25h[?25l[23m[24m[0m[H[J[3;1H[1m[36m/* Function prototypes */

/* Here are the functions that you will implement */[0m
[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline);
[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv);
[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);
[1m[32mvoid[0m waitfg(pid_t pid);

[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig);
[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig);
[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig);

[1m[36m/* Here are helper routines that we've provided for you */[0m
[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv);
[1m[32mvoid[0m sigquit_handler([1m[32mint[0m sig);

[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job);
[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs);
[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs);
[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline);
[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid);
pid_t fgpid([1m[32mstruct[0m job_t *jobs);
[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);
[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);
[1m[32mint[0m pid2jid(pid_t pid);
[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);[30;75H68,1[11C9%[15;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[2;8H }[4;4H }
    [1m[33mreturn[0m;
}

[1m[36m/* 
 * sigint_handler - The kernel sends a SIGINT to the shell whenever the
 *    user types ctrl-c at the keyboard.  Catch it and send it along
 *    to the foreground job.  
 */[0m
[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig) {
    pid_t pid = fgpid(jobs);
    [1m[36m// Send interrupt signal[0m
    [1m[33mif[0m (pid != [1m[35m0[0m) kill(pid, sig);
    [1m[33mreturn[0m;
}

[1m[36m/*
 * sigtstp_handler - The kernel sends a SIGTSTP to the shell whenever
 *     the user types ctrl-z at the keyboard. Catch it and suspend the
 *     foreground job by sending it a SIGTSTP.  
 */[0m
[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig) {
    pid_t pid = fgpid(jobs);
    [1m[36m// Send stop signal ([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m
    [1m[33mif[0m (pid != [1m[35m0[0m) kill(pid, sig);
    [1m[33mreturn[0m;[30;75H365,5[9C61%[15;5H[34h[?25h[?25l[30;77H6[16;5H[34h[?25h[?25l[30;79H6[16;6H[34h[?25h[?25l[30;79H7[16;7H[34h[?25h[?25l [46m([8C)[0m[30;79H8[16;8H[34h[?25h[?25l([8C)[30;79H9[16;9H[34h[?25h[?25l[30;79H10[16;10H[34h[?25h[?25l[30;80H1[16;11H[34h[?25h[?25l[30;80H2[16;12H[34h[?25h[?25l[30;80H3[16;13H[34h[?25h[?25l[30;80H4[16;14H[34h[?25h[?25l[30;80H5[16;15H[34h[?25h[?25l[30;80H6[16;16H[34h[?25h[?25l[16;8H[46m([8C)[0m[30;80H7[16;17H[34h[?25h[?25l[16;8H([8C)[30;80H8[16;18H[34h[?25h[?25l[30;80H9[16;19H[34h[?25h[?25l[30;79H20[16;20H[34h[?25h[?25l[30;80H1[16;21H[34h[?25h[?25l[30;80H2[16;22H[34h[?25h[?25ll[46m([8C)[0m[30;80H3[16;23H[34h[?25h[?25l([8C)[30;80H4[16;24H[34h[?25h[?25l[30;80H5[16;25H[34h[?25h[?25l[30;80H6[16;26H[34h[?25h[?25l[30;80H7[16;27H[34h[?25h[?25l[30;80H8[16;28H[34h[?25h[?25l[30;80H9[16;29H[34h[?25h[?25l[30;77H7,11[17;11H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 602L, 15716C written[46C367,11[8C61%[30;75H[K[30;75H367,11[8C61%[17;11H[34h[?25h[?25l[34h[?25h[?25l[30;77H6,29[16;29H[34h[?25h[?25l[30;77H7,11[17;11H[34h[?25h[?25l[30;77H6,29[16;29H[34h[?25h[?25l[30;79H30[16;30H[34h[?25h[?25l[30;79H29[16;29H[34h[?25h[?25l[30;80H8[16;28H[34h[?25h[?25l[30;80H7[16;27H[34h[?25h[?25l[30;80H6[16;26H[34h[?25h[?25l[30;80H5[16;25H[34h[?25h[?25l[30;80H4[16;24H[34h[?25h[?25l[46m([8C)[0m[30;80H3[16;23H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H366,23[8C61%[16;23H[34h[?25h[?25ll[46mp[0m(pid, si[46mg[0m);[16;23Hp[46m([0m[7Cg[46m)[0m[30;80H4[16;24H[34h[?25h[?25lp[46mg[0m(pid, si[46mg[0m);[16;24Hg[46m([0m[7Cg[46m)[0m[30;80H5[16;25H[34h[?25h[?25l([8C)[30;77H5[15;25H[34h[?25h[?25l[16;25H[46m([8C)[0m[30;77H6[16;25H[34h[?25h[?25l([8C)[30;77H7,12[17;12H[34h[?25h[?25l[13;30H[46m{[18;1H}[0m[30;77H8,2 [18;2H[34h[?25h[?25l[13;30H{[18;1H}[30;77H9,1[19;1H[34h[?25h[?25l[30;76H70,3[20;3H[34h[?25h[?25l[30;77H1,25[21;25H[34h[?25h[?25l[30;77H2[22;25H[34h[?25h[?25l[30;77H3[23;25H[34h[?25h[?25l[30;77H4,4 [24;4H[34h[?25h[?25l[30;77H5,25[25;25H[34h[?25h[?25l[30;77H6[26;25H[34h[?25h[?25l[27;25H[1m[36m[46m([22C)[0m[30;77H7[27;25H[34h[?25h[?25l[1m[36m([22C)[0m[30;77H8[28;25H[34h[?25h[?25l[46m([8C)[0m[30;80H4[28;24H[34h[?25h[?25l[30;80H3[28;23H[34h[?25h[?25l([8C)[30;80H2[28;22H[34h[?25h[?25ll[46m([8C)[0m[30;80H3[28;23H[34h[?25h[?25ll[46mp[0m(pid, si[46mg[0m);[28;23Hp[46m([0m[7Cg[46m)[0m[30;80H4[28;24H[34h[?25h[?25lp[46mf[0m(pid, si[46mg[0m);[28;24Hf[46m([0m[7Cg[46m)[0m[30;80H5[28;25H[34h[?25h[?25lp([46mp[0mid, sig)[46m;[0m[28;35H[K[28;24H[46m([0mp[7C[46m)[0m;[30;80H4[28;24H[34h[?25h[?25lp[46mg[0m(pid, si[46mg[0m);[28;24Hg[46m([0m[7Cg[46m)[0m[30;80H5[28;25H[34h[?25h[?25lp([46mp[0mid, sig)[46m;[0m[28;35H[K[28;24H[46m([0mp[7C[46m)[0m;[30;80H4[28;24H[34h[?25h[?25ll([46mp[0mid, sig)[46m;[0m[28;34H[K[28;23H[46m([0mp[7C[46m)[0m;[30;80H3[28;23H[34h[?25h[30;1H[K[28;22H[?25ll([8C)[30;75H378,22[8C61%[28;22H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 602L, 15718C written[46C378,22[8C61%[30;75H[K[30;75H378,22[8C61%[28;22H[34h[?25h[?25ll[46m([8C)[0m[30;80H3[28;23H[34h[?25h[?25l

13 more lines[30;15H[K[28;23H([8C)
    pid_t pid = fgpid(jobs);[30;75H379,5[9C59%[30;75H[K[30;75H379,5[9C59%[29;5H[34h[?25h[?25l[30;75H[K[1;29r[1;1H[14M[1;30r[16;4H pid_t pid = fgpid(jobs);
    [1m[33mif[0m (pid != [1m[35m0[0m) {[18;8H [1m[36m// Get pointer to job struct[0m[19;8H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[21;8H kill(pid, sig);  [1m[36m// Send stop signal ([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m[22;8H [1m[36m//job->state = ST; // Set job state to stopped[0m[24;8H [1m[36m// Notify success[0m[25;8H [1m[36m//printf("Job [%d] (%d) stopped by signal %d\n", job->jid, pid, sig);[0m[27;4H }
    [1m[33mreturn[0m;
    [1m[33mif[0m (pid != [1m[35m0[0m) {[30;1H[K[30;75H393,1[9C60%13 more lines[30;75H[K[30;75H393,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Get pointer to job struct[0m[30;1H[K[30;75H394,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H395,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H396,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H kill(pid, sig);  [1m[36m// Send stop signal ([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m[30;75H[K[30;75H397,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m//job->state = ST; // Set job state to stopped[0m[30;75H[K[30;75H398,1[9C61%[29;1H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hu[?25l[34h[?25h[?25l13 fewer lines; before #239  5 seconds ago[11;29r[11;1H[13M[1;30r[18;8H [1m[36m// Notify success[0m[19;8H [1m[36m//printf("Job [%d] (%d) stopped by signal %d\n", job->jid, pid, sig);[0m[21;4H }
    [1m[33mreturn[0m;
    [1m[33mreturn[0m;
}

[1m[36m/*********************
 * End signal handlers
 *********************/[0m[30;1H[K[30;75H379,5[9C62%[10;5H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hu[?25l[34h[?25h[?25l13 fewer lines; before #238  9 seconds ago[9;23H[46m([8C)[10;29r[0m[10;1H[13M[1;30r[17;1H[1m[36m/***********************************************
 * Helper routines that manipulate the job list
 **********************************************/

/* clearjob - Clear the entries in a job struct */[0m
[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job) {
    job->pid = [1m[35m0[0m;
    job->jid = [1m[35m0[0m;
    job->state = UNDEF;
    job->cmdline[[1m[35m0[0m] = [1m[31m'\0'[0m;
}

[1m[36m/* initjobs - Initialize the job list */[0m[30;1H[K[30;75H378,23[8C64%[9;23H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H378,23[8C64%[9;23H[34h[?25h[?25l([8C)[30;77H7[8;23H[34h[?25h[?25l[9;23H[46m([8C)[0m[30;77H8[9;23H[34h[?25h[?25ll[46mp[0m(pid, si[46mg[0m);[9;23Hp[46m([0m[7Cg[46m)[0m[30;80H4[9;24H[34h[?25h[?25lp[46mg[0m(pid, si[46mg[0m);[9;24Hg[46m([0m[7Cg[46m)[0m[30;80H5[9;25H[34h[?25h[?25l([8C)[30;77H9,12[10;12H[34h[?25h[30;1H[K[10;11H[?25l[30;75H379,11[8C64%[10;11H[34h[?25h[?25l[30;77H8[9;11H[34h[?25h[?25l[30;77H7[8;11H[34h[?25h[?25l[30;77H6[7;11H[34h[?25h[?25l[30;77H5[6;11H[34h[?25h[?25l[30;77H4,3 [5;3H[34h[?25h[?25l[30;77H3,11[4;11H[34h[?25h[?25l[30;77H2[3;11H[34h[?25h[?25l[30;77H1[2;11H[34h[?25h[?25l[30;77H0,2 [1;2H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H369,0-1[7C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H368,1[9C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H367,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H366,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Send interrupt signal[0m[30;75H[K[30;75H365,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid = fgpid(jobs);[30;75H[K[30;75H364,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig) {[30;75H[K[30;75H363,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H362,3[9C63%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    to the foreground job.  [0m[30;75H[K[30;75H361,11[8C62%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    user types ctrl-c at the keyboard.  Catch it and send it along[0m[30;75H[K[30;75H360,11[8C62%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigint_handler - The kernel sends a SIGINT to the shell whenever the[0m[30;75H[K[30;75H359,11[8C62%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H358,3[9C62%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H357,0-1[7C62%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H356,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H355,11[8C61%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H354,5[9C61%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H353,0-1[7C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H352,9[9C61%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[30;75H[K[30;75H351,11[8C61%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Else, unknown[0m[30;75H[K[30;75H350,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H349,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H348,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case process reporting continuation[0m[30;75H[K[30;75H347,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFCONTINUED(status)) {[30;75H[K[30;75H346,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H345,0-1[7C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H344,11[8C59%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H job->jid, job->pid, WSTOPSIG(status));[30;75H[K[30;75H343,11[8C59%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H342,11[8C59%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H341,8[9C59%[1;8H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case stopped by signal[0m[30;75H[K[30;75H340,11[8C59%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[30;75H[K[30;75H339,11[8C58%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H338,0-1[7C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H337,11[8C58%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H job->jid, job->pid, WTERMSIG(status));[30;75H[K[30;75H336,11[8C58%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) teminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H335,11[8C58%[1;11H[34h[?25h[?25l[30;77H6[2;11H[34h[?25h[?25l[30;77H7[3;11H[34h[?25h[?25l[30;77H8,0-1[4;1H[34h[?25h[?25l[30;77H9,11 [5;11H[34h[?25h[?25l[30;76H40[6;11H[34h[?25h[?25l[30;77H1,8 [7;8H[34h[?25h[?25l[30;77H2,11[8;11H[34h[?25h[?25l[30;77H3[9;11H[34h[?25h[?25l[30;77H4[10;11H[34h[?25h[?25l[30;77H5,0-1[11;1H[34h[?25h[?25l[30;77H6,11 [12;11H[34h[?25h[?25l[30;77H7[13;11H[34h[?25h[?25l[30;77H8[14;11H[34h[?25h[?25l[30;77H9[15;11H[34h[?25h[?25l[30;76H50[16;11H[34h[?25h[?25l[30;77H1[17;11H[34h[?25h[?25l[15;16H[46m{[18;9H}[0m[30;77H2,9 [18;9H[34h[?25h[?25l[15;16H{[18;9H}[30;77H3,0-1[19;1H[34h[?25h[?25l[30;77H4,5  [20;5H[34h[?25h[?25l[30;77H5,11[21;11H[34h[?25h[?25l[30;77H6,1 [22;1H[34h[?25h[?25l[30;77H7,0-1[23;1H[34h[?25h[?25l[30;77H8,3  [24;3H[34h[?25h[?25l[30;77H9,11[25;11H[34h[?25h[?25l[30;76H60[26;11H[34h[?25h[?25l[30;77H1[27;11H[34h[?25h[?25l[30;77H2,3 [28;3H[34h[?25h[?25l[30;77H3,11[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid = fgpid(jobs);[30;75H[K[30;75H364,11[8C58%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Send interrupt signal[0m[30;75H[K[30;75H365,11[8C58%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H366,11[8C58%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H367,11[8C58%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[24;30H[46m{[29;1H}[0m[30;75H[K[30;75H368,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[23;30H{[28;1H}[30;75H[K[30;75H369,0-1[7C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/*[0m[30;75H[K[30;75H370,2[9C59%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * sigtstp_handler - The kernel sends a SIGTSTP to the shell whenever[0m[30;75H[K[30;75H371,11[8C59%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     the user types ctrl-z at the keyboard. Catch it and suspend the[0m[30;75H[K[30;75H372,11[8C59%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     foreground job by sending it a SIGTSTP.  [0m[30;75H[K[30;75H373,11[8C60%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H374,3[9C60%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig) {[30;75H[K[30;75H375,11[8C60%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid = fgpid(jobs);[30;75H[K[30;75H376,11[8C60%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Send stop signal ([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m[30;75H[K[30;75H377,11[8C60%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H378,11[8C60%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H379,11[8C61%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[24;31H[46m{[29;1H}[0m[30;75H[K[30;75H380,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[23;31H{[28;1H}[30;75H[K[30;75H381,0-1[7C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/*********************[0m[30;75H[K[30;75H382,11[8C61%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * End signal handlers[0m[30;75H[K[30;75H383,11[8C61%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *********************/[0m[30;75H[K[30;75H384,11[8C61%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H385,0-1[7C62%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/***********************************************[0m[30;75H[K[30;75H386,11[8C62%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Helper routines that manipulate the job list[0m[30;75H[K[30;75H387,11[8C62%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m **********************************************/[0m[30;75H[K[30;75H388,11[8C62%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H389,0-1[7C62%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* clearjob - Clear the entries in a job struct */[0m[30;75H[K[30;75H390,11[8C63%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job) {[30;75H[K[30;75H391,11[8C63%[29;11H[34h[?25h[?25l[30;77H0[28;11H[34h[?25h[?25l[30;77H1[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H job->pid = [1m[35m0[0m;[30;75H[K[30;75H392,11[8C63%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H job->jid = [1m[35m0[0m;[30;75H[K[30;75H393,11[8C63%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H job->state = UNDEF;[30;75H[K[30;75H394,11[8C63%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H job->cmdline[[1m[35m0[0m] = [1m[31m'\0'[0m;[30;75H[K[30;75H395,11[8C63%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[24;34H[46m{[29;1H}[0m[30;75H[K[30;75H396,1[9C64%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[23;34H{[28;1H}[30;75H[K[30;75H397,0-1[7C64%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* initjobs - Initialize the job list */[0m[30;75H[K[30;75H398,11[8C64%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs) {[30;75H[K[30;75H399,11[8C64%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i;[30;75H[K[30;75H400,10[8C64%[29;10H[34h[?25h[?25l[30;75H399,11[28;11H[34h[?25h[?25l[30;77H8[27;11H[34h[?25h[?25l[30;77H7,0-1[26;1H[34h[?25h[?25l[20;34H[46m{[25;1H}[0m[30;77H6,1  [25;1H[34h[?25h[?25l[20;34H{[25;1H}[30;77H5,11[24;11H[34h[?25h[?25l[30;77H4[23;11H[34h[?25h[?25l[30;77H3[22;11H[34h[?25h[?25l[30;77H2[21;11H[34h[?25h[?25l[30;77H1[20;11H[34h[?25h[?25l[30;77H0[19;11H[34h[?25h[?25l[30;76H89,0-1[18;1H[34h[?25h[?25l[30;77H8,11 [17;11H[34h[?25h[?25l[30;77H7[16;11H[34h[?25h[?25l[30;77H6[15;11H[34h[?25h[?25l[30;77H5,0-1[14;1H[34h[?25h[?25l[30;77H4,11 [13;11H[34h[?25h[?25l[30;77H3[12;11H[34h[?25h[?25l[30;77H2[11;11H[34h[?25h[?25l[30;77H1,0-1[10;1H[34h[?25h[?25l[4;31H[46m{[9;1H}[0m[30;77H0,1  [9;1H[34h[?25h[?25l[4;31H{[9;1H}[30;76H79,11[8;11H[34h[?25h[?25l[30;77H8[7;11H[34h[?25h[?25l[30;77H7[6;11H[34h[?25h[?25l[30;77H6[5;11H[34h[?25h[?25l[30;77H5[4;11H[34h[?25h[?25l[30;77H4,3 [3;3H[34h[?25h[?25l[30;77H3,11[2;11H[34h[?25h[?25l[30;77H2[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigtstp_handler - The kernel sends a SIGTSTP to the shell whenever[0m[30;75H[K[30;75H371,11[8C64%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*[0m[30;75H[K[30;75H370,2[9C64%[1;2H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H369,0-1[7C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H368,1[9C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H367,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H366,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Send interrupt signal[0m[30;75H[K[30;75H365,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid = fgpid(jobs);[30;75H[K[30;75H364,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig) {[30;75H[K[30;75H363,11[8C63%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H362,3[9C63%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    to the foreground job.  [0m[30;75H[K[30;75H361,11[8C62%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    user types ctrl-c at the keyboard.  Catch it and send it along[0m[30;75H[K[30;75H360,11[8C62%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigint_handler - The kernel sends a SIGINT to the shell whenever the[0m[30;75H[K[30;75H359,11[8C62%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H358,3[9C62%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H357,0-1[7C62%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H356,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H355,11[8C61%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H354,5[9C61%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H353,0-1[7C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H352,9[9C61%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[30;75H[K[30;75H351,11[8C61%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Else, unknown[0m[30;75H[K[30;75H350,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H349,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H348,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case process reporting continuation[0m[30;75H[K[30;75H347,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFCONTINUED(status)) {[30;75H[K[30;75H346,11[8C60%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H345,0-1[7C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H344,11[8C59%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H job->jid, job->pid, WSTOPSIG(status));[30;75H[K[30;75H343,11[8C59%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H342,11[8C59%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H341,8[9C59%[1;8H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case stopped by signal[0m[30;75H[K[30;75H340,11[8C59%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[30;75H[K[30;75H339,11[8C58%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H338,0-1[7C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H337,11[8C58%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H job->jid, job->pid, WTERMSIG(status));[30;75H[K[30;75H336,11[8C58%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) teminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H335,11[8C58%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H334,8[9C58%[1;8H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case terminated to signal[0m[30;75H[K[30;75H333,11[8C57%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFSIGNALED(status)) {[30;75H[K[30;75H332,11[8C57%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H331,0-1[7C57%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H330,11[8C57%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H }[30;75H[K[30;75H329,11[8C57%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[36m//    WEXITSTATUS(status));[0m[30;75H[K[30;75H328,11[8C57%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[36m//printf("Process exited normally with return value of %d\n", [0m[30;75H[K[30;75H327,11[8C56%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H }  [1m[33melse[0m {[30;75H[K[30;75H326,11[8C56%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H325,11[8C56%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H parseline(job->cmdline, argv);[30;75H[K[30;75H324,11[8C56%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H323,11[8C56%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[30;75H[K[30;75H322,11[8C56%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H321,8[9C55%[1;8H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H320,11[8C55%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (WIFEXITED(status)) {[30;75H[K[30;75H319,11[8C55%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H318,0-1[7C55%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H317,11[8C55%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Get pointer to job struct[0m[30;75H[K[30;75H316,11[8C54%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m [46m([0m(pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m[46m)[0m {[30;75H[K[30;75H315,11[8C54%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[2;11H([66C)[30;75H[K[30;75H314,0-1[7C54%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H313,11[8C54%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m status;[30;75H[K[30;75H312,11[8C54%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[30;75H[K[30;75H311,11[8C54%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {[30;75H[K[30;75H310,11[8C53%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H309,3[9C53%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     currently running children to terminate.  [0m[30;75H[K[30;75H308,11[8C53%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     available zombie children, but doesn't wait for any other[0m[30;75H[K[30;75H307,11[8C53%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     received a SIGSTOP or SIGTSTP signal. The handler reaps all[0m[30;75H[K[30;75H306,11[8C53%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     a child job terminates (becomes a zombie), or stops because it[0m[30;75H[K[30;75H305,11[8C53%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever[0m[30;75H[K[30;75H304,11[8C52%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H303,3[9C52%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H302,0-1[7C52%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *****************/[0m[30;75H[K[30;75H301,11[8C52%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Signal handlers[0m[30;75H[K[30;75H300,11[8C52%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*****************[0m[30;75H[K[30;75H299,11[8C52%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H298,0-1[7C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H297,1[9C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H296,11[8C51%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H295,5[9C51%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;75H[K[30;75H294,11[8C51%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m [46m([0mjob->state == FG[46m)[0m {[30;75H[K[30;75H293,11[8C50%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[2;11H([16C)[30;75H[K[30;75H292,11[8C50%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H291,11[8C50%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H290,3[9C50%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H289,11[8C50%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H288,3[9C50%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H287,0-1[7C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H286,1[9C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H285,11[8C49%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H284,11[8C49%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H283,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * do_bgfg - Execute the builtin bg and fg commands[0m[30;75H[K[30;75H282,11[8C49%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H281,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H280,0-1[7C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H279,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m[30;75H[K[30;75H278,11[8C48%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H }[30;75H[K[30;75H277,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H276,11[8C47%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H275,11[8C47%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H274,11[8C47%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg(argv);[30;75H[K[30;75H273,11[8C47%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H272,11[8C47%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H271,11[8C47%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg(argv);[30;75H[K[30;75H270,11[8C46%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H269,11[8C46%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H268,11[8C46%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H listjobs(jobs);[30;75H[K[30;75H267,11[8C46%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H266,11[8C46%[1;11H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H exit[46m([0m[1m[35m0[0m[46m)[0m;[30;75H[K[30;75H265,11[8C46%[1;11H[34h[?25h[?25l([1C)[30;77H6[2;11H[34h[?25h[?25l[30;77H7[3;11H[34h[?25h[?25l[30;77H8[4;11H[34h[?25h[?25l[30;77H9[5;11H[34h[?25h[?25l[30;76H70[6;11H[34h[?25h[?25l[30;77H1[7;11H[34h[?25h[?25l[30;77H2[8;11H[34h[?25h[?25l[30;77H3[9;11H[34h[?25h[?25l[30;77H4[10;11H[34h[?25h[?25l[30;77H5[11;11H[34h[?25h[?25l[30;77H6[12;11H[34h[?25h[?25l[11;44H[46m{

[0m  [46m}[0m[30;77H7,3 [13;3H[34h[?25h[?25l[11;44H{

  }[30;77H8,11[14;11H[34h[?25h[?25l[30;77H9,1 [15;1H[34h[?25h[?25l[30;76H80,0-1[16;1H[34h[?25h[?25l[30;77H1,3  [17;3H[34h[?25h[?25l[30;77H2,11[18;11H[34h[?25h[?25l[30;77H3,3 [19;3H[34h[?25h[?25l[30;77H4,11[20;11H[34h[?25h[?25l[16C[46m{

}[0m[30;79H27[20;27H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H284,27[8C46%[20;27H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[20;26H [46m [0m
{
[46m [0m[30;75H[K[30;75H285,1[9C45%[20;27H[K[21;1H[46m{[0m
 [21;1H[34h[?25h[?25l[20;29r[29;1H
[1;30r[20;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {
[46m [0m[29;4H [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H284,27[8C46%[20;27H[46m{[0m
 [20;27H[34h[?25h[?25l[30;80H8[20;28H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[22;1H[46m [0m[30;75H[K[30;75H285,5[9C45%[20;27H{

 
}[21;5H[34h[?25h[?25l[30;79H9[21;9H[34h[?25h[?25l[30;79H8[21;8H[34h[?25h[?25l[30;79H7[21;7H[34h[?25h[?25l[30;79H6[21;6H[34h[?25h[?25l i[30;79H7[21;7H[34h[?25h[?25l[1m[33mif[0m[30;79H8[21;8H[34h[?25h[?25li[21;7H[K[30;79H7[21;7H[34h[?25h[?25l[21;6H[K[30;79H6[21;6H[34h[?25h[?25l[30;79H5[21;5H[34h[?25h[?25l i[30;79H6[21;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[21;7H[34h[?25h[?25l[30;79H8[21;8H[34h[?25h[?25l (

[1m[37m[41m}[28;24H{[0m[30;79H9[21;9H[34h[?25h[?25l(a[30;79H10[21;10H[34h[?25h[?25lar[30;80H1[21;11H[34h[?25h[?25lrg[30;80H2[21;12H[34h[?25h[?25lgb[30;80H3[21;13H[34h[?25h[?25l[21;12H[K[30;80H2[21;12H[34h[?25h[?25lgv[30;80H3[21;13H[34h[?25h[?25lv[[22;11H[1m[37m[41m;[29;45H;[0m[30;80H4[21;14H[34h[?25h[?25l[[1m[35m0[0m[30;80H5[21;15H[34h[?25h[?25l[1m[35m0[0m][22;11H;[29;45H;[21;13H[46m[[1C][0m[30;80H6[21;16H[34h[?25h[?25l[[1C][30;80H7[21;17H[34h[?25h[?25l[46m[[1C][0m[30;80H6[21;16H[34h[?25h[?25l[30;80H5[21;15H[34h[?25h[?25l[30;80H4[21;14H[34h[?25h[?25l[30;80H3[21;13H[34h[?25h[?25l[[1C][30;80H2[21;12H[34h[?25h[?25l[30;80H1[21;11H[34h[?25h[?25l[30;80H0[21;10H[34h[?25h[?25l[30;79H9 [21;9H[34h[?25h[?25l[30;77H4[20;9H[34h[?25h[?25l[30;77H3,4[19;4H[34h[?25h[?25l[30;77H2,9[18;9H[34h[?25h[?25l[30;77H1,4[17;4H[34h[?25h[?25l[30;77H0,1[16;1H[34h[?25h[?25l[30;76H79,2[15;2H[34h[?25h[?25l[30;77H8,9[14;9H[34h[?25h[?25l[11;44H[46m{

[0m  [46m}[0m[30;77H7,4[13;4H[34h[?25h[?25l[11;44H{

  }[30;77H6,9[12;9H[34h[?25h[?25l[30;77H5[11;9H[34h[?25h[?25l[30;77H4[10;9H[34h[?25h[?25l[30;77H3[9;9H[34h[?25h[?25l[30;77H2[8;9H[34h[?25h[?25l[30;77H3[9;9H[34h[?25h[?25l[30;77H4[10;9H[34h[?25h[?25l[30;77H5[11;9H[34h[?25h[?25l[30;77H6[12;9H[34h[?25h[?25l[11;44H[46m{

[0m  [46m}[0m[30;77H7,4[13;4H[34h[?25h[?25l[11;44H{

  }[30;77H8,9[14;9H[34h[?25h[?25l[30;77H9,2[15;2H[34h[?25h[?25l[30;76H80,1[16;1H[34h[?25h[?25l[30;77H1,4[17;4H[34h[?25h[?25l[30;77H2,9[18;9H[34h[?25h[?25l[30;77H3,4[19;4H[34h[?25h[?25l[30;77H4,9[20;9H[34h[?25h[?25l[30;77H5[21;9H[34h[?25h[?25l(sargv[[1m[35m0[0m][30;79H10[21;10H[34h[?25h[?25lstargv[[1m[35m0[0m][30;80H1[21;11H[34h[?25h[?25ltrargv[[1m[35m0[0m][30;80H2[21;12H[34h[?25h[?25lrcargv[[1m[35m0[0m][30;80H3[21;13H[34h[?25h[?25lcmargv[[1m[35m0[0m][30;80H4[21;14H[34h[?25h[?25lmpargv[[1m[35m0[0m][30;80H5[21;15H[34h[?25h[?25lp(argv[[1m[35m0[0m][30;80H6[21;16H[34h[?25h[?25lpargv[[1m[35m0[0m][21;22H[K[30;80H5[21;15H[34h[?25h[?25lmargv[[1m[35m0[0m][21;21H[K[30;80H4[21;14H[34h[?25h[?25lcargv[[1m[35m0[0m][21;20H[K[30;80H3[21;13H[34h[?25h[?25lrargv[[1m[35m0[0m][21;19H[K[30;80H2[21;12H[34h[?25h[?25ltargv[[1m[35m0[0m][21;18H[K[30;80H1[21;11H[34h[?25h[?25lsargv[[1m[35m0[0m][21;17H[K[30;80H0[21;10H[34h[?25h[?25l(argv[[1m[35m0[0m][21;16H[K[30;79H9 [21;9H[34h[?25h[?25l argv[[1m[35m0[0m][21;15H[K[23;1H}[28;24H{[30;79H8[21;8H[34h[?25h[?25l (argv[[1m[35m0[0m]

[1m[37m[41m}[28;24H{[0m[30;79H9[21;9H[34h[?25h[?25largv[46m[[1C][0m[30;79H16[21;16H[34h[?25h[?25l[[1C][30;80H7[21;17H[34h[?25h[?25l =[30;80H8[21;18H[34h[?25h[?25l==[30;80H9[21;19H[34h[?25h[?25l[30;79H20[21;20H[34h[?25h[?25l '[30;80H1[21;21H[34h[?25h[?25l'f[30;80H2[21;22H[34h[?25h[?25l[1m[35m'f'[0m[30;80H3[21;23H[34h[?25h[?25l[1m[35m'[0m)

}[28;24H{[21;8H[46m([14C)[0m[30;80H4[21;24H[34h[?25h[?25l[21;8H([14C)[30;80H5[21;25H[34h[?25h[?25l {[46m{

}[0m[30;80H6[21;26H[34h[?25h[?25l[22;29r[22;1H[L[1;30r[23;1H[46m [0m[30;75H[K[30;75H286,9[9C45%[21;25H{

 
}[22;9H[34h[?25h[?25l    }[21;25H[46m{
[0m    [46m}[0m[30;79H6[22;6H[34h[?25h[?25l[21;25H{
    }[30;79H7[22;7H[34h[?25h[?25l e[30;79H8[22;8H[34h[?25h[?25lel[30;79H9[22;9H[34h[?25h[?25lls[30;79H10[22;10H[34h[?25h[?25l[1m[33melse[0m[30;80H1[22;11H[34h[?25h[?25l[30;80H2[22;12H[34h[?25h[?25l i[30;80H3[22;13H[34h[?25h[?25l[1m[33mif[0m[30;80H4[22;14H[34h[?25h[?25l[30;80H5[22;15H[34h[?25h[?25l (

[1m[37m[41m}[29;24H{[0m[30;80H6[22;16H[34h[?25h[?25l(a[30;80H7[22;17H[34h[?25h[?25lar[30;80H8[22;18H[34h[?25h[?25lrg[30;80H9[22;19H[34h[?25h[?25lg[[23;11H[1m[37m[41m;[0m[30;79H20[22;20H[34h[?25h[?25l[v[30;80H1[22;21H[34h[?25h[?25lv][23;11H;[22;19H[46m[[0mv[46m][0m[30;80H2[22;22H[34h[?25h[?25l[46m][0m[1m[35m0[0m[v][30;80H3[22;23H[34h[?25h[?25l[22;22H[K[22;19H[46m[[0mv[46m][0m[30;80H2[22;22H[34h[?25h[?25l[v][30;80H3[22;23H[34h[?25h[?25l[46m[[0mv[46m][0m[30;80H2[22;22H[34h[?25h[?25l[22;21H[K[23;11H[1m[37m[41m;[0m[22;19H[[30;80H1[22;21H[34h[?25h[?25l[22;20H[K[30;80H0[22;20H[34h[?25h[?25l[22;19H[K[23;11H;[30;79H19[22;19H[34h[?25h[?25lgv[30;79H20[22;20H[34h[?25h[?25lv[[23;11H[1m[37m[41m;[0m[30;80H1[22;21H[34h[?25h[?25l[[1m[35m0[0m[30;80H2[22;22H[34h[?25h[?25l[1m[35m0[0m][23;11H;[22;20H[46m[[1C][0m[30;80H3[22;23H[34h[?25h[?25l[[1C][30;80H4[22;24H[34h[?25h[?25l =[30;80H5[22;25H[34h[?25h[?25l==[30;80H6[22;26H[34h[?25h[?25l[30;80H7[22;27H[34h[?25h[?25l '[30;80H8[22;28H[34h[?25h[?25l'b[30;80H9[22;29H[34h[?25h[?25l[1m[35m'b'[0m[30;79H30[22;30H[34h[?25h[?25l[1m[35m'[0m)

}[29;24H{[22;15H[46m([14C)[0m[30;80H1[22;31H[34h[?25h[?25l[22;15H([14C)[30;80H2[22;32H[34h[?25h[?25l {[46m{

}[0m[30;80H3[22;33H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[24;1H[46m [0m[30;75H[K[30;75H287,9[9C45%[22;32H{

 
}[23;9H[34h[?25h[?25l    }[22;32H[46m{
[0m    [46m}[0m[30;79H6[23;6H[34h[?25h[?25l[21;25H[46m{
[0m    [46m}[0m[26C{
    }[30;77H6[22;6H[34h[?25h[?25l[21;25H{
    }[26C[46m{
[0m    [46m}[0m[30;79H33[22;33H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[23;5H[46m [0m
    }[30;75H[K[30;75H287,9[9C45%[22;32H{
        [34h[?25h[?25l[30;77H6[22;9H[34h[?25h[?25l[21;8H[46m([14C)[0m[30;77H5[21;9H[34h[?25h[?25l([14C) [46m{
[0m    [46m}[0m[30;79H26[21;26H[34h[?25h[?25l[22;29r[22;1H[L[1;30r[22;5H[46m [0m
    }[30;75H[K[30;75H286,9[9C45%[21;25H{
        [34h[?25h[?25l[21;8H[46m([14C)[0m[30;77H5[21;9H[34h[?25h[?25l([14C)[30;77H4[20;9H[34h[?25h[?25l[30;77H3,4[19;4H[34h[?25h[?25l[30;77H2,9[18;9H[34h[?25h[?25l[30;77H1,4[17;4H[34h[?25h[?25l[30;77H0,1[16;1H[34h[?25h[?25l[30;76H79,2[15;2H[34h[?25h[?25l[30;77H8,9[14;9H[34h[?25h[?25l[11;44H[46m{

[0m  [46m}[0m[30;77H7,4[13;4H[34h[?25h[?25l[11;44H{

  }[30;77H6,9[12;9H[34h[?25h[?25l[30;77H5[11;9H[34h[?25h[?25l[30;77H4[10;9H[34h[?25h[?25l[30;77H3[9;9H[34h[?25h[?25l[30;77H2[8;9H[34h[?25h[?25l[30;77H1[7;9H[34h[?25h[?25l[30;77H0[6;9H[34h[?25h[?25l[30;76H69[5;9H[34h[?25h[?25l[30;77H8[4;9H[34h[?25h[?25l[30;77H7[3;9H[34h[?25h[?25l[30;77H6[2;9H[34h[?25h[?25l[1;9H[46m([1C)[0m[30;77H5[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"quit"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H264,9[9C45%[2;9H([1C)[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[30;75H[K[30;75H263,9[9C45%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H262,4[9C45%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H261,9[9C44%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H260,9[9C44%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H259,4[9C44%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H258,1[9C44%[1;1H[34h[?25h[?25l[30;77H9,4[2;4H[34h[?25h[?25l[30;76H60,9[3;9H[34h[?25h[?25l[30;77H1[4;9H[34h[?25h[?25l[30;77H2,4[5;4H[34h[?25h[?25l[30;77H3,9[6;9H[34h[?25h[?25l[30;77H4[7;9H[34h[?25h[?25l[8;9H[46m([1C)[0m[30;77H5[8;9H[34h[?25h[?25l([1C)[30;77H6[9;9H[34h[?25h[?25l[30;77H7[10;9H[34h[?25h[?25l[30;77H8[11;9H[34h[?25h[?25l[30;77H9[12;9H[34h[?25h[?25l[30;76H70[13;9H[34h[?25h[?25l[30;77H1[14;9H[34h[?25h[?25l[30;77H2[15;9H[34h[?25h[?25l[30;77H3[16;9H[34h[?25h[?25l[30;77H4[17;9H[34h[?25h[?25l[30;77H5[18;9H[34h[?25h[?25l[30;77H6[19;9H[34h[?25h[?25l[18;44H[46m{

[0m  [46m}[0m[30;77H7,4[20;4H[34h[?25h[?25l[18;44H{

  }[30;77H8,9[21;9H[34h[?25h[?25l[6;30H[46m{[22;1H}[0m[30;77H9,2[22;2H[34h[?25h[?25l[6;30H{[22;1H}[30;76H80,1[23;1H[34h[?25h[?25l[30;77H1,4[24;4H[34h[?25h[?25l[30;77H2,9[25;9H[34h[?25h[?25l[30;77H3,4[26;4H[34h[?25h[?25l[30;77H4,9[27;9H[34h[?25h[?25l[28;8H[46m([14C)[0m[30;77H5[28;9H[34h[?25h[?25l([14C)[30;77H6,1[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m [1m[33mif[0m (argv[[1m[35m0[0m] == [1m[35m'b'[0m) {[30;75H[K[30;75H287,9[9C44%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H288,1[9C44%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H289,6[9C44%[27;32H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H290,9[9C45%[26;32H{[28;5H}[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H291,2[9C45%[22;27H[46m{[29;1H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H292,1[9C45%[21;27H{[28;1H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H293,4[9C45%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H294,9[9C45%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H295,4[9C46%[29;4H[34h[?25h[?25l[30;77H4,9[28;9H[34h[?25h[?25l[30;77H3,4[27;4H[34h[?25h[?25l[30;77H2,1[26;1H[34h[?25h[?25l[18;27H[46m{[25;1H}[0m[30;77H1,2[25;2H[34h[?25h[?25l[18;27H{[25;1H}[30;77H0,9[24;9H[34h[?25h[?25l[21;32H[46m{[23;5H}[0m[30;76H89,6[23;6H[34h[?25h[?25l[21;32H{[23;5H}[30;77H8,1[22;1H[34h[?25h[?25l[30;77H7,9[21;9H[34h[?25h[?25l[30;77H6,1[20;1H[34h[?25h[?25l[30;79H5[20;5H[34h[?25h[?25l[30;79H9[20;9H[34h[?25h[?25l[19;8H[46m([14C)[0m[30;77H5[19;9H[34h[?25h[?25l([14C)[30;79H10[19;10H[34h[?25h[?25l[30;80H1[19;11H[34h[?25h[?25l[30;80H2[19;12H[34h[?25h[?25lv[46m[[1C][0m[30;80H3[19;13H[34h[?25h[?25l[30;80H4[19;14H[34h[?25h[?25l[30;80H5[19;15H[34h[?25h[?25l[30;80H6[19;16H[34h[?25h[?25l[[1C][30;80H7[19;17H[34h[?25h[?25l[46m[[1C][0m[30;80H6[19;16H[34h[?25h[?25l[30;80H5[19;15H[34h[?25h[?25l[30;80H4[19;14H[34h[?25h[?25l[30;80H3[19;13H[34h[?25h[?25l[[1C][30;80H2[19;12H[34h[?25h[?25l[30;80H1[19;11H[34h[?25h[?25l[30;80H0[19;10H[34h[?25h[?25l[46m([14C)[0m[30;79H9 [19;9H[34h[?25h[?25l[46m([0m*argv[[1m[35m0[0m] == [1m[35m'f[0m[1m[35m[46m'[0m) {[19;8H([14C[1m[35m'[0m[30;79H10[19;10H[34h[?25h[?25l[30;77H6,9 [20;9H[34h[?25h[?25l[30;77H7,10[21;10H[34h[?25h[?25l[30;80H1[21;11H[34h[?25h[?25l[30;80H2[21;12H[34h[?25h[?25l[30;80H3[21;13H[34h[?25h[?25l[30;80H4[21;14H[34h[?25h[?25l [46m([14C)[0m[30;80H5[21;15H[34h[?25h[?25l([14C)[30;77H6,9 [20;9H[34h[?25h[?25l[19;14H[46m[[1C][0m[30;77H5,15[19;15H[34h[?25h[?25l[[1C][30;77H4[18;15H[34h[?25h[?25l[46m([11C)[0m[30;80H4[18;14H[34h[?25h[?25l([11C)[19;14H[46m[[1C][0m[30;77H5[19;14H[34h[?25h[?25l[[1C][30;77H6,9 [20;9H[34h[?25h[?25l[30;77H7,14[21;14H[34h[?25h[?25l [46m([14C)[0m[30;80H5[21;15H[34h[?25h[?25l[30;80H6[21;16H[34h[?25h[?25l[46m([0m*argv[[1m[35m0[0m] == [1m[35m'b[0m[1m[35m[46m'[0m) {[21;15H([14C[1m[35m'[0m[30;80H7[21;17H[34h[?25h[?25l*(argv[[1m[35m0[0m] == [1m[35m'b'[0m) [1m[37m[41m{[23;5H}

}[0m[21;17H[46m([14C)[0m[30;80H8[21;18H[34h[?25h[?25l([14C)[30;80H9[21;19H[34h[?25h[?25l[30;79H20[21;20H[34h[?25h[?25l[30;80H1[21;21H[34h[?25h[?25lv[46m[[1C][0m[30;80H2[21;22H[34h[?25h[?25l[30;80H3[21;23H[34h[?25h[?25l[30;80H4[21;24H[34h[?25h[?25l[30;80H5[21;25H[34h[?25h[?25l[46m][0m) == [1m[35m'b'[0m) {[23;5H}

}[21;17H[46m([0margv[[1C][46m)[0m[30;80H6[21;26H[34h[?25h[?25l[21;17H([7C)[30;77H6,9 [20;9H[34h[?25h[?25l[19;26H[46m{[21;5H}[0m[30;77H5,26[19;26H[34h[?25h[?25l[19;8H[46m([15C)[0m {[21;5H}[30;80H5[19;25H[34h[?25h[?25l[30;80H4[19;24H[34h[?25h[?25l[19;8H([15C)[30;80H3[19;23H[34h[?25h[?25l[30;80H2[19;22H[34h[?25h[?25l[30;80H1[19;21H[34h[?25h[?25l[30;80H0[19;20H[34h[?25h[?25l[30;79H19[19;19H[34h[?25h[?25l[30;80H8[19;18H[34h[?25h[?25l[46m[[1C][0m[30;80H7[19;17H[34h[?25h[?25l[30;80H6[19;16H[34h[?25h[?25l[30;80H5[19;15H[34h[?25h[?25l[30;80H4[19;14H[34h[?25h[?25l[[1C][30;80H3[19;13H[34h[?25h[?25l[30;80H2[19;12H[34h[?25h[?25l[30;80H1[19;11H[34h[?25h[?25l[30;80H0[19;10H[34h[?25h[?25l[46m([15C)[0m[30;79H9 [19;9H[34h[?25h[?25l([15C)[30;79H10[19;10H[34h[?25h[?25l*(argv[[1m[35m0[0m] == [1m[35m'f'[0m) [1m[37m[41m{[21;5H}[29C{[23;5H}

}[0m[19;10H[46m([14C)[0m[30;80H1[19;11H[34h[?25h[?25l([14C)[30;80H2[19;12H[34h[?25h[?25l[30;80H3[19;13H[34h[?25h[?25l[30;80H4[19;14H[34h[?25h[?25lv[46m[[1C][0m[30;80H5[19;15H[34h[?25h[?25l[30;80H6[19;16H[34h[?25h[?25l[30;80H7[19;17H[34h[?25h[?25l[30;80H8[19;18H[34h[?25h[?25l[[1C][30;80H9[19;19H[34h[?25h[?25l[46m[[1C][0m[30;80H8[19;18H[34h[?25h[?25l[46m][0m) == [1m[35m'f'[0m) {[21;5H}[29C{[23;5H}

}[19;10H[46m([0margv[[1C][46m)[0m[30;80H9[19;19H[34h[?25h[?25l[19;10H([7C)[30;77H6,9 [20;9H[34h[?25h[?25l p[30;79H10[20;10H[34h[?25h[?25lpr[30;80H1[20;11H[34h[?25h[?25lri[30;80H2[20;12H[34h[?25h[?25lin[30;80H3[20;13H[34h[?25h[?25lnt[30;80H4[20;14H[34h[?25h[?25ltf[30;80H5[20;15H[34h[?25h[?25lf(
    [1m[37m[41m}[29C{[23;5H}

}[0m[30;80H6[20;16H[34h[?25h[?25l()
    }[29C{[23;5H}

}[20;15H[46m()[0m[30;80H7[20;17H[34h[?25h[?25l[46m)[0m;()[30;80H8[20;18H[34h[?25h[?25l[46m()[0m[30;80H7[20;17H[34h[?25h[?25l[30;80H6[20;16H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m);
    } else if (*(argv[0]) == 'b') {

    }
    return;
}

/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[20;16H"[0m[1m[35m[46m)[0m[30;80H7[20;17H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m"[0m);
    } [1m[33melse[0m [1m[33mif[0m (*(argv[[1C]) == [3C) {

    }
    [1m[33mreturn[0m;
}

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m[20;17H[1m[35m"[0m[46m)[0m[30;80H8[20;18H[34h[?25h[?25l([2C)[30;80H7[20;17H[34h[?25h[?25l[1m[35m"F"[0m);[30;80H8[20;18H[34h[?25h[?25l[1m[35mFG"[0m);[30;80H9[20;19H[34h[?25h[?25l[46m([4C)[0m[30;79H20[20;20H[34h[?25h[?25l[30;80H1[20;21H[34h[?25h[?25l([4C)[30;80H2[20;22H[34h[?25h[?25l[21;22H[46m[[1C][0m[30;77H7[21;22H[34h[?25h[?25l[[1C][30;77H8,1 [22;1H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l[30;79H9[22;9H[34h[?25h[?25l p[30;79H10[22;10H[34h[?25h[?25lpr[30;80H1[22;11H[34h[?25h[?25lri[30;80H2[22;12H[34h[?25h[?25lin[30;80H3[22;13H[34h[?25h[?25lnt[30;80H4[22;14H[34h[?25h[?25ltg[30;80H5[22;15H[34h[?25h[?25lg(
    [1m[37m[41m}

}[0m[30;80H6[22;16H[34h[?25h[?25l[22;15H[K[23;5H}

}[30;80H5[22;15H[34h[?25h[?25l[22;14H[K[30;80H4[22;14H[34h[?25h[?25ltf[30;80H5[22;15H[34h[?25h[?25lf(
    [1m[37m[41m}

}[0m[30;80H6[22;16H[34h[?25h[?25l()
    }

}[22;15H[46m()[0m[30;80H7[22;17H[34h[?25h[?25l[46m)[0m;()[30;80H8[22;18H[34h[?25h[?25l[46m()[0m[30;80H7[22;17H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m);
    }
    return;
}

/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[22;16H"[0m[1m[35m[46m)[0m[30;80H7[22;17H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m"[0m);
    }
    [1m[33mreturn[0m;
}

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m[22;17H[1m[35m"[0m[46m)[0m[30;80H8[22;18H[34h[?25h[?25l([2C)[30;80H7[22;17H[34h[?25h[?25l[1m[35m"B"[0m);[30;80H8[22;18H[34h[?25h[?25l[1m[35mBG"[0m);[30;80H9[22;19H[34h[?25h[?25l[1m[35mG[0m[1m[31m\"[0m[1m[35m);
    }
    return;
}

/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m[30;79H20[22;20H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m);
    }
    [1m[33mreturn[0m;
}

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m[30;80H1[22;21H[34h[?25h[?25l[30;77H7[21;21H[34h[?25h[?25l[20;15H[46m([4C)[0m[30;77H6[20;21H[34h[?25h[?25l[30;80H0[20;20H[34h[?25h[?25l([4C)[30;79H19[20;19H[34h[?25h[?25l[1m[35mG[0m[1m[31m\"[0m[1m[35m);
    } else if (*(argv[0]) == 'b') {
        printf([0m[1CBG\n[1C[1m[35m);
    }
    return;
}

/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m[30;79H20[20;20H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m);
    } [1m[33melse[0m [1m[33mif[0m (*(argv[[1C]) == [3C) {
        printf([1C[1m[35mBG[0m[1m[31m\n[0m[1C);
    }
    [1m[33mreturn[0m;
}

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m[30;80H1[20;21H[34h[?25h[30;1H[K[20;20H[?25l[30;75H286,20[8C46%[20;20H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 607L, 15839C written[46C286,20[8C46%[30;75H[K[30;75H286,20[8C46%[20;20H[34h[?25h[?25l[30;77H5[19;20H[34h[?25h[?25l[30;77H6[20;20H[34h[?25h[?25l[30;77H5[19;20H[34h[?25h[?25l[30;77H4[18;20H[34h[?25h[?25l[30;77H3,3 [17;3H[34h[?25h[?25l[30;77H2,20[16;20H[34h[?25h[?25l[30;77H1,3 [15;3H[34h[?25h[?25l[30;77H0,0-1[14;1H[34h[?25h[?25l[30;76H79,1  [13;1H[34h[?25h[?25l[30;77H8,20[12;20H[34h[?25h[?25l[9;44H[46m{

[0m  [46m}[0m[30;77H7,3 [11;3H[34h[?25h[?25l[9;44H{

  }[30;77H6,13[10;13H[34h[?25h[?25l[9;20H[46m([15C)[0m[30;77H5,20[9;20H[34h[?25h[?25l([15C)[30;77H4,13[8;13H[34h[?25h[?25l[30;77H3,18[7;18H[34h[?25h[?25l[6;20H[46m([13C)[0m[30;77H2,20[6;20H[34h[?25h[?25l([13C)[30;77H1,13[5;13H[34h[?25h[?25l[30;77H0,18[4;18H[34h[?25h[?25l[3;20H[46m([13C)[0m[30;76H69,20[3;20H[34h[?25h[?25l([13C)[30;77H8,13[2;13H[34h[?25h[?25l[30;77H7,20[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp[46m([0margv[[1m[35m0[0m], [1m[35m"jobs"[0m[46m)[0m == [1m[35m0[0m) {[30;1H[K[30;75H266,20[8C45%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H exit([1m[35m0[0m);[2;20H([15C)[30;75H[K[30;75H265,12[8C45%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mif[0m (strcmp(argv[46m[[0m[1m[35m0[0m[46m][0m, [1m[35m"quit"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H264,20[8C45%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[2;18H[[1C][30;75H[K[30;75H263,20[8C45%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H262,3[9C45%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H261,20[8C44%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H260,20[8C44%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H259,3[9C44%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H258,0-1[7C44%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H257,1[9C44%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m bg;[30;75H[K[30;75H256,14[8C44%[1;14H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H255,5[9C43%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H argv[46m[[0m--argc[46m][0m = [1m[35mNULL[0m;[30;75H[K[30;75H254,17-20     43%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) {[2;13H[--argc][30;75H[K[30;75H253,20[8C43%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* should the job run in the background? */[0m[30;75H[K[30;75H252,20[8C43%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H251,0-1[7C43%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H250,10-13     43%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (argc == [1m[35m0[0m)  [1m[36m/* ignore blank line */[0m[30;75H[K[30;75H249,20[8C42%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H248,4[9C42%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H argv[argc] = [1m[35mNULL[0m;[30;75H[K[30;75H247,20[8C42%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H246,5[9C42%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H245,6-9[7C42%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H244,17-20     42%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [46m{[3;9H}[0m[30;75H[K[30;75H243,13-16     41%[1;16H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H delim = strchr(buf, [1m[31m'\''[0m);[2;16H{[4;9H}[30;75H[K[30;75H242,17-20     41%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H buf++;[30;75H[K[30;75H241,15-18     41%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H240,20[8C41%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H239,5[9C41%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H buf++;[30;75H[K[30;75H238,18[8C41%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[30;75H[K[30;75H237,17-20     40%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H236,17-20     40%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H *delim = [1m[31m'\0'[0m;[30;75H[K[30;75H235,17-20     40%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H argv[46m[[0margc++[46m][0m = buf;[30;75H[K[30;75H234,17-20     40%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (delim) [46m{[0m[2;13H[argc++][14;5H[46m}[0m[30;75H[K[30;75H233,19[8C40%[1;19H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[2;19H{[15;5H}[30;75H[K[30;75H232,0-1[7C39%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H231,5[9C39%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H230,17-20     39%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33melse[0m [46m{[3;5H}[0m[30;75H[K[30;75H229,10[8C39%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[2;10H{[4;5H}[30;75H[K[30;75H228,5[9C39%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H227,17-20     39%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf++;[30;75H[K[30;75H226,7-10      38%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H225,20[8C38%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H argc = [1m[35m0[0m;[30;75H[K[30;75H224,13[8C38%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Build the argv list */[0m[30;75H[K[30;75H223,20[8C38%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H222,0-1[7C38%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf++;[30;75H[K[30;75H221,7-10      38%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (*buf && [46m([0m*buf == [1m[35m' '[0m[46m)[0m) [1m[36m/* ignore leading spaces */[0m[30;75H[K[30;75H220,20[8C37%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf[strlen(buf)-[1m[35m1[0m] = [1m[35m' '[0m;  [1m[36m/* replace trailing '\n' with space */[0m[2;20H([11C)[30;75H[K[30;75H219,20[8C37%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H strcpy(buf, cmdline);[30;75H[K[30;75H218,20[8C37%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H217,0-1[7C37%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m bg;[20C [1m[36m/* background job? */[0m[30;75H[K[30;75H216,20[8C37%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m argc;[18C [1m[36m/* number of args */[0m[30;75H[K[30;75H215,20[8C37%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *delim;[15C [1m[36m/* points to first space delimiter */[0m[30;75H[K[30;75H214,20[8C36%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *buf = array;[9C [1m[36m/* ptr that traverses command line */[0m[30;75H[K[30;75H213,20[8C36%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstatic[0m [1m[32mchar[0m array[MAXLINE]; [1m[36m/* holds local copy of command line */[0m[30;75H[K[30;75H212,20[8C36%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv) {[30;75H[K[30;75H211,20[8C36%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H210,3[9C36%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * the user has requested a FG job.  [0m[30;75H[K[30;75H209,20[8C35%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * argument.  Return true if the user has requested a BG job, false if[0m[30;75H[K[30;75H208,20[8C35%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Characters enclosed in single quotes are treated as a single[0m[30;75H[K[30;75H207,20[8C35%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * [0m[30;75H[K[30;75H206,3[9C35%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * parseline - Parse the command line and build the argv array.[0m[30;75H[K[30;75H205,20[8C35%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H204,3[9C35%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H203,0-1[7C34%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H202,1[9C34%[1;1H[34h[?25h[?25l[30;77H3,0-1[2;1H[34h[?25h[?25l[30;77H4,3  [3;3H[34h[?25h[?25l[30;77H5,20[4;20H[34h[?25h[?25l[30;77H6,3 [5;3H[34h[?25h[?25l[30;77H7,20[6;20H[34h[?25h[?25l[30;77H8[7;20H[34h[?25h[?25l[30;77H9[8;20H[34h[?25h[?25l[30;76H10,3 [9;3H[34h[?25h[?25l[30;77H1,20[10;20H[34h[?25h[?25l[30;77H2[11;20H[34h[?25h[?25l[30;77H3[12;20H[34h[?25h[?25l[30;77H4[13;20H[34h[?25h[?25l[30;77H5[14;20H[34h[?25h[?25l[30;77H6[15;20H[34h[?25h[?25l[30;77H7,0-1[16;1H[34h[?25h[?25l[30;77H8,20 [17;20H[34h[?25h[?25l[30;77H9[18;20H[34h[?25h[?25l[19;20H[46m([11C)[0m[30;76H20[19;20H[34h[?25h[?25l([11C)[30;77H1,7-10[20;10H[34h[?25h[?25l[30;77H2,0-1 [21;1H[34h[?25h[?25l[30;77H3,20 [22;20H[34h[?25h[?25l[30;1H[1m[37m[41mE20: Mark not set[0m[30;75H[K[30;75H223,20[8C34%[22;20H[34h[?25h[?25l[23m[24m[0m[H[J[1;4H exit([1m[35m0[0m); [1m[36m/* control never reaches here */[0m
}

[1m[36m/* 
 * eval - Evaluate the command line that the user has just typed in
 * 
 * If the user has requested a built-in command (quit, jobs, bg or fg)
 * then execute it immediately. Otherwise, fork a child process and
 * run the job in the context of the child. If the job is running in
 * the foreground, wait for it to terminate and then return.  Note:
 * each child process must have a unique process group ID so that our
 * background children don't receive SIGINT (SIGTSTP) from the kernel
 * when we type ctrl-c (ctrl-z) at the keyboard.  
*/[0m
[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {
    pid_t pid;
    [1m[32mchar[0m *argv[MAXARGS];
    [1m[32mint[0m bg = parseline(cmdline, argv);
    [1m[32mstruct[0m job_t *job;
    sigset_t mask;[22;4H [1m[36m// Check for built in command[0m
    [1m[33mif[0m (builtin_cmd(argv)) [1m[33mreturn[0m;[25;4H [1m[36m// Fork and Exec in child process[0m
    sigemptyset(&mask);
    sigaddset(&mask, [1m[35mSIGCHLD[0m);
    sigprocmask(SIG_BLOCK, &mask, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m
    [1m[33mif[0m ((pid = fork()) == [1m[35m0[0m) {[30;75H167,1[9C26%[15;1H[34h[?25h[?25l[30;77H8[16;1H[34h[?25h[?25l[30;77H9[17;1H[34h[?25h[?25l[30;76H70[18;1H[34h[?25h[?25l[30;77H1[19;1H[34h[?25h[?25l[30;77H2[20;1H[34h[?25h[?25l[30;77H3[21;1H[34h[?25h[?25l[30;77H4[22;1H[34h[?25h[?25l[30;77H5[23;1H[34h[?25h[?25l[30;77H6,0-1[24;1H[34h[?25h[?25l[30;77H7,1  [25;1H[34h[?25h[?25l[30;77H8[26;1H[34h[?25h[?25l[30;77H9[27;1H[34h[?25h[?25l[30;76H80[28;1H[34h[?25h[?25l[30;77H1[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// In child process:[0m[30;75H[K[30;75H182,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H sigprocmask(SIG_UNBLOCK, &mask, [1m[35mNULL[0m); [1m[36m// Unblock child's SIGCHLD[0m[30;75H[K[30;75H183,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H setpgid(pid, pid);[20C [1m[36m// Make process its own group[0m[30;75H[K[30;75H184,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H execvp(argv[[1m[35m0[0m], argv);[16C [1m[36m// Exec, replacing this process[0m[30;75H[K[30;75H185,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H exit(NOTFOUND);[23C [1m[36m// If failed, exit with NOTFOUND[0m[30;75H[K[30;75H186,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H187,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Shell waits or prints background job info[0m[30;75H[K[30;75H188,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H addjob(jobs, pid, bg ? BG : FG, cmdline); [1m[36m// Add the job to the job list[0m[30;75H[K[30;75H189,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H sigprocmask(SIG_UNBLOCK, &mask, [1m[35mNULL[0m);    [1m[36m// Unblock shell's SIGCHLD[0m[30;75H[K[30;75H190,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H191,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H192,0-1[7C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m(bg) {[30;75H[K[30;75H193,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Print background job info[0m[30;75H[K[30;75H194,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H195,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H196,1[9C28%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H197,1[9C29%[29;1H[34h[?25h[?25l[30;77H6[28;1H[34h[?25h[?25l[30;77H5[27;1H[34h[?25h[?25l[30;77H4[26;1H[34h[?25h[?25l[30;77H3[25;1H[34h[?25h[?25l[30;77H2,0-1[24;1H[34h[?25h[?25l[30;77H1,1  [23;1H[34h[?25h[?25l[30;77H0[22;1H[34h[?25h[?25l[30;76H89[21;1H[34h[?25h[?25l[30;77H8[20;1H[34h[?25h[?25l[30;77H7[19;1H[34h[?25h[?25l[30;77H6[18;1H[34h[?25h[?25l[30;77H5[17;1H[34h[?25h[?25l[30;77H4[16;1H[34h[?25h[?25l[30;79H76[16;76H[34h[?25h[?25l[7m        setpgid(pid, pid);                     [0m[1m[7m[36m// Make process its own grou[0m[1C[7m [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H184,76[8C29%[16;76H[34h[?25h[?25l[16;29r[29;1H
[1;30r[29;8H [1m[36m// Wait for the foreground process to finish[0m[30;1H[K[30;75H184,9[9C29%[16;9H[34h[?25h[?25l[30;77H3[15;9H[34h[?25h[?25l[15;29r[15;1H[L[1;30r[15;8H setpgid(pid, pid);[20C [1m[36m// Make process its own group[0m[30;75H[K[30;75H183,9[9C29%[15;9H[34h[?25h[?25l[30;77H4[16;9H[34h[?25h[?25l[16;29r[16;1H[L[1;30r[16;8H setpgid(pid, pid);[20C [1m[36m// Make process its own group[0m[30;75H[K[30;75H184,9[9C29%[16;9H[34h[?25h[?25l[30;75H[K[30;1H/[34h[?25ht[?25l[34h[?25h[?25l[30;2H[K[30;2H[34h[?25h [?25l[73C184,9[9C29%[16;9H[34h[?25h[?25l[30;79H8[16;8H[34h[?25h[?25l[30;79H9[16;9H[34h[?25h[?25l[16;29r[16;1H[L[1;30r[16;8H setpgid(pid, pid);[20C [1m[36m// Make process its own group[0m[30;75H[K[30;75H184,9[9C28%[16;9H[34h[?25h[?25l[16;29r[16;1H[L[1;30r[16;8H setpgid(pid, pid);[20C [1m[36m// Make process its own group[0m[30;75H[K[30;75H184,9[9C28%[16;9H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hu[?25l[34h[?25h[?25l1 line less; before #264  3 seconds ago[16;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;1H[K[30;75H184,9[9C28%[16;9H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hu[?25l[34h[?25h[?25l1 line less; before #263  6 seconds ago[16;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;1H[K[30;75H184,9[9C29%[16;9H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hu[?25l[34h[?25h[?25l1 line less; before #262  11 seconds ago[16;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;1H[K[30;75H184,9[9C29%[16;9H[34h[?25h[?25l[30;77H3[15;9H[34h[?25h[?25l[30;77H2[14;9H[34h[?25h[?25l[13;9H[46m([12C)[0m[30;77H1[13;9H[34h[?25h[?25l([12C)[30;77H0[12;9H[34h[?25h[?25l[30;76H79[11;9H[34h[?25h[?25l[30;77H8[10;9H[34h[?25h[?25l[30;77H7[9;9H[34h[?25h[?25l[30;77H6,0-1[8;1H[34h[?25h[?25l[30;77H5,9  [7;9H[34h[?25h[?25l[30;77H4[6;9H[34h[?25h[?25l[30;77H3,4[5;4H[34h[?25h[?25l[30;77H2,9[4;9H[34h[?25h[?25l[30;77H1[3;9H[34h[?25h[?25l[30;77H0[2;9H[34h[?25h[?25l[30;76H69[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[30;75H[K[30;75H168,9[9C28%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {[30;75H[K[30;75H167,9[9C28%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m*/[0m[30;75H[K[30;75H166,2[9C28%[1;2H[34h[?25h[?25l[30;75H[K[30;1H/[34h[?25hs[?25l[34h[?25hc[?25l[34h[?25ha[?25l[34h[?25hn[?25l[34h[?25hf[?25l[34h[?25h[?25l[1m[31msearch hit BOTTOM, continuing at TOP[0m[1m[37m[41mE486: Pattern not found: scanf[0m[30;31H[K[30;75H166,2[9C28%[1;2H[34h[?25h[?25l[30;77H7[2;2H[34h[?25h[?25l[30;77H8[3;2H[34h[?25h[?25l[30;77H9[4;2H[34h[?25h[?25l[30;76H70[5;2H[34h[?25h[?25l[30;77H1[6;2H[34h[?25h[?25l[30;77H2[7;2H[34h[?25h[?25l[30;77H3[8;2H[34h[?25h[?25l[30;77H4[9;2H[34h[?25h[?25l[30;77H5[10;2H[34h[?25h[?25l[30;77H6,0-1[11;1H[34h[?25h[?25l[30;77H7,2  [12;2H[34h[?25h[?25l[30;77H8[13;2H[34h[?25h[?25l[30;77H9[14;2H[34h[?25h[?25l[30;76H80[15;2H[34h[?25h[?25l[30;77H1[16;2H[34h[?25h[?25l[30;77H2[17;2H[34h[?25h[?25l[30;77H3[18;2H[34h[?25h[?25l[30;77H4[19;2H[34h[?25h[?25l[30;77H5[20;2H[34h[?25h[?25l[30;77H6[21;2H[34h[?25h[?25l[30;77H7[22;2H[34h[?25h[?25l[30;77H8[23;2H[34h[?25h[?25l[30;77H9[24;2H[34h[?25h[?25l[30;76H90[25;2H[34h[?25h[?25l[30;77H1[26;2H[34h[?25h[?25l[30;77H2,0-1[27;1H[34h[?25h[?25l[30;77H3,2  [28;2H[34h[?25h[?25l[30;77H4[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;1H[K[30;75H195,2[9C28%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H196,2[9C28%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H197,2[9C29%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Wait for the foreground process to finish[0m[30;75H[K[30;75H198,2[9C29%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H waitfg(pid);[30;75H[K[30;75H199,2[9C29%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H200,2[9C29%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H201,2[9C29%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H202,1[9C29%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H203,0-1[7C30%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H204,2[9C30%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * parseline - Parse the command line and build the argv array.[0m[30;75H[K[30;75H205,2[9C30%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * [0m[30;75H[K[30;75H206,2[9C30%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Characters enclosed in single quotes are treated as a single[0m[30;75H[K[30;75H207,2[9C30%[29;2H[34h[?25h[?25l[30;77H6[28;2H[34h[?25h[?25l[30;77H5[27;2H[34h[?25h[?25l[30;77H4[26;2H[34h[?25h[?25l[30;77H3,0-1[25;1H[34h[?25h[?25l[30;77H2,1  [24;1H[34h[?25h[?25l[30;77H1,2[23;2H[34h[?25h[?25l[30;77H2,1[24;1H[34h[?25h[?25l[30;77H3,0-1[25;1H[34h[?25h[?25l[30;77H4,2  [26;2H[34h[?25h[?25l[30;77H5[27;2H[34h[?25h[?25l[30;77H6[28;2H[34h[?25h[?25l[30;77H7[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * argument.  Return true if the user has requested a BG job, false if[0m[30;75H[K[30;75H208,2[9C30%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * the user has requested a FG job.  [0m[30;75H[K[30;75H209,2[9C31%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H210,2[9C31%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv) {[30;75H[K[30;75H211,2[9C31%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstatic[0m [1m[32mchar[0m array[MAXLINE]; [1m[36m/* holds local copy of command line */[0m[30;75H[K[30;75H212,2[9C31%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *buf = array;[9C [1m[36m/* ptr that traverses command line */[0m[30;75H[K[30;75H213,2[9C31%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m *delim;[15C [1m[36m/* points to first space delimiter */[0m[30;75H[K[30;75H214,2[9C32%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m argc;[18C [1m[36m/* number of args */[0m[30;75H[K[30;75H215,2[9C32%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m bg;[20C [1m[36m/* background job? */[0m[30;75H[K[30;75H216,2[9C32%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H217,0-1[7C32%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H strcpy(buf, cmdline);[30;75H[K[30;75H218,2[9C32%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf[strlen(buf)-[1m[35m1[0m] = [1m[35m' '[0m;  [1m[36m/* replace trailing '\n' with space */[0m[30;75H[K[30;75H219,2[9C32%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore leading spaces */[0m[30;75H[K[30;75H220,2[9C33%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf++;[30;75H[K[30;75H221,1-4[7C33%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H222,0-1[7C33%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* Build the argv list */[0m[30;75H[K[30;75H223,2[9C33%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H argc = [1m[35m0[0m;[30;75H[K[30;75H224,2[9C33%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H225,2[9C33%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf++;[30;75H[K[30;75H226,1-4[7C34%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H227,1-4[7C34%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H228,2[9C34%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33melse[0m {[30;75H[K[30;75H229,2[9C34%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H230,1-4[7C34%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H231,2[9C34%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H232,0-1[7C35%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (delim) {[30;75H[K[30;75H233,2[9C35%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H argv[argc++] = buf;[30;75H[K[30;75H234,1-4[7C35%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H *delim = [1m[31m'\0'[0m;[30;75H[K[30;75H235,2[9C35%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H236,2[9C35%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[30;75H[K[30;75H237,2[9C35%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H buf++;[30;75H[K[30;75H238,2[9C36%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H239,2[9C36%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H240,2[9C36%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H buf++;[30;75H[K[30;75H241,1-4[7C36%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H242,2[9C36%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m {[30;75H[K[30;75H243,2[9C37%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H244,2[9C37%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H245,2[9C37%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H246,2[9C37%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H argv[argc] = [1m[35mNULL[0m;[30;75H[K[30;75H247,2[9C37%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H248,2[9C37%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (argc == [1m[35m0[0m)  [1m[36m/* ignore blank line */[0m[30;75H[K[30;75H249,2[9C38%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H250,1-4[7C38%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H251,0-1[7C38%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* should the job run in the background? */[0m[30;75H[K[30;75H252,2[9C38%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) {[30;75H[K[30;75H253,2[9C38%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H argv[--argc] = [1m[35mNULL[0m;[30;75H[K[30;75H254,1-4[7C38%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H255,2[9C39%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m bg;[30;75H[K[30;75H256,2[9C39%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H257,1[9C39%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H258,0-1[7C39%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H259,2[9C39%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H260,2[9C39%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H261,2[9C40%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H262,2[9C40%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[30;75H[K[30;75H263,2[9C40%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"quit"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H264,2[9C40%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H exit([1m[35m0[0m);[30;75H[K[30;75H265,2[9C40%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H266,2[9C41%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H listjobs(jobs);[30;75H[K[30;75H267,2[9C41%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H268,2[9C41%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H269,2[9C41%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H do_bgfg(argv);[30;75H[K[30;75H270,2[9C41%[29;2H[34h[?25h[?25l[1;29r[1;1H[14M[1;30r[16;4H [1m[33mreturn[0m [1m[35m1[0m;
  } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) {
    do_bgfg(argv);
    [1m[33mreturn[0m [1m[35m1[0m;
  } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) {
    [1m[33mreturn[0m [1m[35m1[0m;
  }
  [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m
}

[1m[36m/* 
 * do_bgfg - Execute the builtin bg and fg commands
 */[0m
[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H284,1[9C44%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'f'[0m) {[30;75H[K[30;75H285,1[9C44%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"FG[0m[1m[31m\n[0m[1m[35m"[0m);[30;75H[K[30;75H286,1[9C44%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) {[30;75H[K[30;75H287,1[9C44%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"BG[0m[1m[31m\n[0m[1m[35m"[0m);[30;75H[K[30;75H288,1[9C44%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H289,1[9C44%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H290,1[9C45%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[22;27H[46m{[29;1H}[0m[30;75H[K[30;75H291,1[9C45%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[21;27H{[28;1H}[30;75H[K[30;75H292,0-1[7C45%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H293,1[9C45%[29;1H[34h[?25h[?25l[30;77H2,0-1[28;1H[34h[?25h[?25l[20;27H[46m{[27;1H}[0m[30;77H1,1  [27;1H[34h[?25h[?25l[20;27H{[27;1H}[30;77H0[26;1H[34h[?25h[?25l[30;76H89[25;1H[34h[?25h[?25l[30;77H8[24;1H[34h[?25h[?25l[30;77H7[23;1H[34h[?25h[?25l[30;77H6[22;1H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H286,1[9C45%[22;1H[34h[?25h[?25l[30;79H24[22;24H[34h[?25h[?25l[22;23H[K[22;15H[46m([6C)[0m[30;80H3[22;23H[34h[?25h[?25l[22;22H[K[23;5H[1m[37m[41m}[29C{[25;5H}

}[0m[22;15H([30;80H2[22;22H[34h[?25h[?25l[22;21H[K[23;1H[1m[35m    } else if (*(argv[0]) == 'b') {
        printf([0m[1CBG\n[1C[1m[35m);
    }
    return;
}

/* [0m[30;80H1[22;21H[34h[?25h[?25l[22;20H[K[30;80H0[22;20H[34h[?25h[?25l[22;19H[K[30;79H19[22;19H[34h[?25h[?25l[22;18H[K[30;80H8[22;18H[34h[?25h[?25l[22;17H[K[30;80H7[22;17H[34h[?25h[?25l[22;16H[K[23;1H    [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1C]) == [3C) [1m[37m[41m{[0m
        printf([1C[1m[35mBG[0m[1m[31m\n[0m[1C);
    [1m[37m[41m}[0m
    [1m[33mreturn[0m;
[1m[37m[41m}[0m

[1m[36m/* [0m[30;80H6[22;16H[34h[?25h[?25l[22;15H[K[23;5H}[29C{[25;5H}

}[30;80H5[22;15H[34h[?25h[?25l[22;14H[K[30;80H4[22;14H[34h[?25h[?25l[22;13H[K[30;80H3[22;13H[34h[?25h[?25l[22;12H[K[30;80H2[22;12H[34h[?25h[?25l[22;11H[K[30;80H1[22;11H[34h[?25h[?25l[22;10H[K[30;80H0[22;10H[34h[?25h[?25l[22;9H[K[30;79H9 [22;9H[34h[?25h[?25l[30;77H7[23;9H[34h[?25h[?25l[30;77H8[24;9H[34h[?25h[?25l[30;79H24[24;24H[34h[?25h[?25l[24;23H[K[24;15H[46m([6C)[0m[30;80H3[24;23H[34h[?25h[?25l[24;22H[K[25;5H[1m[37m[41m}

}[0m[24;15H([30;80H2[24;22H[34h[?25h[?25l[24;21H[K[25;1H[1m[35m    }
    return;
}

/* [0m[30;80H1[24;21H[34h[?25h[?25l[24;20H[K[30;80H0[24;20H[34h[?25h[?25l[24;19H[K[30;79H19[24;19H[34h[?25h[?25l[24;18H[K[30;80H8[24;18H[34h[?25h[?25l[24;17H[K[30;80H7[24;17H[34h[?25h[?25l[24;16H[K[25;1H    [1m[37m[41m}[0m
    [1m[33mreturn[0m;
[1m[37m[41m}[0m

[1m[36m/* [0m[30;80H6[24;16H[34h[?25h[?25l[24;15H[K[25;5H}

}[30;80H5[24;15H[34h[?25h[?25l[24;14H[K[30;80H4[24;14H[34h[?25h[?25l[24;13H[K[30;80H3[24;13H[34h[?25h[?25l[24;12H[K[30;80H2[24;12H[34h[?25h[?25l[24;11H[K[30;80H1[24;11H[34h[?25h[?25l[24;10H[K[30;80H0[24;10H[34h[?25h[?25l[24;9H[K[30;79H9 [24;9H[34h[?25h[?25l[30;77H7[23;9H[34h[?25h[?25l[30;77H6[22;9H[34h[?25h[?25l[21;8H[46m([17C)[0m[30;77H5[21;9H[34h[?25h[?25l([17C)[30;77H4[20;9H[34h[?25h[?25l[18C[46m{[27;1H}[0m[30;79H28[20;28H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[30;75H[K[30;75H285,5[9C45%[20;27H{[28;1H}[21;5H[34h[?25h[?25l i[30;79H6[21;6H[34h[?25h[?25lin[30;79H7[21;7H[34h[?25h[?25l[1m[32mint[0m[30;79H8[21;8H[34h[?25h[?25l[30;79H9[21;9H[34h[?25h[?25l b[30;79H10[21;10H[34h[?25h[?25lbg[30;80H1[21;11H[34h[?25h[?25l[30;80H2[21;12H[34h[?25h[?25l =[30;80H3[21;13H[34h[?25h[?25l[30;80H4[21;14H[34h[?25h[?25l [1m[35m0[0m[30;80H5[21;15H[34h[?25h[?25l[1m[35m0[0m;[30;80H6[21;16H[34h[?25h[?25l[22;15H[46m[[1C][0m[30;77H6[22;16H[34h[?25h[?25l[[1C][30;77H7,9 [23;9H[34h[?25h[?25l[22;15H[46m[[1C][0m[30;77H6,16[22;16H[34h[?25h[?25l[[1C][30;77H5[21;16H[34h[?25h[?25l[30;80H5[21;15H[34h[?25h[?25l ;[21;15H[K[30;80H4[21;14H[34h[?25h[?25l -;[30;80H5[21;15H[34h[?25h[?25l-[1m[35m1[0m;[30;80H6[21;16H[34h[?25h[?25l[22;15H[46m[[1C][0m[30;77H6[22;16H[34h[?25h[?25l[[1C][30;77H7,9 [23;9H[34h[?25h[?25l[22;15H[46m[[1C][0m[30;77H6,16[22;16H[34h[?25h[?25l[[1C][30;77H5[21;16H[34h[?25h[?25l-;[21;16H[K[30;80H5[21;15H[34h[?25h[?25l ;[21;15H[K[30;80H4[21;14H[34h[?25h[?25l [1m[35m1[0m;[30;80H5[21;15H[34h[?25h[?25l[22;15H[46m[[1C][0m[30;77H6[22;15H[34h[?25h[?25l[[1C][30;77H7,9 [23;9H[34h[?25h[?25l r[30;79H10[23;10H[34h[?25h[?25lre[30;80H1[23;11H[34h[?25h[?25let[30;80H2[23;12H[34h[?25h[?25ltu[30;80H3[23;13H[34h[?25h[?25lur[30;80H4[23;14H[34h[?25h[?25l[1m[33mreturn[0m[30;80H5[23;15H[34h[?25h[?25l[1m[33mn[0m;[30;80H6[23;16H[34h[?25h[?25l[22;15H[46m[[1C][0m[30;77H6[22;16H[34h[?25h[?25l[[1C][10C[46m{[24;5H}[0m[30;79H29[22;29H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[24;5H[46m [0m[30;75H[K[30;75H287,9[9C45%[22;28H{[24;5H 
    }[23;9H[34h[?25h[?25l /[30;79H10[23;10H[34h[?25h[?25l[23;9H[K[30;79H9 [23;9H[34h[?25h[?25l p[30;79H10[23;10H[34h[?25h[?25lpr[30;80H1[23;11H[34h[?25h[?25lri[30;80H2[23;12H[34h[?25h[?25lin[30;80H3[23;13H[34h[?25h[?25lnt[30;80H4[23;14H[34h[?25h[?25ltf[30;80H5[23;15H[34h[?25h[?25lf([25;5H[1m[37m[41m}[29C{[27;5H}

}[0m[30;80H6[23;16H[34h[?25h[?25l()[25;5H}[29C{[27;5H}

}[23;15H[46m()[0m[30;80H7[23;17H[34h[?25h[?25l[46m)[0m;()[30;80H8[23;18H[34h[?25h[?25l[46m()[0m[30;80H7[23;17H[34h[?25h[?25l[30;80H6[23;16H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m);
        return;
    } else if (*(argv[0]) == 'b') {
        
    }
    return;
}[23;16H"[0m[1m[35m[46m)[0m[30;80H7[23;17H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m"[0m);
        [1m[33mreturn[0m;
    } [1m[33melse[0m [1m[33mif[0m (*(argv[[1C]) == [3C) {
        
    }
    [1m[33mreturn[0m;
}[23;17H[1m[35m"[0m[46m)[0m[30;80H8[23;18H[34h[?25h[?25l([2C)[30;80H7[23;17H[34h[?25h[?25l[46m([2C)[0m[30;80H8[23;18H[34h[?25h[?25l[30;80H9[23;19H[34h[?25h[?25l([2C)[30;79H20[23;20H[34h[?25h[?25l[23;19H[K[23;15H[46m([2C)[0m[30;79H19[23;19H[34h[?25h[?25l[23;18H[K[25;5H[1m[37m[41m}[29C{[27;5H}

}[0m[23;15H([30;80H8[23;18H[34h[?25h[?25l[23;17H[K[24;1H[1m[35m        return;
    } else if (*(argv[0]) == 'b') {
        
    }
    return;
}[0m[30;80H7[23;17H[34h[?25h[?25l[23;16H[K[24;1H        [1m[33mreturn[0m;
    [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1C]) == [3C) [1m[37m[41m{[0m
        
    [1m[37m[41m}[0m
    [1m[33mreturn[0m;
[1m[37m[41m}[0m[30;80H6[23;16H[34h[?25h[?25l[23;15H[K[25;5H}[29C{[27;5H}

}[30;80H5[23;15H[34h[?25h[?25l[23;14H[K[30;80H4[23;14H[34h[?25h[?25l[23;13H[K[30;80H3[23;13H[34h[?25h[?25l[23;12H[K[30;80H2[23;12H[34h[?25h[?25l[23;11H[K[30;80H1[23;11H[34h[?25h[?25l[23;10H[K[30;80H0[23;10H[34h[?25h[?25l[23;9H[K[30;79H9 [23;9H[34h[?25h[?25l[30;79H8[23;8H[34h[?25h[?25l[30;79H7[23;7H[34h[?25h[?25l[30;79H6[23;6H[34h[?25h[?25l[30;79H5[23;5H[34h[?25h[?25l[30;79H4[23;4H[34h[?25h[?25l[30;79H3[23;3H[34h[?25h[?25l[30;79H2[23;2H[34h[?25h[?25l[30;79H1[23;1H[34h[?25h[?25l[22;29r[29;1H
[1;30r[22;4H [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'f'[0m) {[30;75H[K[30;75H286,29[8C45%[22;28H[46m{[24;5H}[22;29H[34h[?25h[?25l[0m{[24;5H}[30;77H5,16[21;16H[34h[?25h[?25l[30;80H5[21;15H[34h[?25h[?25l ;[21;15H[K[30;80H4[21;14H[34h[?25h[?25l -;[30;80H5[21;15H[34h[?25h[?25l-[1m[35m1[0m;[30;80H6[21;16H[34h[?25h[?25l[22;15H[46m[[1C][0m[30;77H6[22;16H[34h[?25h[?25l[[1C][30;77H7[23;16H[34h[?25h[?25l[30;80H5[23;15H[34h[?25h[?25lretur;[23;15H[K[30;80H4[23;14H[34h[?25h[?25lu;[23;14H[K[30;80H3[23;13H[34h[?25h[?25lt;[23;13H[K[30;80H2[23;12H[34h[?25h[?25le;[23;12H[K[30;80H1[23;11H[34h[?25h[?25lr;[23;11H[K[30;80H0[23;10H[34h[?25h[?25l ;[23;10H[K[30;79H9 [23;9H[34h[?25h[?25l ;[23;9H[K[30;79H8[23;8H[34h[?25h[?25l ;[23;8H[K[30;79H7[23;7H[34h[?25h[?25l ;[23;7H[K[30;79H6[23;6H[34h[?25h[?25l ;[23;6H[K[30;79H5[23;5H[34h[?25h[?25l ;[23;5H[K[30;79H4[23;4H[34h[?25h[?25l ;[23;4H[K[30;79H3[23;3H[34h[?25h[?25l ;[23;3H[K[30;79H2[23;2H[34h[?25h[?25l;[23;2H[K[30;79H1[23;1H[34h[?25h[?25l[22;29r[29;1H
[1;30r[22;1H    [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'f'[0m) {;[29;1H[1m[36m/* [0m[30;75H[K[30;75H286,29[8C45%[22;28H[46m{
[0m    [46m}[22;29H[34h[?25h[?25l[0m[22;29H[K[22;29H[34h[?25h[?25l{
    }[30;79H30[22;30H[34h[?25h[?25l b[30;80H1[22;31H[34h[?25h[?25lbg[30;80H2[22;32H[34h[?25h[?25l[30;80H3[22;33H[34h[?25h[?25l =[30;80H4[22;34H[34h[?25h[?25l[30;80H5[22;35H[34h[?25h[?25l [1m[35m0[0m[30;80H6[22;36H[34h[?25h[?25l[30;80H7[22;37H[34h[?25h[?25l }[22;28H[46m{[8C}[0m[30;80H8[22;38H[34h[?25h[?25l[22;29r[29;1H
[1;30r[22;4H [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'f'[0m) [46m{[0m bg = [1m[35m0[0m [46m}[0m    } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) {[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H286,38[8C45%[22;38H[34h[?25h[?25l   } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) {[22;72H[K[22;38H[34h[?25h[?25l  } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) {[22;71H[K[22;38H[34h[?25h[?25l } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) {[22;70H[K[22;38H[34h[?25h[?25l[46m}[0m} [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) {[22;69H[K[20;27H[46m{[0m[22;28H{[8C}[46m}[34h[?25h[?25l[0m}[46m [0m[1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) {[22;68H[K[20;27H{[22;28H[46m{[8C}[0m [34h[?25h[?25l[22;28H{[8C}[30;80H9[22;39H[34h[?25h[?25l[28C[46m{[24;5H}[0m[30;79H68[22;68H[34h[?25h[?25l{[24;5H}[30;80H9[22;69H[34h[?25h[?25l b[30;79H70[22;70H[34h[?25h[?25lbg[30;80H1[22;71H[34h[?25h[?25l[30;80H2[22;72H[34h[?25h[?25l =[30;80H3[22;73H[34h[?25h[?25l[30;80H4[22;74H[34h[?25h[?25l [1m[35m1[0m[30;80H5[22;75H[34h[?25h[?25l[1m[35m1[0m;[30;80H6[22;76H[34h[?25h[?25l[30;80H7[22;77H[34h[?25h[?25l[22;29r[29;1H
[1;30r[22;4H [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'f'[0m) { bg = [1m[35m0[0m } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) { bg = [1m[35m1[0m;[29;1H[1m[36m */[0m[30;75H[K[30;75H286,77[8C45%[22;77H[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[22;29r[29;1H
[1;30r[22;4H [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'f'[0m) { bg = [1m[35m0[0m } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) { bg = [1m[35m1[0m;     }[29;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H286,77[8C45%[22;77H[34h[?25h[?25l   }[22;81H[K[22;77H[34h[?25h[?25l  }[22;80H[K[22;77H[34h[?25h[?25l }[22;79H[K[22;77H[34h[?25h[?25l }[22;78H[K[22;67H[46m{[9C}[34h[?25h[?25l[0m[22;67H{[9C}[30;80H6[22;76H[34h[?25h[?25l[30;80H5[22;75H[34h[?25h[?25l[30;80H4[22;74H[34h[?25h[?25l[30;80H3[22;73H[34h[?25h[?25l[30;80H2[22;72H[34h[?25h[?25l[30;80H1[22;71H[34h[?25h[?25l[30;80H0[22;70H[34h[?25h[?25l[30;79H69[22;69H[34h[?25h[?25l[46m{[9C}[0m[30;80H8[22;68H[34h[?25h[?25l[30;80H7[22;67H[34h[?25h[?25l[22;47H[46m([17C)[0m {[9C}[30;80H6[22;66H[34h[?25h[?25l[30;80H5[22;65H[34h[?25h[?25l[22;47H([17C)[30;80H4[22;64H[34h[?25h[?25l[30;80H3[22;63H[34h[?25h[?25l[30;80H2[22;62H[34h[?25h[?25l[30;80H1[22;61H[34h[?25h[?25l[30;80H0[22;60H[34h[?25h[?25l[30;79H59[22;59H[34h[?25h[?25l[22;49H[46m([7C)[0m[30;80H8[22;58H[34h[?25h[?25l[30;80H7[22;57H[34h[?25h[?25l[22;49H(argv[46m[[1C][0m)[30;80H6[22;56H[34h[?25h[?25l[30;80H5[22;55H[34h[?25h[?25l[30;80H4[22;54H[34h[?25h[?25l[[1C][30;80H3[22;53H[34h[?25h[?25l[30;80H2[22;52H[34h[?25h[?25l[30;80H1[22;51H[34h[?25h[?25l[46m([7C)[0m[30;80H0[22;50H[34h[?25h[?25l[30;79H49[22;49H[34h[?25h[?25l[46m([0m*([7C)[7C[46m)[0m[30;80H8[22;48H[34h[?25h[?25l[30;80H7[22;47H[34h[?25h[?25l([17C)[30;80H6[22;46H[34h[?25h[?25l[30;80H5[22;45H[34h[?25h[?25l[30;80H4[22;44H[34h[?25h[?25l[30;80H3[22;43H[34h[?25h[?25l[30;80H2[22;42H[34h[?25h[?25l[30;80H1[22;41H[34h[?25h[?25l[30;80H0[22;40H[34h[?25h[?25l[30;79H39[22;39H[34h[?25h[?25l[22;28H[46m{[8C}[0m[30;80H8[22;38H[34h[?25h[?25l[30;80H7[22;37H[34h[?25h[?25l[22;28H{[8C}[30;80H6[22;36H[34h[?25h[?25l[1m[35m0[0m; } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) { bg = [1m[35m1[0m; }[30;80H7[22;37H[34h[?25h[?25l[30;77H5,1[21;17H[34h[?25h[?25l[22;29r[22;1H[L[1;30r[30;75H[K[30;75H286,5[9C45%[22;5H[34h[?25h[?25l c[30;79H6[22;6H[34h[?25h[?25lch[30;79H7[22;7H[34h[?25h[?25lha[30;79H8[22;8H[34h[?25h[?25l[1m[32mchar[0m[30;79H9[22;9H[34h[?25h[?25l[30;79H10[22;10H[34h[?25h[?25l c[30;80H1[22;11H[34h[?25h[?25l[30;80H2[22;12H[34h[?25h[?25l =[30;80H3[22;13H[34h[?25h[?25l[30;80H4[22;14H[34h[?25h[?25l *[30;80H5[22;15H[34h[?25h[?25l*([23;28H[1m[37m[41m{[9C}[29C{[9C}

}[0m[30;80H6[22;16H[34h[?25h[?25l(a[30;80H7[22;17H[34h[?25h[?25lar[30;80H8[22;18H[34h[?25h[?25lrg[30;80H9[22;19H[34h[?25h[?25lgv[30;79H20[22;20H[34h[?25h[?25lv[[23;36H[1m[37m[41m;[39C;[24;11H;[0m[30;80H1[22;21H[34h[?25h[?25l[[1m[35m0[0m[30;80H2[22;22H[34h[?25h[?25l[1m[35m0[0m][23;36H;[39C;[24;11H;[22;20H[46m[[1C][0m[30;80H3[22;23H[34h[?25h[?25l[46m][0m)[23;28H{[9C}[29C{[9C}

}[22;15H[46m([0margv[[1C][46m)[0m[30;80H4[22;24H[34h[?25h[?25l[46m)[0m;[22;15H([7C)[30;80H5[22;25H[34h[?25h[?25l[30;77H7[23;25H[34h[?25h[?25l[30;80H4[23;24H[34h[?25h[?25l[30;80H3[23;23H[34h[?25h[?25l[30;80H2[23;22H[34h[?25h[?25l[30;80H1[23;21H[34h[?25h[?25l[30;80H0[23;20H[34h[?25h[?25l[23;10H[46m([7C)[0m[30;79H19[23;19H[34h[?25h[?25l][46m [0m== [1m[35m'f'[0m) [1m[37m[41m{[0m bg = [1m[35m0[0m; [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) [1m[37m[41m{[0m bg = [1m[35m1[0m; [1m[37m[41m}[0m[23;78H[K[25;1H[1m[37m[41m}[0m[23;10H(argv[46m[[1C][0m [30;80H8[23;18H[34h[?25h[?25l[1m[35m0[0m[46m [0m== [1m[35m'f'[0m[1m[37m[41m)[0m [1m[37m[41m{[0m bg = [1m[35m0[0m[1m[37m[41m;[0m [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) [1m[37m[41m{[0m bg = [1m[35m1[0m[1m[37m[41m;[0m [1m[37m[41m}[0m[23;77H[K[24;11H[1m[37m[41m;[0m[23;15H[[1C [30;80H7[23;17H[34h[?25h[?25l[ == [1m[35m'f'[0m[1m[37m[41m)[0m [1m[37m[41m{[0m bg = [1m[35m0[0m[1m[37m[41m;[0m [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) [1m[37m[41m{[0m bg = [1m[35m1[0m[1m[37m[41m;[0m [1m[37m[41m}[0m[23;76H[K[30;80H6[23;16H[34h[?25h[?25lv == [1m[35m'f'[0m) [1m[37m[41m{[0m bg = [1m[35m0[0m; [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) [1m[37m[41m{[0m bg = [1m[35m1[0m; [1m[37m[41m}[0m[23;75H[K[24;11H;[30;80H5[23;15H[34h[?25h[?25lg == [1m[35m'f'[0m) [1m[37m[41m{[0m bg = [1m[35m0[0m; [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) [1m[37m[41m{[0m bg = [1m[35m1[0m; [1m[37m[41m}[0m[23;74H[K[30;80H4[23;14H[34h[?25h[?25lr == [1m[35m'f'[0m) [1m[37m[41m{[0m bg = [1m[35m0[0m; [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) [1m[37m[41m{[0m bg = [1m[35m1[0m; [1m[37m[41m}[0m[23;73H[K[30;80H3[23;13H[34h[?25h[?25la == [1m[35m'f'[0m) [1m[37m[41m{[0m bg = [1m[35m0[0m; [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) [1m[37m[41m{[0m bg = [1m[35m1[0m; [1m[37m[41m}[0m[23;72H[K[30;80H2[23;12H[34h[?25h[?25l( == [1m[35m'f'[0m) [1m[37m[41m{[0m bg = [1m[35m0[0m; [1m[37m[41m}[0m [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) [1m[37m[41m{[0m bg = [1m[35m1[0m; [1m[37m[41m}[0m[23;71H[K[23;10H[46m([7C)[0m[30;80H1[23;11H[34h[?25h[?25l*[46m [0m== [1m[35m'f'[0m)[46m [0m{ bg = [1m[35m0[0m; } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) { bg = [1m[35m1[0m; }[23;70H[K[25;1H}[23;10H [7C [30;80H0[23;10H[34h[?25h[?25l( == [1m[35m'f'[0m) { bg = [1m[35m0[0m; } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) { bg = [1m[35m1[0m; }[23;69H[K[23;8H[46m([7C)[0m[30;79H9 [23;9H[34h[?25h[?25l[46m([0mc == [1m[35m'f[0m[1m[35m[46m'[0m) { bg = [1m[35m0[0m; } [1m[33melse[0m [1m[33mif[0m (*(argv[[1m[35m0[0m]) == [1m[35m'b'[0m) { bg = [1m[35m1[0m; }[23;8H([7C[1m[35m'[0m[30;79H10[23;10H[34h[?25h[?25l[30;77H6[22;10H[34h[?25h[?25l[30;79H25[22;25H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H287,5[9C45%[23;5H[34h[?25h[?25l[30;79H4[23;4H[34h[?25h[?25l[30;79H3[23;3H[34h[?25h[?25l[30;79H2[23;2H[34h[?25h[?25l[30;79H1[23;1H[34h[?25h[?25l[22;29r[29;1H
[1;30r[22;4H [1m[32mchar[0m c = *(argv[[1m[35m0[0m]);[29;1H[1m[36m */[0m[30;75H[K[30;75H286,25[8C45%[22;25H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H287,5[9C45%[23;5H[34h[?25h[?25l b[30;79H6[23;6H[34h[?25h[?25lbg[30;79H7[23;7H[34h[?25h[?25l[30;79H8[23;8H[34h[?25h[?25l =[30;79H9[23;9H[34h[?25h[?25l[30;79H10[23;10H[34h[?25h[?25l b[30;80H1[23;11H[34h[?25h[?25lbg[30;80H2[23;12H[34h[?25h[?25l[30;80H3[23;13H[34h[?25h[?25l[30;80H2[23;12H[34h[?25h[?25l[23;11H[K[30;80H1[23;11H[34h[?25h[?25l[23;10H[K[30;80H0[23;10H[34h[?25h[?25l c[30;80H1[23;11H[34h[?25h[?25l[30;80H2[23;12H[34h[?25h[?25l =[30;80H3[23;13H[34h[?25h[?25l==[30;80H4[23;14H[34h[?25h[?25l[30;80H5[23;15H[34h[?25h[?25l f[30;80H6[23;16H[34h[?25h[?25lf[1m[37m[41m)[0m[30;80H7[23;17H[34h[?25h[?25l[30;80H6[23;16H[34h[?25h[?25l[30;80H5[23;15H[34h[?25h[?25l[30;80H4[23;14H[34h[?25h[?25l[30;80H3[23;13H[34h[?25h[?25l[30;80H2[23;12H[34h[?25h[?25l[30;80H1[23;11H[34h[?25h[?25l[30;80H0[23;10H[34h[?25h[?25l (c == f)[23;10H[46m([0mc == f[46m)[0m[30;80H1[23;11H[34h[?25h[?25l[30;80H8[23;18H[34h[?25h[?25l[23;10H(c == f)[30;80H9[23;19H[34h[?25h[?25l ?[24;19H[1m[37m[41m{[7C;[0m [1m[37m[41m}[29C{[7C;[0m [1m[37m[41m}[25;11H;
}[0m[30;79H20[23;20H[34h[?25h[?25l[30;80H1[23;21H[34h[?25h[?25l [1m[35m0[0m[30;80H2[23;22H[34h[?25h[?25l[30;80H3[23;23H[34h[?25h[?25l :[24;19H{[7C; }[29C{[7C; }[25;11H;
}[30;80H4[23;24H[34h[?25h[?25l[30;80H5[23;25H[34h[?25h[?25l b[30;80H6[23;26H[34h[?25h[?25lbg[30;80H7[23;27H[34h[?25h[?25l[23;26H[K[30;80H6[23;26H[34h[?25h[?25l[23;25H[K[30;80H5[23;25H[34h[?25h[?25l ([24;19H[1m[37m[41m{[9C}[29C{[9C}

}[0m[30;80H6[23;26H[34h[?25h[?25l()[24;19H{[9C}[29C{[9C}

}[23;25H[46m()[0m[30;80H7[23;27H[34h[?25h[?25l[30;80H6[23;26H[34h[?25h[?25l[46m(([0m)[24;19H[1m[37m[41m{[9C}[29C{[9C}

}[0m[23;25H([1C[46m)[0m[30;80H7[23;27H[34h[?25h[?25l[46m(c[0m)c[46m)[0m[30;80H8[23;28H[34h[?25h[?25lc[46m [0m) [46m)[0m[30;80H9[23;29H[34h[?25h[?25l [46m=[0m)=[46m)[0m[30;79H30[23;30H[34h[?25h[?25l=[46m=[0m)=[46m)[0m[30;80H1[23;31H[34h[?25h[?25l=[46m [0m) [46m)[0m[30;80H2[23;32H[34h[?25h[?25l [46m'[0m)'[46m)[0m[30;80H3[23;33H[34h[?25h[?25l'[46mb[0m)b[46m)[0m[30;80H4[23;34H[34h[?25h[?25l[1m[35m'b[0m[1m[35m[46m'[0m)[1m[35m'[0m[46m)[0m[30;80H5[23;35H[34h[?25h[?25l[1m[35m'[0m[46m [0m) [46m)[0m[30;80H6[23;36H[34h[?25h[?25l[30;80H7[23;37H[34h[?25h[?25l[23;36H[K[23;26H([30;80H6[23;36H[34h[?25h[?25l[30;80H5[23;35H[34h[?25h[?25l'b[23;34H[K[30;80H4[23;34H[34h[?25h[?25l[23;33H[K[30;80H3[23;33H[34h[?25h[?25l[23;32H[K[30;80H2[23;32H[34h[?25h[?25l[30;80H1[23;31H[34h[?25h[?25l[23;30H[K[30;80H0[23;30H[34h[?25h[?25l[23;29H[K[30;79H29[23;29H[34h[?25h[?25l =[30;79H30[23;30H[34h[?25h[?25l==[30;80H1[23;31H[34h[?25h[?25l[30;80H2[23;32H[34h[?25h[?25l '[30;80H3[23;33H[34h[?25h[?25l'b[30;80H4[23;34H[34h[?25h[?25l[1m[35m'b'[0m[30;80H5[23;35H[34h[?25h[?25l[1m[35m'[0m)[23;26H[46m([8C)[0m[30;80H6[23;36H[34h[?25h[?25l[23;26H([8C)[30;80H7[23;37H[34h[?25h[?25l ?[24;27H[1m[37m[41m;[39C;[25;11H;[0m[30;80H8[23;38H[34h[?25h[?25l[30;80H9[23;39H[34h[?25h[?25l [1m[35m1[0m[30;79H40[23;40H[34h[?25h[?25l[30;80H1[23;41H[34h[?25h[?25l :[24;27H;[39C;[25;11H;[30;80H2[23;42H[34h[?25h[?25l[30;80H3[23;43H[34h[?25h[?25l -[30;80H4[23;44H[34h[?25h[?25l-[1m[35m1[0m[30;80H5[23;45H[34h[?25h[?25l[1m[35m1[0m)[24;19H{[9C}[29C{[9C}

}[23;25H[46m([19C)[0m[30;80H6[23;46H[34h[?25h[?25l[46m)[0m;[23;25H([19C)[30;80H7[23;47H[34h[?25h[?25l[24;46H[46m[[1C][0m[30;77H8[24;47H[34h[?25h[?25l[[1C][10C[46m{[9C}[0m[30;79H70[24;70H[34h[?25h[?25l[24;69H[K[24;59H{[30;79H69[24;69H[34h[?25h[?25l[30;80H8[24;68H[34h[?25h[?25l[24;67H[K[30;80H7[24;67H[34h[?25h[?25l[24;66H[K[30;80H6[24;66H[34h[?25h[?25l[30;80H5[24;65H[34h[?25h[?25l[24;64H[K[30;80H4[24;64H[34h[?25h[?25l[30;80H3[24;63H[34h[?25h[?25l[24;62H[K[30;80H2[24;62H[34h[?25h[?25l[24;61H[K[30;80H1[24;61H[34h[?25h[?25l[46m{

}[0m[30;80H0[24;60H[34h[?25h[?25l[24;59H[K[26;1H}[30;79H59[24;59H[34h[?25h[?25l[24;39H[46m([17C)[0m[30;80H8[24;58H[34h[?25h[?25l[24;57H[K[26;1H[1m[37m[41m}[0m[24;39H([30;80H7[24;57H[34h[?25h[?25l'b[24;56H[K[30;80H6[24;56H[34h[?25h[?25l[24;55H[K[30;80H5[24;55H[34h[?25h[?25l[24;54H[K[30;80H4[24;54H[34h[?25h[?25l[30;80H3[24;53H[34h[?25h[?25l[24;52H[K[30;80H2[24;52H[34h[?25h[?25l[24;51H[K[30;80H1[24;51H[34h[?25h[?25l[24;41H[46m([7C)[0m[30;80H0[24;50H[34h[?25h[?25l[24;49H[K[24;41H(argv[46m[[1C][0m[30;79H49[24;49H[34h[?25h[?25l[24;48H[K[25;11H[1m[37m[41m;[0m[24;46H[[30;80H8[24;48H[34h[?25h[?25l[24;47H[K[30;80H7[24;47H[34h[?25h[?25l[24;46H[K[25;11H;[30;80H6[24;46H[34h[?25h[?25l[24;45H[K[30;80H5[24;45H[34h[?25h[?25l[24;44H[K[30;80H4[24;44H[34h[?25h[?25l[24;43H[K[30;80H3[24;43H[34h[?25h[?25l[24;42H[K[30;80H2[24;42H[34h[?25h[?25l[24;41H[K[30;80H1[24;41H[34h[?25h[?25l[24;40H[K[30;80H0[24;40H[34h[?25h[?25l[24;39H[K[26;1H}[30;79H39[24;39H[34h[?25h[?25l[30;80H8[24;38H[34h[?25h[?25li[24;37H[K[30;80H7[24;37H[34h[?25h[?25l[24;36H[K[30;80H6[24;36H[34h[?25h[?25l[30;80H5[24;35H[34h[?25h[?25lels[24;34H[K[30;80H4[24;34H[34h[?25h[?25l[24;33H[K[30;80H3[24;33H[34h[?25h[?25l[24;32H[K[30;80H2[24;32H[34h[?25h[?25l[24;31H[K[30;80H1[24;31H[34h[?25h[?25l[24;19H[46m{[9C}[0m[30;80H0[24;30H[34h[?25h[?25l[24;29H[K[24;19H{[30;79H29[24;29H[34h[?25h[?25l[30;80H8[24;28H[34h[?25h[?25l[24;27H[K[30;80H7[24;27H[34h[?25h[?25l[24;26H[K[30;80H6[24;26H[34h[?25h[?25l[30;80H5[24;25H[34h[?25h[?25l[24;24H[K[30;80H4[24;24H[34h[?25h[?25l[30;80H3[24;23H[34h[?25h[?25l[24;22H[K[30;80H2[24;22H[34h[?25h[?25l[24;21H[K[30;80H1[24;21H[34h[?25h[?25l[46m{

}[0m[30;80H0[24;20H[34h[?25h[?25l[24;19H[K[26;1H}[30;79H19[24;19H[34h[?25h[?25l[24;8H[46m([8C)[0m[30;80H8[24;18H[34h[?25h[?25l[24;17H[K[26;1H[1m[37m[41m}[0m[24;8H([30;80H7[24;17H[34h[?25h[?25l'f[24;16H[K[30;80H6[24;16H[34h[?25h[?25l[24;15H[K[30;80H5[24;15H[34h[?25h[?25l[24;14H[K[30;80H4[24;14H[34h[?25h[?25l[30;80H3[24;13H[34h[?25h[?25l[24;12H[K[30;80H2[24;12H[34h[?25h[?25l[24;11H[K[30;80H1[24;11H[34h[?25h[?25l[30;80H0[24;10H[34h[?25h[?25l[24;9H[K[30;79H9 [24;9H[34h[?25h[?25l[24;8H[K[26;1H}[30;79H8[24;8H[34h[?25h[?25l[30;79H7[24;7H[34h[?25h[?25li[24;6H[K[30;79H6[24;6H[34h[?25h[?25l[24;5H[K[30;79H5[24;5H[34h[?25h[?25l[30;79H4[24;4H[34h[?25h[?25l[30;79H3[24;3H[34h[?25h[?25l[30;79H2[24;2H[34h[?25h[?25l[30;79H1[24;1H[34h[?25h[?25l[23;29r[29;1H
[1;30r[23;4H bg = (c == f) ? [1m[35m0[0m : ((c == [1m[35m'b'[0m) ? [1m[35m1[0m : -[1m[35m1[0m);[29;1H[1m[36m */[0m[30;75H[K[30;75H287,47[8C45%[23;47H[34h[?25h[?25l[30;80H8[23;48H[34h[?25h[?25l /[30;80H9[23;49H[34h[?25h[?25l[1m[36m//[0m[30;79H50[23;50H[34h[?25h[?25l[1m[36m [0m[30;80H1[23;51H[34h[?25h[?25l[1m[36m F[0m[30;80H2[23;52H[34h[?25h[?25l[1m[36mFG[0m[30;80H3[23;53H[34h[?25h[?25l[1m[36m [0m[30;80H4[23;54H[34h[?25h[?25l[1m[36m =[0m[30;80H5[23;55H[34h[?25h[?25l[1m[36m [0m[30;80H6[23;56H[34h[?25h[?25l[23;55H[K[30;80H5[23;55H[34h[?25h[?25l[23;54H[K[30;80H4[23;54H[34h[?25h[?25l[1m[36m -[0m[30;80H5[23;55H[34h[?25h[?25l[1m[36m->[0m[30;80H6[23;56H[34h[?25h[?25l[1m[36m [0m[30;80H7[23;57H[34h[?25h[?25l[1m[36m 0[0m[30;80H8[23;58H[34h[?25h[?25l[1m[36m0,[0m[30;80H9[23;59H[34h[?25h[?25l[1m[36m [0m[30;79H60[23;60H[34h[?25h[?25l[1m[36m B[0m[30;80H1[23;61H[34h[?25h[?25l[1m[36mBG[0m[30;80H2[23;62H[34h[?25h[?25l[1m[36m [0m[30;80H3[23;63H[34h[?25h[?25l[1m[36m -[0m[30;80H4[23;64H[34h[?25h[?25l[1m[36m->[0m[30;80H5[23;65H[34h[?25h[?25l[1m[36m [0m[30;80H6[23;66H[34h[?25h[?25l[1m[36m 1[0m[30;80H7[23;67H[34h[?25h[?25l[1m[36m1,[0m[30;80H8[23;68H[34h[?25h[?25l[1m[36m [0m[30;80H9[23;69H[34h[?25h[?25l[1m[36m e[0m[30;79H70[23;70H[34h[?25h[?25l[1m[36mel[0m[30;80H1[23;71H[34h[?25h[?25l[1m[36mls[0m[30;80H2[23;72H[34h[?25h[?25l[1m[36mse[0m[30;80H3[23;73H[34h[?25h[?25l[1m[36m [0m[30;80H4[23;74H[34h[?25h[?25l[1m[36m -[0m[30;80H5[23;75H[34h[?25h[?25l[1m[36m-1[0m[30;80H6[23;76H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H288,5[9C45%[24;5H[34h[?25h[?25l i[30;79H6[24;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[24;7H[34h[?25h[?25l[30;79H8[24;8H[34h[?25h[?25l (

[1m[37m[41m}[0m[30;79H9[24;9H[34h[?25h[?25l(b[30;79H10[24;10H[34h[?25h[?25lbg[30;80H1[24;11H[34h[?25h[?25l[30;80H2[24;12H[34h[?25h[?25l =[30;80H3[24;13H[34h[?25h[?25l==[30;80H4[24;14H[34h[?25h[?25l[30;80H5[24;15H[34h[?25h[?25l [1m[35m0[0m[30;80H6[24;16H[34h[?25h[?25l[1m[34m0[0m[1m[35m1[0m[30;80H7[24;17H[34h[?25h[?25l[1m[35m0[0m[24;16H[K[30;80H6[24;16H[34h[?25h[?25l[24;15H[K[30;80H5[24;15H[34h[?25h[?25l -[30;80H6[24;16H[34h[?25h[?25l-[1m[35m1[0m[30;80H7[24;17H[34h[?25h[?25l[30;80H8[24;18H[34h[?25h[?25l[30;80H7[24;17H[34h[?25h[?25l[1m[35m1[0m)

}[24;8H[46m([8C)[0m[30;80H8[24;18H[34h[?25h[?25l[24;8H([8C)[30;80H9[24;19H[34h[?25h[?25l {[46m{

}[0m[30;79H20[24;20H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[26;1H[46m [0m[30;75H[K[30;75H289,9[9C45%[24;19H{

 
}[25;9H[34h[?25h[?25l p[30;79H10[25;10H[34h[?25h[?25lpr[30;80H1[25;11H[34h[?25h[?25lri[30;80H2[25;12H[34h[?25h[?25lin[30;80H3[25;13H[34h[?25h[?25lnt[30;80H4[25;14H[34h[?25h[?25ltf[30;80H5[25;15H[34h[?25h[?25lf(

[1m[37m[41m}[0m[30;80H6[25;16H[34h[?25h[?25l()

}[25;15H[46m()[0m[30;80H7[25;17H[34h[?25h[?25l[46m)[0m;()[30;80H8[25;18H[34h[?25h[?25l[46m()[0m[30;80H7[25;17H[34h[?25h[?25l[30;80H6[25;16H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m);
    return;
}

/* [25;16H"[0m[1m[35m[46m)[0m[30;80H7[25;17H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m"[0m);
    [1m[33mreturn[0m;
}

[1m[36m/* [0m[25;17H[1m[35m"[0m[46m)[0m[30;80H8[25;18H[34h[?25h[?25l([2C)[30;80H7[25;17H[34h[?25h[?25l[1m[35m"B"[0m);[30;80H8[25;18H[34h[?25h[?25l[1m[35mBa"[0m);[30;80H9[25;19H[34h[?25h[?25l[1m[35mad"[0m);[30;79H20[25;20H[34h[?25h[?25l[1m[35md "[0m);[30;80H1[25;21H[34h[?25h[?25l[1m[35m b"[0m);[30;80H2[25;22H[34h[?25h[?25l[1m[35mbg"[0m);[30;80H3[25;23H[34h[?25h[?25l[1m[35mgf"[0m);[30;80H4[25;24H[34h[?25h[?25l[1m[35mfg"[0m);[30;80H5[25;25H[34h[?25h[?25l[30;80H4[25;24H[34h[?25h[?25l[30;80H3[25;23H[34h[?25h[?25l[30;80H2[25;22H[34h[?25h[?25l[30;80H1[25;21H[34h[?25h[?25l[1m[35m dbgfg"[0m);[30;80H2[25;22H[34h[?25h[?25l[1m[35mdobgfg"[0m);[30;80H3[25;23H[34h[?25h[?25l[1m[35mo_bgfg"[0m);[30;80H4[25;24H[34h[?25h[?25l[30;79H31[25;31H[34h[?25h[?25l[25;15H[46m([13C)[0m[30;80H0[25;30H[34h[?25h[?25l[30;79H29[25;29H[34h[?25h[?25l[25;15H([13C)[30;80H8[25;28H[34h[?25h[?25l[1m[35mg "[0m);[30;80H9[25;29H[34h[?25h[?25l[1m[35m c"[0m);[30;79H30[25;30H[34h[?25h[?25l[1m[35mca"[0m);[30;80H1[25;31H[34h[?25h[?25l[1m[35mal"[0m);[30;80H2[25;32H[34h[?25h[?25l[1m[35mll"[0m);[30;80H3[25;33H[34h[?25h[?25l[1m[35ml."[0m);[30;80H4[25;34H[34h[?25h[?25l[30;80H7[25;37H[34h[?25h[?25l[26;29r[26;1H[L[1;30r[30;75H[K[30;75H290,9[9C45%[26;9H[34h[?25h[?25l r[30;79H10[26;10H[34h[?25h[?25lre[30;80H1[26;11H[34h[?25h[?25let[30;80H2[26;12H[34h[?25h[?25ltu[30;80H3[26;13H[34h[?25h[?25lur[30;80H4[26;14H[34h[?25h[?25l[1m[33mreturn[0m[30;80H5[26;15H[34h[?25h[?25l[1m[33mn[0m;[30;80H6[26;16H[34h[?25h[?25l[27;29r[27;1H[L[1;30r[30;75H[K[30;75H291,9[9C45%[27;9H[34h[?25h[?25l[30;79H8[27;8H[34h[?25h[?25l[30;79H7[27;7H[34h[?25h[?25l[30;79H6[27;6H[34h[?25h[?25l[30;79H5[27;5H[34h[?25h[?25l e[30;79H6[27;6H[34h[?25h[?25len[30;79H7[27;7H[34h[?25h[?25lnd[30;79H8[27;8H[34h[?25h[?25l[27;7H[K[30;79H7[27;7H[34h[?25h[?25l[27;6H[K[30;79H6[27;6H[34h[?25h[?25l[27;5H[K[30;79H5[27;5H[34h[?25h[?25l }[24;19H[46m{[27;5H}[0m[30;79H6[27;6H[34h[?25h[?25l[24;19H{[27;5H}[30;77H0[26;6H[34h[?25h[?25l[30;76H89[25;6H[34h[?25h[?25l[30;77H8[24;6H[34h[?25h[?25l[13C[46m{[27;5H}[0m[30;79H20[24;20H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[30;75H[K[30;75H289,9[9C45%[24;19H{[28;5H}[25;9H[34h[?25h[?25l /[30;79H10[25;10H[34h[?25h[?25l[1m[36m//[0m[30;80H1[25;11H[34h[?25h[?25l[1m[36m/A[0m[30;80H2[25;12H[34h[?25h[?25l[1m[36mAs[0m[30;80H3[25;13H[34h[?25h[?25l[1m[36mss[0m[30;80H4[25;14H[34h[?25h[?25l[1m[36mse[0m[30;80H5[25;15H[34h[?25h[?25l[1m[36mer[0m[30;80H6[25;16H[34h[?25h[?25l[1m[36mrt[0m[30;80H7[25;17H[34h[?25h[?25l[1m[36mt,[0m[30;80H8[25;18H[34h[?25h[?25l[1m[36m [0m[30;80H9[25;19H[34h[?25h[?25l[1m[36m b[0m[30;79H20[25;20H[34h[?25h[?25l[1m[36mbg[0m[30;80H1[25;21H[34h[?25h[?25l[1m[36m [0m[30;80H2[25;22H[34h[?25h[?25l[25;21H[K[30;80H1[25;21H[34h[?25h[?25l[25;20H[K[30;80H0[25;20H[34h[?25h[?25l[25;19H[K[30;79H19[25;19H[34h[?25h[?25l[1m[36m c[0m[30;79H20[25;20H[34h[?25h[?25l[1m[36mco[0m[30;80H1[25;21H[34h[?25h[?25l[1m[36mom[0m[30;80H2[25;22H[34h[?25h[?25l[1m[36mmm[0m[30;80H3[25;23H[34h[?25h[?25l[1m[36mma[0m[30;80H4[25;24H[34h[?25h[?25l[1m[36man[0m[30;80H5[25;25H[34h[?25h[?25l[1m[36mnd[0m[30;80H6[25;26H[34h[?25h[?25l[1m[36m [0m[30;80H7[25;27H[34h[?25h[?25l[1m[36m i[0m[30;80H8[25;28H[34h[?25h[?25l[1m[36mis[0m[30;80H9[25;29H[34h[?25h[?25l[1m[36m [0m[30;79H30[25;30H[34h[?25h[?25l[1m[36m e[0m[30;80H1[25;31H[34h[?25h[?25l[1m[36mei[0m[30;80H2[25;32H[34h[?25h[?25l[1m[36mit[0m[30;80H3[25;33H[34h[?25h[?25l[1m[36mth[0m[30;80H4[25;34H[34h[?25h[?25l[1m[36mhe[0m[30;80H5[25;35H[34h[?25h[?25l[1m[36mer[0m[30;80H6[25;36H[34h[?25h[?25l[1m[36m [0m[30;80H7[25;37H[34h[?25h[?25l[1m[36m b[0m[30;80H8[25;38H[34h[?25h[?25l[1m[36mbg[0m[30;80H9[25;39H[34h[?25h[?25l[1m[36m [0m[30;79H40[25;40H[34h[?25h[?25l[1m[36m o[0m[30;80H1[25;41H[34h[?25h[?25l[1m[36mor[0m[30;80H2[25;42H[34h[?25h[?25l[1m[36m [0m[30;80H3[25;43H[34h[?25h[?25l[1m[36m f[0m[30;80H4[25;44H[34h[?25h[?25l[1m[36mfg[0m[30;80H5[25;45H[34h[?25h[?25l[1m[36mg.[0m[30;80H6[25;46H[34h[?25h[30;1H[K[25;45H[?25l[30;75H289,45[8C45%[25;45H[34h[?25h[?25l[7m        [0m[1m[7m[36m//Assert, command is either bg or fg[0m[1C[7m [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H289,45[8C45%[25;45H[34h[?25h[?25l[25;29r[29;1H
[1;30r[29;1H}[30;1H[K[30;75H289,9[9C45%[25;9H[34h[?25h[?25l[30;77H8[24;9H[34h[?25h[?25l[30;79H1[24;1H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[24;8H [1m[36m//Assert, command is either bg or fg.[0m[30;75H[K[30;75H288,9[9C45%[24;9H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H288,9[9C45%[24;9H[34h[?25h[?25l [1m[36m//Assert, command is either bg or fg.[0m[24;45H[K[30;79H8[24;8H[34h[?25h[?25l [1m[36m//Assert, command is either bg or fg.[0m[24;44H[K[30;79H7[24;7H[34h[?25h[?25l [1m[36m//Assert, command is either bg or fg.[0m[24;43H[K[30;79H6[24;6H[34h[?25h[?25l [1m[36m//Assert, command is either bg or fg.[0m[24;42H[K[30;79H5[24;5H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[24;5H[K[25;4H [1m[36m//Assert, command is either bg or fg.[0m[30;75H[K[30;75H289,5[9C45%[25;5H[34h[?25h[?25l[30;76H90[26;5H[34h[?25h[?25l[30;77H1[27;5H[34h[?25h[?25l[30;77H2[28;5H[34h[?25h[?25l[26;19H[46m{[29;5H}[0m[30;77H3[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H294,5[9C45%[25;19H{[28;5H}
    [34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H295,2[9C45%[18;27H[46m{[29;1H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H296,1[9C45%[17;27H{[28;1H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H297,4[9C46%[29;4H[34h[?25h[?25l[30;77H6,1[28;1H[34h[?25h[?25l[16;27H[46m{[27;1H}[0m[30;77H5,2[27;2H[34h[?25h[?25l[16;27H{[27;1H}[30;77H4,5[26;5H[34h[?25h[?25l[22;19H[46m{[25;5H}[0m[30;77H3[25;5H[34h[?25h[?25l[30;79H6[25;6H[34h[?25h[?25l[26;29r[26;1H[L[1;30r[30;75H[K[30;75H294,5[9C45%[22;19H{[25;5H}
    [34h[?25h[?25l[27;29r[27;1H[L[1;30r[30;75H[K[30;75H295,5[9C45%[27;5H[34h[?25h[?25l[28;5H[K[29;1H    [1m[33mreturn[0m;[30;77H6[28;5H[34h[?25h[?25l[30;77H5,1[27;1H[34h[?25h[?25l[30;77H6[28;1H[34h[?25h[?25l[30;77H7,5[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H298,2[9C45%[15;27H[46m{[29;1H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H299,1[9C46%[14;27H{[28;1H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H300,4[9C46%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H301,5[9C46%[29;5H[34h[?25h[?25l[30;77H0,4[28;4H[34h[?25h[?25l[30;75H299,1[27;1H[34h[?25h[?25l[12;27H[46m{[26;1H}[0m[30;77H8,2[26;2H[34h[?25h[?25l[12;27H{[26;1H}[30;77H7,5[25;5H[34h[?25h[?25l[30;77H6,1[24;1H[34h[?25h[?25l[30;77H5[23;1H[34h[?25h[?25l[30;79H5[23;5H[34h[?25h[?25l i[30;79H6[23;6H[34h[?25h[?25l[23;5H[K[30;79H5[23;5H[34h[?25h[?25l i[30;79H6[23;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[23;7H[34h[?25h[?25l[30;79H8[23;8H[34h[?25h[?25l a[30;79H9[23;9H[34h[?25h[?25l[23;8H[K[30;79H8[23;8H[34h[?25h[?25l[30;79H7[23;7H[34h[?25h[?25l[1m[33mf[0m(


[1m[37m[41m}[0m[30;79H8[23;8H[34h[?25h[?25l(a[30;79H9[23;9H[34h[?25h[?25l[23;8H[K[30;79H8[23;8H[34h[?25h[?25l[23;7H[K[26;1H}[30;79H7[23;7H[34h[?25h[?25l[30;79H8[23;8H[34h[?25h[?25l (


[1m[37m[41m}[0m[30;79H9[23;9H[34h[?25h[?25l(a[30;79H10[23;10H[34h[?25h[?25lar[30;80H1[23;11H[34h[?25h[?25lrg[30;80H2[23;12H[34h[?25h[?25lgv[30;80H3[23;13H[34h[?25h[?25lv[[25;11H[1m[37m[41m;[0m[30;80H4[23;14H[34h[?25h[?25l[[1m[35m1[0m[30;80H5[23;15H[34h[?25h[?25l[1m[35m1[0m][25;11H;[23;13H[46m[[1C][0m[30;80H6[23;16H[34h[?25h[?25l[[1C][30;80H7[23;17H[34h[?25h[?25l =[30;80H8[23;18H[34h[?25h[?25l==[30;80H9[23;19H[34h[?25h[?25l[30;79H20[23;20H[34h[?25h[?25l [1m[35m0[0m[30;80H1[23;21H[34h[?25h[?25l[1m[35m0[0m)


}[23;8H[46m([12C)[0m[30;80H2[23;22H[34h[?25h[?25l[23;8H([12C)[30;80H3[23;23H[34h[?25h[?25l {[46m{


}[0m[30;80H4[23;24H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H296,9[9C46%[23;23H{[27;1H}[24;9H[34h[?25h[?25l    }[23;23H[46m{
[0m    [46m}[0m[30;79H6[24;6H[34h[?25h[?25l[23;23H{
    }[30;77H7,1[25;1H[34h[?25h[?25l[23;23H[46m{
[0m    [46m}[0m[30;77H6,6[24;6H[34h[?25h[?25l[23;23H{
    }[30;77H5[23;6H[34h[?25h[?25l[17C[46m{
[0m    [46m}[0m[30;79H24[23;24H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[24;5H[46m [0m
    }[30;75H[K[30;75H296,9[9C46%[23;23H{
        [34h[?25h[?25l p[30;79H10[24;10H[34h[?25h[?25lpr[30;80H1[24;11H[34h[?25h[?25lri[30;80H2[24;12H[34h[?25h[?25lin[30;80H3[24;13H[34h[?25h[?25lnt[30;80H4[24;14H[34h[?25h[?25ltf[30;80H5[24;15H[34h[?25h[?25lf(
    [1m[37m[41m}


}[0m[30;80H6[24;16H[34h[?25h[?25l()
    }


}[24;15H[46m()[0m[30;80H7[24;17H[34h[?25h[?25l[46m)[0m;()[30;80H8[24;18H[34h[?25h[?25l[46m()[0m[30;80H7[24;17H[34h[?25h[?25l[30;80H6[24;16H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m);
    }

    return;
}[24;16H"[0m[1m[35m[46m)[0m[30;80H7[24;17H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m"[0m);
    }

    [1m[33mreturn[0m;
}[24;17H[1m[35m"[0m[46m)[0m[30;80H8[24;18H[34h[?25h[?25l([2C)[30;80H7[24;17H[34h[?25h[?25l[1m[35m"%"[0m);[30;80H8[24;18H[34h[?25h[?25l[1m[31m%s[0m[1m[35m"[0m);[30;80H9[24;19H[34h[?25h[?25l[1m[31ms[0m[1m[35m "[0m);[30;79H20[24;20H[34h[?25h[?25l[1m[35m c"[0m);[30;80H1[24;21H[34h[?25h[?25l[1m[35mco"[0m);[30;80H2[24;22H[34h[?25h[?25l[1m[35mom"[0m);[30;80H3[24;23H[34h[?25h[?25l[1m[35mmm"[0m);[30;80H4[24;24H[34h[?25h[?25l[1m[35mma"[0m);[30;80H5[24;25H[34h[?25h[?25l[1m[35man"[0m);[30;80H6[24;26H[34h[?25h[?25l[1m[35mnd"[0m);[30;80H7[24;27H[34h[?25h[?25l[1m[35md "[0m);[30;80H8[24;28H[34h[?25h[?25l[1m[35m r"[0m);[30;80H9[24;29H[34h[?25h[?25l[1m[35mre"[0m);[30;79H30[24;30H[34h[?25h[?25l[1m[35meq"[0m);[30;80H1[24;31H[34h[?25h[?25l[1m[35mqu"[0m);[30;80H2[24;32H[34h[?25h[?25l[1m[35mui"[0m);[30;80H3[24;33H[34h[?25h[?25l[1m[35mir"[0m);[30;80H4[24;34H[34h[?25h[?25l[1m[35mre"[0m);[30;80H5[24;35H[34h[?25h[?25l[1m[35mes"[0m);[30;80H6[24;36H[34h[?25h[?25l[1m[35ms "[0m);[30;80H7[24;37H[34h[?25h[?25l[1m[35m P"[0m);[30;80H8[24;38H[34h[?25h[?25l[1m[35mPI"[0m);[30;80H9[24;39H[34h[?25h[?25l[1m[35mID"[0m);[30;79H40[24;40H[34h[?25h[?25l[1m[35mD "[0m);[30;80H1[24;41H[34h[?25h[?25l[1m[35m o"[0m);[30;80H2[24;42H[34h[?25h[?25l[1m[35mor"[0m);[30;80H3[24;43H[34h[?25h[?25l[1m[35mr "[0m);[30;80H4[24;44H[34h[?25h[?25l[1m[35m %"[0m);[30;80H5[24;45H[34h[?25h[?25l[1m[35m%j"[0m);[30;80H6[24;46H[34h[?25h[?25l[1m[31m%jo[0m[1m[35m"[0m);[30;80H7[24;47H[34h[?25h[?25l[1m[31mo[0m[1m[35mb"[0m);[30;80H8[24;48H[34h[?25h[?25l[1m[35mbi"[0m);[30;80H9[24;49H[34h[?25h[?25l[1m[35mid"[0m);[30;79H50[24;50H[34h[?25h[?25l[1m[35md "[0m);[30;80H1[24;51H[34h[?25h[?25l[1m[35m a"[0m);[30;80H2[24;52H[34h[?25h[?25l[1m[35mar"[0m);[30;80H3[24;53H[34h[?25h[?25l[1m[35mrg"[0m);[30;80H4[24;54H[34h[?25h[?25l[1m[35mgu"[0m);[30;80H5[24;55H[34h[?25h[?25l[1m[35mum"[0m);[30;80H6[24;56H[34h[?25h[?25l[1m[35mme"[0m);[30;80H7[24;57H[34h[?25h[?25l[1m[35men"[0m);[30;80H8[24;58H[34h[?25h[?25l[1m[35mnt"[0m);[30;80H9[24;59H[34h[?25h[?25l[30;80H8[24;58H[34h[?25h[?25l[30;80H7[24;57H[34h[?25h[?25l[30;80H6[24;56H[34h[?25h[?25l[30;80H5[24;55H[34h[?25h[?25l[30;80H4[24;54H[34h[?25h[?25l[30;80H3[24;53H[34h[?25h[?25l[30;80H2[24;52H[34h[?25h[?25l[30;80H1[24;51H[34h[?25h[?25l[30;80H0[24;50H[34h[?25h[?25l[30;79H49[24;49H[34h[?25h[?25l[30;80H8[24;48H[34h[?25h[?25l[30;80H7[24;47H[34h[?25h[?25l[30;80H6[24;46H[34h[?25h[?25l[30;80H5[24;45H[34h[?25h[?25l[30;80H4[24;44H[34h[?25h[?25l[1m[31m%%[0m[1m[35mjobid argument"[0m);[30;80H5[24;45H[34h[?25h[?25l[30;79H63[24;63H[34h[?25h[?25l[24;15H[46m([45C)[0m[30;80H2[24;62H[34h[?25h[?25l[30;80H1[24;61H[34h[?25h[?25l[24;15H([45C)[30;80H0[24;60H[34h[?25h[?25l[24;15H[46m([45C)[0m[30;80H1[24;61H[34h[?25h[?25l[1m[35m"[0m[46m,[0m);,[46m)[0m[30;80H2[24;62H[34h[?25h[?25l,[46m [0m); [46m)[0m[30;80H3[24;63H[34h[?25h[?25l[24;15H([47C)[30;80H2[24;62H[34h[?25h[?25l[30;80H1[24;61H[34h[?25h[?25l[30;80H0[24;60H[34h[?25h[?25l[30;79H59[24;59H[34h[?25h[?25l[30;80H8[24;58H[34h[?25h[?25l[30;80H7[24;57H[34h[?25h[?25l[30;80H6[24;56H[34h[?25h[?25l[30;80H5[24;55H[34h[?25h[?25l[30;80H4[24;54H[34h[?25h[?25l[30;80H3[24;53H[34h[?25h[?25l[30;80H2[24;52H[34h[?25h[?25l[30;80H1[24;51H[34h[?25h[?25l[30;80H0[24;50H[34h[?25h[?25l[30;79H49[24;49H[34h[?25h[?25l[30;80H8[24;48H[34h[?25h[?25l[30;80H7[24;47H[34h[?25h[?25l[30;80H6[24;46H[34h[?25h[?25l[30;80H5[24;45H[34h[?25h[?25l[1m[31m%jo[0m[1m[35mbid argument"[0m, );[24;64H[K[30;80H4[24;44H[34h[?25h[?25l[1m[35m [0m[1m[31m\%[0m[1m[35mjobid argument"[0m, );[30;80H5[24;45H[34h[?25h[?25l[1m[35m [0m[1m[31m%jo[0m[1m[35mbid argument"[0m, );[24;64H[K[30;80H4[24;44H[34h[?25h[?25l[1m[31m%%[0m[1m[35mjobid argument"[0m, );[30;80H5[24;45H[34h[?25h[?25l[30;79H6[24;65H[34h[?25h[?25l[24;15H[46m([47C)[0m[30;80H4[24;64H[34h[?25h[?25l[30;80H3[24;63H[34h[?25h[?25l[24;15H([47C)[30;80H2[24;62H[34h[?25h[?25l[30;80H1[24;61H[34h[?25h[?25l[30;80H0[24;60H[34h[?25h[?25l[30;80H1[24;61H[34h[?25h[?25l[30;80H2[24;62H[34h[?25h[?25l[24;15H[46m([47C)[0m[30;80H3[24;63H[34h[?25h[?25l [46mi[0m);i[46m)[0m[30;80H4[24;64H[34h[?25h[?25l )[46m;[0m[24;65H[K[24;63H[46m)[0m;[30;80H3[24;63H[34h[?25h[?25l [46ma[0m);a[46m)[0m[30;80H4[24;64H[34h[?25h[?25la[46mr[0m);r[46m)[0m[30;80H5[24;65H[34h[?25h[?25lr[46mv[0m);v[46m)[0m[30;80H6[24;66H[34h[?25h[?25lr)[46m;[0m[24;67H[K[24;65H[46m)[0m;[30;80H5[24;65H[34h[?25h[?25lr[46mg[0m);g[46m)[0m[30;80H6[24;66H[34h[?25h[?25lg[46mv[0m);v[46m)[0m[30;80H7[24;67H[34h[?25h[?25lv[46m[[0m[1m[37m[41m);
[0m    [1m[37m[41m}[27;11H;
}[0m[24;67H[[1m[37m[46m)[0m[30;80H8[24;68H[34h[?25h[?25l[[1m[35m[46m0[0m[1m[37m[41m);[0m[1m[35m0[0m[1m[37m[46m)[0m[30;80H9[24;69H[34h[?25h[?25l[1m[35m0[0m[46m][0m);
    }[27;11H;
}[24;69H][46m)[0m[30;79H70[24;70H[34h[?25h[?25l[30;80H1[24;71H[34h[?25h[?25l[23;23H[46m{[0m[24;15H([54C)
    [46m}[0m[30;77H5,24[23;24H[34h[?25h[?25l{[24;15H[46m([54C)[0m
    }[30;77H6,71[24;71H[34h[?25h[?25l[30;80H0[24;70H[34h[?25h[?25l[24;15H([51C[46m[[1C][0m)[30;79H69[24;69H[34h[?25h[?25l[30;80H8[24;68H[34h[?25h[?25l[30;80H7[24;67H[34h[?25h[?25l[[1C][30;80H6[24;66H[34h[?25h[?25l[30;80H5[24;65H[34h[?25h[?25l[30;80H4[24;64H[34h[?25h[?25l[30;80H3[24;63H[34h[?25h[?25l[30;80H2[24;62H[34h[?25h[?25l[30;80H1[24;61H[34h[?25h[?25l[30;80H0[24;60H[34h[?25h[?25l[30;79H59[24;59H[34h[?25h[?25l[30;80H8[24;58H[34h[?25h[?25l[30;80H7[24;57H[34h[?25h[?25l[30;80H6[24;56H[34h[?25h[?25l[30;80H5[24;55H[34h[?25h[?25l[30;80H4[24;54H[34h[?25h[?25l[30;80H3[24;53H[34h[?25h[?25l[30;80H2[24;52H[34h[?25h[?25l[30;80H1[24;51H[34h[?25h[?25l[30;80H0[24;50H[34h[?25h[?25l[30;79H49[24;49H[34h[?25h[?25l[30;80H8[24;48H[34h[?25h[?25l[30;80H7[24;47H[34h[?25h[?25l[30;80H6[24;46H[34h[?25h[?25l[30;80H5[24;45H[34h[?25h[?25l[30;80H4[24;44H[34h[?25h[?25l[30;80H3[24;43H[34h[?25h[?25l[30;80H2[24;42H[34h[?25h[?25l[30;80H1[24;41H[34h[?25h[?25l[30;80H0[24;40H[34h[?25h[?25l[30;79H39[24;39H[34h[?25h[?25l[30;80H8[24;38H[34h[?25h[?25l[30;80H7[24;37H[34h[?25h[?25l[30;80H6[24;36H[34h[?25h[?25l[30;80H5[24;35H[34h[?25h[?25l[30;80H4[24;34H[34h[?25h[?25l[30;80H3[24;33H[34h[?25h[?25l[30;80H2[24;32H[34h[?25h[?25l[30;80H1[24;31H[34h[?25h[?25l[30;80H0[24;30H[34h[?25h[?25l[30;79H29[24;29H[34h[?25h[?25l[30;80H8[24;28H[34h[?25h[?25l[30;80H7[24;27H[34h[?25h[?25l[30;80H6[24;26H[34h[?25h[?25l[30;80H5[24;25H[34h[?25h[?25l[30;80H4[24;24H[34h[?25h[?25l[30;80H3[24;23H[34h[?25h[?25l[30;80H2[24;22H[34h[?25h[?25l[30;80H1[24;21H[34h[?25h[?25l[30;80H0[24;20H[34h[?25h[?25l[30;79H19[24;19H[34h[?25h[?25l[30;80H8[24;18H[34h[?25h[?25l[30;80H7[24;17H[34h[?25h[?25l[46m([54C)[0m[30;80H6[24;16H[34h[?25h[?25l[30;80H5[24;15H[34h[?25h[?25l([54C)[30;80H4[24;14H[34h[?25h[?25l[30;80H3[24;13H[34h[?25h[?25l[23;13H[46m[[1C][0m[30;77H5[23;13H[34h[?25h[?25l[[1C][30;77H4,1 [22;1H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H295,5[9C46%[23;5H[34h[?25h[?25l /[30;79H6[23;6H[34h[?25h[?25l[1m[36m//[0m[30;79H7[23;7H[34h[?25h[?25l[1m[36m [0m[30;79H8[23;8H[34h[?25h[?25l[1m[36m B[0m[30;79H9[23;9H[34h[?25h[?25l[1m[36mBa[0m[30;79H10[23;10H[34h[?25h[?25l[1m[36mad[0m[30;80H1[23;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[23;12H[34h[?25h[?25l[1m[36m a[0m[30;80H3[23;13H[34h[?25h[?25l[1m[36mar[0m[30;80H4[23;14H[34h[?25h[?25l[1m[36mrg[0m[30;80H5[23;15H[34h[?25h[?25l[1m[36mgu[0m[30;80H6[23;16H[34h[?25h[?25l[1m[36mum[0m[30;80H7[23;17H[34h[?25h[?25l[1m[36mme[0m[30;80H8[23;18H[34h[?25h[?25l[1m[36men[0m[30;80H9[23;19H[34h[?25h[?25l[1m[36mnt[0m[30;79H20[23;20H[34h[?25h[?25l[1m[36mt:[0m[30;80H1[23;21H[34h[?25h[?25l[1m[36m [0m[30;80H2[23;22H[34h[?25h[?25l[1m[36m N[0m[30;80H3[23;23H[34h[?25h[?25l[1m[36mNO[0m[30;80H4[23;24H[34h[?25h[?25l[1m[36m [0m[30;80H5[23;25H[34h[?25h[?25l[1m[36m a[0m[30;80H6[23;26H[34h[?25h[?25l[1m[36mar[0m[30;80H7[23;27H[34h[?25h[?25l[1m[36mrg[0m[30;80H8[23;28H[34h[?25h[?25l[1m[36mgs[0m[30;80H9[23;29H[34h[?25h[?25l[30;80H8[23;28H[34h[?25h[?25l[30;80H7[23;27H[34h[?25h[?25l[30;80H6[23;26H[34h[?25h[?25l[30;80H5[23;25H[34h[?25h[?25l[30;80H4[23;24H[34h[?25h[?25l[1m[36mN args[0m[23;28H[K[30;80H3[23;23H[34h[?25h[?25l[1m[36mNo args[0m[30;80H4[23;24H[34h[?25h[?25l[24;23H[46m{[26;5H}[0m[30;77H6[24;24H[34h[?25h[?25l{[26;5H}[30;77H7[25;24H[34h[?25h[?25l[30;79H72[25;72H[34h[?25h[?25l[26;29r[26;1H[L[1;30r[30;75H[K[30;75H298,9[9C46%[26;9H[34h[?25h[?25l r[30;79H10[26;10H[34h[?25h[?25lre[30;80H1[26;11H[34h[?25h[?25let[30;80H2[26;12H[34h[?25h[?25ltu[30;80H3[26;13H[34h[?25h[?25lur[30;80H4[26;14H[34h[?25h[?25l[1m[33mreturn[0m[30;80H5[26;15H[34h[?25h[?25l[1m[33mn[0m;[30;80H6[26;16H[34h[?25h[?25l[24;23H[46m{[27;5H}[0m[30;77H9,6 [27;6H[34h[?25h[?25l[29;5H[K[24;23H{[27;5H}[30;75H300,5[28;5H[34h[?25h[?25l[30;77H1[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H302,1[9C46%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H303,5[9C46%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H304,2[9C46%[9;27H[46m{[29;1H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H305,1[9C46%[8;27H{[28;1H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H306,4[9C46%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H307,5[9C47%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H308,4[9C47%[29;4H[34h[?25h[?25l[30;77H7,5[28;5H[34h[?25h[?25l[30;77H6,4[27;4H[34h[?25h[?25l[30;77H5,1[26;1H[34h[?25h[?25l[5;27H[46m{[25;1H}[0m[30;77H4,2[25;2H[34h[?25h[?25l[5;27H{[25;1H}[30;77H3,5[24;5H[34h[?25h[?25l[30;77H2,1[23;1H[34h[?25h[?25l[30;77H1[22;1H[34h[?25h[?25l[30;77H0[21;1H[34h[?25h[?25l[17;23H[46m{[20;5H}[0m[30;75H299,5[20;5H[34h[?25h[?25l[17;23H{[20;5H}[30;77H8[19;5H[34h[?25h[?25l[17;23H[46m{[20;5H}[0m[30;77H9[20;5H[34h[?25h[?25l[17;23H{[20;5H}[30;75H300,1[21;1H[34h[?25h[?25l[30;77H1[22;1H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[30;1H[K[22;4H[?25l[30;75H301,4[9C47%[22;4H[34h[?25h[?25l[30;77H0,0-1[21;1H[34h[?25h[?25l[30;75H299,4  [20;4H[34h[?25h[?25l[30;77H8[19;4H[34h[?25h[?25l[30;77H7[18;4H[34h[?25h[?25l[30;77H6[17;4H[34h[?25h[?25l[30;77H5[16;4H[34h[?25h[?25l[30;77H4[15;4H[34h[?25h[?25l[30;77H3[14;4H[34h[?25h[?25l[30;77H2[13;4H[34h[?25h[?25l[30;77H1[12;4H[34h[?25h[?25l[30;77H0[11;4H[34h[?25h[?25l[30;76H89[10;4H[34h[?25h[?25l[30;77H8[9;4H[34h[?25h[?25l[30;77H7[8;4H[34h[?25h[?25l[30;77H6[7;4H[34h[?25h[?25l[30;77H5[6;4H[34h[?25h[?25l[30;77H4[5;4H[34h[?25h[?25l[30;77H3,3[4;3H[34h[?25h[?25l[30;77H2,4[3;4H[34h[?25h[?25l[30;77H1,3[2;3H[34h[?25h[?25l[30;77H0,0-1[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H279,1[9C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m[30;75H[K[30;75H278,4[9C46%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H }[30;75H[K[30;75H277,3[9C46%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H276,4[9C46%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H275,4[9C46%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H274,4[9C46%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg(argv);[30;75H[K[30;75H273,4[9C46%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H272,4[9C45%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H271,4[9C45%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg(argv);[30;75H[K[30;75H270,4[9C45%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H269,4[9C45%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H268,4[9C45%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H listjobs(jobs);[30;75H[K[30;75H267,4[9C45%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H266,4[9C44%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H exit([1m[35m0[0m);[30;75H[K[30;75H265,4[9C44%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"quit"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H264,4[9C44%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[30;75H[K[30;75H263,4[9C44%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H262,3[9C44%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H261,4[9C43%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H260,4[9C43%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H259,3[9C43%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H258,0-1[7C43%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H257,1[9C43%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m bg;[30;75H[K[30;75H256,4[9C43%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H255,4[9C42%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H argv[--argc] = [1m[35mNULL[0m;[30;75H[K[30;75H254,1-4[7C42%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) {[30;75H[K[30;75H253,4[9C42%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* should the job run in the background? */[0m[30;75H[K[30;75H252,4[9C42%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H251,0-1[7C42%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H250,1-4[7C42%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (argc == [1m[35m0[0m)  [1m[36m/* ignore blank line */[0m[30;75H[K[30;75H249,4[9C41%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H248,4[9C41%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H argv[argc] = [1m[35mNULL[0m;[30;75H[K[30;75H247,4[9C41%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H246,4[9C41%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H245,4[9C41%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H244,4[9C41%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H243,4[9C40%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H242,4[9C40%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H buf++;[30;75H[K[30;75H241,1-4[7C40%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H240,4[9C40%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H239,4[9C40%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H buf++;[30;75H[K[30;75H238,4[9C40%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[30;75H[K[30;75H237,4[9C39%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H236,4[9C39%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H *delim = [1m[31m'\0'[0m;[30;75H[K[30;75H235,4[9C39%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H argv[argc++] = buf;[30;75H[K[30;75H234,1-4[7C39%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (delim) {[30;75H[K[30;75H233,4[9C39%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H232,0-1[7C39%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H231,4[9C38%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H230,1-4[7C38%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33melse[0m {[30;75H[K[30;75H229,4[9C38%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H228,4[9C38%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H227,1-4[7C38%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf++;[30;75H[K[30;75H226,1-4[7C38%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H225,4[9C37%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H argc = [1m[35m0[0m;[30;75H[K[30;75H224,4[9C37%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* Build the argv list */[0m[30;75H[K[30;75H223,4[9C37%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H222,0-1[7C37%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf++;[30;75H[K[30;75H221,1-4[7C37%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore leading spaces */[0m[30;75H[K[30;75H220,4[9C37%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H buf[strlen(buf)-[1m[35m1[0m] = [1m[35m' '[0m;  [1m[36m/* replace trailing '\n' with space */[0m[30;75H[K[30;75H219,4[9C36%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H strcpy(buf, cmdline);[30;75H[K[30;75H218,4[9C36%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H217,0-1[7C36%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m bg;[20C [1m[36m/* background job? */[0m[30;75H[K[30;75H216,4[9C36%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m argc;[18C [1m[36m/* number of args */[0m[30;75H[K[30;75H215,4[9C36%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *delim;[15C [1m[36m/* points to first space delimiter */[0m[30;75H[K[30;75H214,4[9C36%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *buf = array;[9C [1m[36m/* ptr that traverses command line */[0m[30;75H[K[30;75H213,4[9C35%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstatic[0m [1m[32mchar[0m array[MAXLINE]; [1m[36m/* holds local copy of command line */[0m[30;75H[K[30;75H212,4[9C35%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv) {[30;75H[K[30;75H211,4[9C35%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H210,3[9C35%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * the user has requested a FG job.  [0m[30;75H[K[30;75H209,4[9C35%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * argument.  Return true if the user has requested a BG job, false if[0m[30;75H[K[30;75H208,4[9C35%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Characters enclosed in single quotes are treated as a single[0m[30;75H[K[30;75H207,4[9C34%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * [0m[30;75H[K[30;75H206,3[9C34%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * parseline - Parse the command line and build the argv array.[0m[30;75H[K[30;75H205,4[9C34%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H204,3[9C34%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H203,0-1[7C34%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H202,1[9C34%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H201,4[9C33%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H200,4[9C33%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H waitfg(pid);[30;75H[K[30;75H199,4[9C33%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Wait for the foreground process to finish[0m[30;75H[K[30;75H198,4[9C33%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H } [1m[33melse[0m {[30;75H[K[30;75H197,4[9C33%[1;4H[34h[?25h[?25l[30;77H8[2;4H[34h[?25h[?25l[30;77H9[3;4H[34h[?25h[?25l[30;75H200[4;4H[34h[?25h[?25l[30;77H1[5;4H[34h[?25h[?25l[30;77H2,1[6;1H[34h[?25h[?25l[30;77H3,0-1[7;1H[34h[?25h[?25l[30;77H4,3  [8;3H[34h[?25h[?25l[30;77H5,4[9;4H[34h[?25h[?25l[30;77H6,3[10;3H[34h[?25h[?25l[30;77H7,4[11;4H[34h[?25h[?25l[30;77H8[12;4H[34h[?25h[?25l[30;77H9[13;4H[34h[?25h[?25l[30;76H10,3[14;3H[34h[?25h[?25l[30;77H1,4[15;4H[34h[?25h[?25l[30;77H2[16;4H[34h[?25h[?25l[30;77H3[17;4H[34h[?25h[?25l[30;77H4[18;4H[34h[?25h[?25l[30;77H5[19;4H[34h[?25h[?25l[30;77H6[20;4H[34h[?25h[?25l[30;77H7,0-1[21;1H[34h[?25h[?25l[30;77H8,4  [22;4H[34h[?25h[?25l[30;77H9[23;4H[34h[?25h[?25l[30;76H20[24;4H[34h[?25h[?25l[30;77H1,1-4[25;4H[34h[?25h[?25l[30;77H2,0-1[26;1H[34h[?25h[?25l[30;77H3,4  [27;4H[34h[?25h[?25l[30;77H4[28;4H[34h[?25h[?25l[30;77H5[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H buf++;[30;75H[K[30;75H226,1-4[7C33%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H227,1-4[7C33%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H228,4[9C33%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33melse[0m {[30;75H[K[30;75H229,4[9C33%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H230,1-4[7C34%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H231,4[9C34%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H232,0-1[7C34%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (delim) {[30;75H[K[30;75H233,4[9C34%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H argv[argc++] = buf;[30;75H[K[30;75H234,1-4[7C34%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H *delim = [1m[31m'\0'[0m;[30;75H[K[30;75H235,4[9C34%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H buf = delim + [1m[35m1[0m;[30;75H[K[30;75H236,4[9C35%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mwhile[0m (*buf && (*buf == [1m[35m' '[0m)) [1m[36m/* ignore spaces */[0m[30;75H[K[30;75H237,4[9C35%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H buf++;[30;75H[K[30;75H238,4[9C35%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H239,4[9C35%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (*buf == [1m[31m'\''[0m) {[30;75H[K[30;75H240,4[9C35%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H buf++;[30;75H[K[30;75H241,1-4[7C35%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H delim = strchr(buf, [1m[31m'\''[0m);[30;75H[K[30;75H242,4[9C36%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m {[30;75H[K[30;75H243,4[9C36%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H delim = strchr(buf, [1m[35m' '[0m);[30;75H[K[30;75H244,4[9C36%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H245,4[9C36%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H246,4[9C36%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H argv[argc] = [1m[35mNULL[0m;[30;75H[K[30;75H247,4[9C36%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H248,4[9C37%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (argc == [1m[35m0[0m)  [1m[36m/* ignore blank line */[0m[30;75H[K[30;75H249,4[9C37%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H250,1-4[7C37%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H251,0-1[7C37%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m/* should the job run in the background? */[0m[30;75H[K[30;75H252,4[9C37%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) {[30;75H[K[30;75H253,4[9C37%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H argv[--argc] = [1m[35mNULL[0m;[30;75H[K[30;75H254,1-4[7C38%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H255,4[9C38%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m bg;[30;75H[K[30;75H256,4[9C38%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H257,1[9C38%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H258,0-1[7C38%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H259,3[9C38%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H260,4[9C39%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H261,4[9C39%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H262,3[9C39%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) {[30;75H[K[30;75H263,4[9C39%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"quit"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H264,4[9C39%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H exit([1m[35m0[0m);[30;75H[K[30;75H265,4[9C39%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H266,4[9C40%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H listjobs(jobs);[30;75H[K[30;75H267,4[9C40%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H268,4[9C40%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H269,4[9C40%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H do_bgfg(argv);[30;75H[K[30;75H270,4[9C40%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H271,4[9C40%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H272,4[9C41%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H do_bgfg(argv);[30;75H[K[30;75H273,4[9C41%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H274,4[9C41%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) {[30;75H[K[30;75H275,4[9C41%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H276,4[9C41%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[27;44H[46m{[0m

  [46m}[0m[30;75H[K[30;75H277,3[9C41%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;44H{

  }
  [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m[30;75H[K[30;75H278,4[9C42%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[13;30H[46m{[29;1H}[0m[30;75H[K[30;75H279,1[9C42%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[12;30H{[28;1H}[30;75H[K[30;75H280,0-1[7C42%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H281,3[9C42%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * do_bgfg - Execute the builtin bg and fg commands[0m[30;75H[K[30;75H282,4[9C42%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H283,3[9C42%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H284,4[9C43%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m bg = -[1m[35m1[0m;[30;75H[K[30;75H285,4[9C43%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m c = *(argv[[1m[35m0[0m]);[30;75H[K[30;75H286,4[9C43%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H bg = (c == f) ? [1m[35m0[0m : ((c == [1m[35m'b'[0m) ? [1m[35m1[0m : -[1m[35m1[0m); [1m[36m// FG -> 0, BG -> 1, else -1[0m[30;75H[K[30;75H287,4[9C43%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H288,4[9C43%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m//Assert, command is either bg or fg.[0m[30;75H[K[30;75H289,4[9C43%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (bg == -[1m[35m1[0m) {[30;75H[K[30;75H290,4[9C44%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"Bad do_bgfg call."[0m);[30;75H[K[30;75H291,4[9C44%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mreturn[0m;[30;75H[K[30;75H292,4[9C44%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H293,4[9C44%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H294,4[9C44%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Bad argument: No args[0m[30;75H[K[30;75H295,4[9C45%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (argv[[1m[35m1[0m] == [1m[35m0[0m) {[30;75H[K[30;75H296,4[9C45%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m command requires PID or [0m[1m[31m%%[0m[1m[35mjobid argument"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H297,4[9C45%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mreturn[0m;[30;75H[K[30;75H298,4[9C45%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H299,4[9C45%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H300,0-1[7C45%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H301,4[9C46%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H302,0-1[7C46%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H303,4[9C46%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[9;27H[46m{[29;1H}[0m[30;75H[K[30;75H304,1[9C46%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[8;27H{[28;1H}[30;75H[K[30;75H305,0-1[7C46%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H306,3[9C46%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H307,4[9C47%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H308,3[9C47%[29;3H[34h[?25h[?25l[30;77H7,4[28;4H[34h[?25h[?25l[30;77H6,3[27;3H[34h[?25h[?25l[30;77H5,0-1[26;1H[34h[?25h[?25l[5;27H[46m{[25;1H}[0m[30;77H4,1  [25;1H[34h[?25h[?25l[5;27H{[25;1H}[30;77H3,4[24;4H[34h[?25h[?25l[30;77H2,0-1[23;1H[34h[?25h[?25l[30;77H1,4  [22;4H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H301,4[9C47%[22;4H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l i[30;79H6[22;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[22;7H[34h[?25h[?25l[30;79H8[22;8H[34h[?25h[?25l[30;79H7[22;7H[34h[?25h[?25li[22;6H[K[30;79H6[22;6H[34h[?25h[?25l[22;5H[K[30;79H5[22;5H[34h[?25h[?25l i[30;79H6[22;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[22;7H[34h[?25h[?25l[30;79H8[22;8H[34h[?25h[?25l (


[1m[37m[41m}[0m[30;79H9[22;9H[34h[?25h[?25l(a[30;79H10[22;10H[34h[?25h[?25lar[30;80H1[22;11H[34h[?25h[?25lrg[30;80H2[22;12H[34h[?25h[?25lgv[30;80H3[22;13H[34h[?25h[?25lv[[24;11H[1m[37m[41m;[0m[30;80H4[22;14H[34h[?25h[?25l[[1m[35m1[0m[30;80H5[22;15H[34h[?25h[?25l[1m[35m1[0m][24;11H;[22;13H[46m[[1C][0m[30;80H6[22;16H[34h[?25h[30;1H[K[22;15H[?25l[30;75H301,15[8C47%[22;15H[34h[?25h[?25l[[1C][30;77H0,0-1[21;1H[34h[?25h[?25l[17;23H[46m{[20;5H}[0m[30;75H299,5  [20;5H[34h[?25h[?25l[17;23H{[20;5H}[30;77H8,15[19;15H[34h[?25h[?25l[18;15H[46m([54C)[0m[30;77H7[18;15H[34h[?25h[?25l[17;13H[46m[[1C][0m[18;15H([54C)[30;77H6[17;15H[34h[?25h[?25l[[1C][30;77H5[16;15H[34h[?25h[?25l[30;77H4,4 [15;4H[34h[?25h[?25l[11;19H[46m{[14;5H}[0m[30;77H3,5[14;5H[34h[?25h[?25l[11;19H{[14;5H}[30;77H2,15[13;15H[34h[?25h[?25l[11;19H[46m{[14;5H}[0m[30;77H3,5 [14;5H[34h[?25h[?25l[11;19H{[14;5H}[30;77H4,4[15;4H[34h[?25h[?25l[30;77H5,15[16;15H[34h[?25h[?25l[17;13H[46m[[1C][0m[30;77H6[17;15H[34h[?25h[?25l[[1C][18;15H[46m([54C)[0m[30;77H7[18;15H[34h[?25h[?25l[17;13H[46m[[1C][0m[18;15H([54C)[30;77H6[17;15H[34h[?25h[?25l[[1C][30;80H6[17;16H[34h[?25h[?25l[30;80H7[17;17H[34h[?25h[?25l[30;80H8[17;18H[34h[?25h[?25l[30;80H9[17;19H[34h[?25h[?25l[30;79H20[17;20H[34h[?25h[?25l[17;8H[46m([12C)[0m[30;80H1[17;21H[34h[?25h[?25l[17;8H([12C)[30;80H2[17;22H[34h[?25h[?25l[17;8H[46m([12C)[0m[30;80H1[17;21H[34h[?25h[?25l[17;8H([12C)[30;80H2[17;22H[34h[?25h[?25l[17;8H[46m([12C)[0m[30;80H1[17;21H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H296,21[8C47%[17;21H[34h[?25h[?25l[1m[35m0[0m[46m [0m) { [46m)[0m[30;80H2[17;22H[34h[?25h[?25l [46m|[0m) {|[46m)[0m[30;80H3[17;23H[34h[?25h[?25l|[46m|[0m) {|[46m)[0m[30;80H4[17;24H[34h[?25h[?25l|[46m [0m) { [46m)[0m[30;80H5[17;25H[34h[?25h[?25l [46ma[0m) {a[46m)[0m[30;80H6[17;26H[34h[?25h[?25la[46mr[0m) {r[46m)[0m[30;80H7[17;27H[34h[?25h[?25lr[46mg[0m) {g[46m)[0m[30;80H8[17;28H[34h[?25h[?25lg[46mv[0m) {v[46m)[0m[30;80H9[17;29H[34h[?25h[?25lv[46m[[0m[1m[37m[41m)[0m [1m[37m[41m{[18;71H;[19;15H;
[0m    [1m[37m[41m}[0m[17;29H[[1m[37m[46m)[0m[30;79H30[17;30H[34h[?25h[?25l[[1m[35m[46m2[0m[1m[37m[41m)[0m [1m[37m[41m{[0m[1m[35m2[0m[1m[37m[46m)[0m[30;80H1[17;31H[34h[?25h[?25l[1m[35m2[0m[46m][0m) {[18;71H;[19;15H;
    }[17;31H][46m)[0m[30;80H2[17;32H[34h[?25h[?25l][46m [0m) { [46m)[0m[30;80H3[17;33H[34h[?25h[?25l [46m![0m) {![46m)[0m[30;80H4[17;34H[34h[?25h[?25l![46m=[0m) {=[46m)[0m[30;80H5[17;35H[34h[?25h[?25l=[46m [0m) { [46m)[0m[30;80H6[17;36H[34h[?25h[?25l [1m[35m[46m0[0m) {[1m[35m0[0m[46m)[0m[30;80H7[17;37H[34h[?25h[?25l[17;8H([28C)[30;77H7[18;37H[34h[?25h[?25l[30;77H8,16[19;16H[34h[?25h[?25l[17;39H[46m{[20;5H}[0m[30;77H9,6 [20;6H[34h[?25h[?25l[17;39H{[20;5H}[30;77H8,16[19;16H[34h[?25h[?25l[30;77H7,37[18;37H[34h[?25h[?25l[17;8H[46m([28C)[0m[30;77H6[17;37H[34h[?25h[?25l[17;8H([28C)[30;77H5,29[16;29H[34h[?25h[?25l[1m[36m [0m[30;79H30[16;30H[34h[?25h[?25l[1m[36m o[0m[30;80H1[16;31H[34h[?25h[?25l[1m[36mor[0m[30;80H2[16;32H[34h[?25h[?25l[1m[36m [0m[30;80H3[16;33H[34h[?25h[?25l[1m[36m t[0m[30;80H4[16;34H[34h[?25h[?25l[1m[36mto[0m[30;80H5[16;35H[34h[?25h[?25l[1m[36moo[0m[30;80H6[16;36H[34h[?25h[?25l[1m[36m [0m[30;80H7[16;37H[34h[?25h[?25l[1m[36m m[0m[30;80H8[16;38H[34h[?25h[?25l[1m[36mma[0m[30;80H9[16;39H[34h[?25h[?25l[1m[36man[0m[30;79H40[16;40H[34h[?25h[?25l[1m[36mny[0m[30;80H1[16;41H[34h[?25h[?25l[17;39H[46m{[20;5H}[0m[30;77H6,40[17;40H[34h[?25h[?25l{[20;5H}[30;77H7,41[18;41H[34h[?25h[?25l[30;77H8,16[19;16H[34h[?25h[?25l[17;39H[46m{[20;5H}[0m[30;77H9,6 [20;6H[34h[?25h[?25l[17;39H{[20;5H}[30;75H300,1[21;1H[34h[?25h[?25l[22;13H[46m[[1C][0m[30;77H1,16[22;16H[34h[?25h[?25l[[1C][30;77H0,1 [21;1H[34h[?25h[?25l[17;39H[46m{[20;5H}[0m[30;75H299,6[20;6H[34h[?25h[?25l[17;39H{[20;5H}[30;77H8,16[19;16H[34h[?25h[?25l[30;77H7,41[18;41H[34h[?25h[?25l[17;39H[46m{[20;5H}[0m[30;77H6,40[17;40H[34h[?25h[?25l{[20;5H}[30;77H5,41[16;41H[34h[?25h[?25l[30;80H0[16;40H[34h[?25h[?25l[30;79H39[16;39H[34h[?25h[?25l[30;80H8[16;38H[34h[?25h[?25l[30;80H7[16;37H[34h[?25h[?25l[30;80H6[16;36H[34h[?25h[?25l[30;80H5[16;35H[34h[?25h[?25l[30;80H4[16;34H[34h[?25h[?25l[30;80H3[16;33H[34h[?25h[?25l[30;80H2[16;32H[34h[?25h[?25l[30;80H1[16;31H[34h[?25h[?25l[30;80H0[16;30H[34h[?25h[?25l[30;79H29[16;29H[34h[?25h[?25l[30;80H8[16;28H[34h[?25h[?25l[30;80H7[16;27H[34h[?25h[?25l[30;80H6[16;26H[34h[?25h[?25l[30;80H5[16;25H[34h[?25h[?25l[30;80H4[16;24H[34h[?25h[?25l[30;80H3[16;23H[34h[?25h[?25l[30;80H2[16;22H[34h[?25h[?25l[30;80H1[16;21H[34h[?25h[?25l[30;80H0[16;20H[34h[?25h[?25l[1m[36mts: No args or too many[0m[30;80H1[16;21H[34h[?25h[?25l[30;77H6[17;21H[34h[?25h[?25l[30;77H7[18;21H[34h[?25h[?25l[30;77H8,16[19;16H[34h[?25h[?25l[17;39H[46m{[20;5H}[0m[30;77H9,6 [20;6H[34h[?25h[?25l[17;39H{[20;5H}[30;75H300,1[21;1H[34h[?25h[?25l[22;13H[46m[[1C][0m[30;77H1,16[22;16H[34h[?25h[?25l[[1C][30;77H2,1 [23;1H[34h[?25h[?25l[22;13H[46m[[1C][0m[30;77H1,16[22;16H[34h[?25h[?25l[[1C][30;77H0,1 [21;1H[34h[?25h[?25l[22;13H[46m[[1C][0m[30;77H1,16[22;16H[34h[?25h[?25l[30;80H5[22;15H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25l[46m][0m)


}[22;8H[46m([0margv[[1C][46m)[0m[30;80H7[22;17H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25l[22;8H(argv[46m[[1C][0m)[30;80H5[22;15H[34h[?25h[?25l[30;80H4[22;14H[34h[?25h[?25l[30;80H3[22;13H[34h[?25h[?25l[[1C][30;80H2[22;12H[34h[?25h[?25l[30;80H1[22;11H[34h[?25h[?25l[30;80H0[22;10H[34h[?25h[?25l[46m([7C)[0m[30;79H9 [22;9H[34h[?25h[?25l[46m([0m(argv[[1m[35m1[0m[46m][0m)


[1m[37m[41m}[0m[22;8H([46m([0m[6C][46m)[0m[30;79H10[22;10H[34h[?25h[?25l[30;79H9 [22;9H[34h[?25h[?25l([46m*[0m(argv[[1m[35m1[0m[46m][0m)[22;9H*[46m([0m[6C][46m)[0m[30;79H10[22;10H[34h[?25h[?25l[30;80H9[22;19H[34h[?25h[?25l[22;10H([7C)[30;79H20[22;20H[34h[?25h[?25l =[30;80H1[22;21H[34h[?25h[?25l==[30;80H2[22;22H[34h[?25h[?25l[30;80H3[22;23H[34h[?25h[?25l '[30;80H4[22;24H[34h[?25h[?25l'%[30;80H5[22;25H[34h[?25h[?25l%%[30;80H6[22;26H[34h[?25h[?25l[22;25H[K[30;80H5[22;25H[34h[?25h[?25l[1m[35m'%'[0m[30;80H6[22;26H[34h[?25h[?25l[1m[35m'[0m)


}[22;8H[46m([17C)[0m[30;80H7[22;27H[34h[?25h[?25l[22;8H([17C)[30;80H8[22;28H[34h[?25h[?25l {[46m{


}[0m[30;80H9[22;29H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H302,9[9C47%[22;28H{[26;1H}[23;9H[34h[?25h[?25l    }[22;28H[46m{
[0m    [46m}[0m[30;79H6[23;6H[34h[?25h[?25l[22;28H{
    }[30;77H1[22;6H[34h[?25h[?25l[22C[46m{
[0m    [46m}[0m[30;79H29[22;29H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[23;5H[46m [0m
    }[30;75H[K[30;75H302,9[9C47%[22;28H{
        [34h[?25h[?25l c[30;79H10[23;10H[34h[?25h[?25lch[30;80H1[23;11H[34h[?25h[?25lha[30;80H2[23;12H[34h[?25h[?25l[1m[32mchar[0m[30;80H3[23;13H[34h[?25h[?25l[30;80H4[23;14H[34h[?25h[?25l *[30;80H5[23;15H[34h[?25h[?25l[30;80H6[23;16H[34h[?25h[?25l[30;80H5[23;15H[34h[?25h[?25l*r[30;80H6[23;16H[34h[?25h[?25lre[30;80H7[23;17H[34h[?25h[?25les[30;80H8[23;18H[34h[?25h[?25lst[30;80H9[23;19H[34h[?25h[?25l[30;79H20[23;20H[34h[?25h[?25l =[30;80H1[23;21H[34h[?25h[?25l[30;80H2[23;22H[34h[?25h[?25l *[30;80H3[23;23H[34h[?25h[?25l*(
    [1m[37m[41m}


}[0m[30;80H4[23;24H[34h[?25h[?25l[23;23H[K[24;5H}


}[30;80H3[23;23H[34h[?25h[?25l[23;22H[K[30;80H2[23;22H[34h[?25h[?25l a[30;80H3[23;23H[34h[?25h[?25lar[30;80H4[23;24H[34h[?25h[?25lrg[30;80H5[23;25H[34h[?25h[?25lgv[30;80H6[23;26H[34h[?25h[?25lv[
    [1m[37m[41m}[26;11H;
}[0m[30;80H7[23;27H[34h[?25h[?25l[[1m[35m1[0m[30;80H8[23;28H[34h[?25h[?25l[1m[35m1[0m]
    }[26;11H;
}[23;26H[46m[[1C][0m[30;80H9[23;29H[34h[?25h[?25l[46m][0m[
    [1m[37m[41m}[26;11H;
}[0m[23;26H[[1C][30;79H30[23;30H[34h[?25h[?25l[[1m[35m1[0m[30;80H1[23;31H[34h[?25h[?25l[1m[35m1[0m]
    }[26;11H;
}[23;29H[46m[[1C][0m[30;80H2[23;32H[34h[?25h[?25l[46m][0m;[[1C][30;80H3[23;33H[34h[?25h[?25l[46m[[1C][0m[30;80H2[23;32H[34h[?25h[?25l[30;80H1[23;31H[34h[?25h[?25l[30;80H0[23;30H[34h[?25h[?25l[30;80H1[23;31H[34h[?25h[?25l[30;80H0[23;30H[34h[?25h[?25l[30;79H29[23;29H[34h[?25h[?25l[46m[[1C][0m[[1C][30;80H8[23;28H[34h[?25h[?25l[[1C][30;79H33[23;33H[34h[?25h[?25l[30;80H4[23;34H[34h[?25h[?25l /[30;80H5[23;35H[34h[?25h[?25l[1m[36m//[0m[30;80H6[23;36H[34h[?25h[?25l[1m[36m [0m[30;80H7[23;37H[34h[?25h[?25l[1m[36m m[0m[30;80H8[23;38H[34h[?25h[?25l[1m[36mma[0m[30;80H9[23;39H[34h[?25h[?25l[1m[36may[0m[30;79H40[23;40H[34h[?25h[?25l[1m[36myb[0m[30;80H1[23;41H[34h[?25h[?25l[1m[36mbe[0m[30;80H2[23;42H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H303,9[9C46%[24;9H[34h[?25h[?25l[30;79H8[24;8H[34h[?25h[?25l[30;79H7[24;7H[34h[?25h[?25l[30;79H6[24;6H[34h[?25h[?25l[30;79H5[24;5H[34h[?25h[?25l[30;79H4[24;4H[34h[?25h[?25l[30;79H3[24;3H[34h[?25h[?25l[30;79H2[24;2H[34h[?25h[?25l[30;79H1[24;1H[34h[?25h[?25l[23;29r[29;1H
[1;30r[23;8H [1m[32mchar[0m *rest = argv[[1m[35m1[0m][[1m[35m1[0m]; [1m[36m// maybe[29;1H/* [0m[30;75H[K[30;75H302,42[8C47%[23;42H[34h[?25h[?25l[23;41H[K[30;80H1[23;41H[34h[?25h[?25l[23;40H[K[30;80H0[23;40H[34h[?25h[?25l[23;39H[K[30;79H39[23;39H[34h[?25h[?25l[23;38H[K[30;80H8[23;38H[34h[?25h[?25l[23;37H[K[30;80H7[23;37H[34h[?25h[?25l[23;36H[K[30;80H6[23;36H[34h[?25h[?25l/[23;35H[K[30;80H5[23;35H[34h[?25h[?25l[23;34H[K[30;80H4[23;34H[34h[?25h[?25l[30;80H3[23;33H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H303,9[9C46%[24;9H[34h[?25h[?25l i[30;79H10[24;10H[34h[?25h[?25lin[30;80H1[24;11H[34h[?25h[?25l[1m[32mint[0m[30;80H2[24;12H[34h[?25h[?25l[30;80H3[24;13H[34h[?25h[?25l v[30;80H4[24;14H[34h[?25h[?25lva[30;80H5[24;15H[34h[?25h[?25lal[30;80H6[24;16H[34h[?25h[?25l[30;80H7[24;17H[34h[?25h[?25l =[30;80H8[24;18H[34h[?25h[?25l[30;80H9[24;19H[34h[?25h[?25l a[30;79H20[24;20H[34h[?25h[?25lat[30;80H1[24;21H[34h[?25h[?25lto[30;80H2[24;22H[34h[?25h[?25loi[30;80H3[24;23H[34h[?25h[?25li(
    [1m[37m[41m}


}[0m[30;80H4[24;24H[34h[?25h[?25l(r[30;80H5[24;25H[34h[?25h[?25lre[30;80H6[24;26H[34h[?25h[?25les[30;80H7[24;27H[34h[?25h[?25lst[30;80H8[24;28H[34h[?25h[?25lt)
    }


}[24;23H[46m([0mrest[46m)[0m[30;80H9[24;29H[34h[?25h[?25l[46m)[0m;[24;23H(rest)[30;79H30[24;30H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[30;75H[K[30;75H304,9[9C46%[25;9H[34h[?25h[?25l[26;29r[26;1H[L[1;30r[30;75H[K[30;75H305,9[9C46%[26;9H[34h[?25h[?25l p[30;79H10[26;10H[34h[?25h[?25lpr[30;80H1[26;11H[34h[?25h[?25lri[30;80H2[26;12H[34h[?25h[?25lin[30;80H3[26;13H[34h[?25h[?25lnt[30;80H4[26;14H[34h[?25h[?25ltf[30;80H5[26;15H[34h[?25h[?25lf(
    [1m[37m[41m}[0m[30;80H6[26;16H[34h[?25h[?25l()
    }[26;15H[46m()[0m[30;80H7[26;17H[34h[?25h[?25l[46m)[0m:()[30;80H8[26;18H[34h[?25h[?25l[26;17H[K[26;15H[46m()[0m[30;80H7[26;17H[34h[?25h[?25l[46m)[0m'()[30;80H8[26;18H[34h[?25h[?25l[26;17H[K[26;15H[46m()[0m[30;80H7[26;17H[34h[?25h[?25l[46m)[0m;()[30;80H8[26;18H[34h[?25h[?25l[46m()[0m[30;80H7[26;17H[34h[?25h[?25l[30;80H6[26;16H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m);
    }

    return;[26;16H"[0m[1m[35m[46m)[0m[30;80H7[26;17H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m"[0m);
    }

    [1m[33mreturn[0m;[26;17H[1m[35m"[0m[46m)[0m[30;80H8[26;18H[34h[?25h[?25l([2C)[30;80H7[26;17H[34h[?25h[?25l[1m[35m"L"[0m);[30;80H8[26;18H[34h[?25h[?25l[1m[35mLo"[0m);[30;80H9[26;19H[34h[?25h[?25l[1m[35moo"[0m);[30;79H20[26;20H[34h[?25h[?25l[1m[35mok"[0m);[30;80H1[26;21H[34h[?25h[?25l[1m[35mk "[0m);[30;80H2[26;22H[34h[?25h[?25l[1m[35m f"[0m);[30;80H3[26;23H[34h[?25h[?25l[1m[35mfo"[0m);[30;80H4[26;24H[34h[?25h[?25l[1m[35mor"[0m);[30;80H5[26;25H[34h[?25h[?25l[1m[35mr "[0m);[30;80H6[26;26H[34h[?25h[?25l[1m[35m j"[0m);[30;80H7[26;27H[34h[?25h[?25l[1m[35mjo"[0m);[30;80H8[26;28H[34h[?25h[?25l[1m[35mob"[0m);[30;80H9[26;29H[34h[?25h[?25l[1m[35mb "[0m);[30;79H30[26;30H[34h[?25h[?25l[1m[35m #"[0m);[30;80H1[26;31H[34h[?25h[?25l[1m[35m#%"[0m);[30;80H2[26;32H[34h[?25h[?25l[1m[31m%d[0m[1m[35m"[0m);[30;80H3[26;33H[34h[?25h[?25l[26;15H[46m([18C)[0m[30;80H4[26;34H[34h[?25h[?25l[1m[35m"[0m[46m,[0m);,[46m)[0m[30;80H5[26;35H[34h[?25h[?25l,[46m [0m); [46m)[0m[30;80H6[26;36H[34h[?25h[?25l [46mv[0m);v[46m)[0m[30;80H7[26;37H[34h[?25h[?25lv[46ma[0m);a[46m)[0m[30;80H8[26;38H[34h[?25h[?25la[46ml[0m);l[46m)[0m[30;80H9[26;39H[34h[?25h[?25l[30;79H40[26;40H[34h[?25h[?25l[26;15H([23C)[30;80H1[26;41H[34h[?25h[?25l[22;28H[46m{[27;5H}[0m[30;77H6,6 [27;6H[34h[?25h[?25l[22;28H{[27;5H}[30;79H7[27;7H[34h[?25h[?25l l[30;79H8[27;8H[34h[?25h[?25l[27;7H[K[30;79H7[27;7H[34h[?25h[?25l e[30;79H8[27;8H[34h[?25h[?25lel[30;79H9[27;9H[34h[?25h[?25lls[30;79H10[27;10H[34h[?25h[?25l[1m[33melse[0m[30;80H1[27;11H[34h[?25h[?25l[30;80H2[27;12H[34h[?25h[?25l {[30;80H3[27;13H[34h[?25h[?25l[29;5H[K[30;77H7,9 [28;9H[34h[?25h[?25l[30;77H8,1[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H309,9[9C46%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H310,2[9C47%[25;12H[46m{[29;1H}[34h[?25h[?25l[0m[25;12H{[29;1H}[30;76H09,9[28;9H[34h[?25h[?25l[30;77H8,1[27;1H[34h[?25h[?25l[30;77H7[26;1H[34h[?25h[?25l[30;79H5[26;5H[34h[?25h[?25l }[25;12H[46m{
[0m    [46m}[0m[30;79H6[26;6H[34h[?25h[?25l[20;28H[46m{[25;5H}[0m[6C{
    }[30;77H6[25;6H[34h[?25h[?25l[20;28H{[25;5H}[6C[46m{
[0m    [46m}[0m[30;79H13[25;13H[34h[?25h[?25l[26;29r[26;1H[L[1;30r[26;5H[46m [0m
    }[30;75H[K[30;75H307,9[9C46%[25;12H{
        [34h[?25h[?25l[30;77H6[25;9H[34h[?25h[?25l[30;77H5[24;9H[34h[?25h[?25l[30;77H4,1[23;1H[34h[?25h[?25l[30;77H3,9[22;9H[34h[?25h[?25l[30;79H10[22;10H[34h[?25h[?25l[30;80H1[22;11H[34h[?25h[?25l[30;80H2[22;12H[34h[?25h[?25l[30;80H3[22;13H[34h[?25h[?25l[30;80H4[22;14H[34h[?25h[?25l[30;80H5[22;15H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25la = atoi(rest);[22;29H[K[30;80H5[22;15H[34h[?25h[?25lv = atoi(rest);[22;28H[K[30;80H4[22;14H[34h[?25h[?25l  = atoi(rest);[22;27H[K[30;80H3[22;13H[34h[?25h[?25l j = atoi(rest);[30;80H4[22;14H[34h[?25h[?25lji = atoi(rest);[30;80H5[22;15H[34h[?25h[?25lid = atoi(rest);[30;80H6[22;16H[34h[?25h[?25l[30;77H4,1 [23;1H[34h[?25h[?25l[24;15H[46m([23C)[0m[30;77H5,16[24;16H[34h[?25h[?25l([23C)[30;79H41[24;41H[34h[?25h[?25l[24;15H[46m([23C)[0m[30;80H0[24;40H[34h[?25h[?25l[30;79H39[24;39H[34h[?25h[?25la)[46m;[0m[24;40H[K[24;38H[46m)[0m;[30;80H8[24;38H[34h[?25h[?25lv)[46m;[0m[24;39H[K[24;37H[46m)[0m;[30;80H7[24;37H[34h[?25h[?25l )[46m;[0m[24;38H[K[24;36H[46m)[0m;[30;80H6[24;36H[34h[?25h[?25l [46mj[0m);j[46m)[0m[30;80H7[24;37H[34h[?25h[?25lj[46mi[0m);i[46m)[0m[30;80H8[24;38H[34h[?25h[?25li[46md[0m);d[46m)[0m[30;80H9[24;39H[34h[?25h[?25l[24;15H([23C)[25;12H[46m{[27;5H}[0m[30;77H6,13[25;13H[34h[?25h[?25l{[27;5H}[30;77H7,1 [26;1H[34h[?25h[?25l[30;79H5[26;5H[34h[?25h[?25l[30;79H9[26;9H[34h[?25h[?25l i[30;79H10[26;10H[34h[?25h[?25lin[30;80H1[26;11H[34h[?25h[?25l[1m[32mint[0m[30;80H2[26;12H[34h[?25h[?25l[30;80H3[26;13H[34h[?25h[?25l p[30;80H4[26;14H[34h[?25h[?25lpi[30;80H5[26;15H[34h[?25h[?25lid[30;80H6[26;16H[34h[?25h[?25l[30;80H7[26;17H[34h[?25h[?25l =[30;80H8[26;18H[34h[?25h[?25l[30;80H9[26;19H[34h[?25h[?25l a[30;79H20[26;20H[34h[?25h[?25lat[30;80H1[26;21H[34h[?25h[?25lto[30;80H2[26;22H[34h[?25h[?25loi[30;80H3[26;23H[34h[?25h[?25li(
    [1m[37m[41m}[0m[30;80H4[26;24H[34h[?25h[?25l(a[30;80H5[26;25H[34h[?25h[?25lar[30;80H6[26;26H[34h[?25h[?25lrg[30;80H7[26;27H[34h[?25h[?25lg[[29;11H[1m[37m[41m;[0m[30;80H8[26;28H[34h[?25h[?25l[v[30;80H9[26;29H[34h[?25h[?25l[26;28H[K[30;80H8[26;28H[34h[?25h[?25l[26;27H[K[29;11H;[30;80H7[26;27H[34h[?25h[?25lgv[30;80H8[26;28H[34h[?25h[?25lv[[29;11H[1m[37m[41m;[0m[30;80H9[26;29H[34h[?25h[?25l[[1m[35m1[0m[30;79H30[26;30H[34h[?25h[?25l[1m[35m1[0m][29;11H;[26;28H[46m[[1C][0m[30;80H1[26;31H[34h[?25h[?25l[46m][0m)
    }[26;23H[46m([0margv[[1C][46m)[0m[30;80H2[26;32H[34h[?25h[?25l[46m)[0m;[26;23H([7C)[30;80H3[26;33H[34h[?25h[?25l[27;29r[27;1H[L[1;30r[30;75H[K[30;75H308,9[9C46%[27;9H[34h[?25h[?25l
     
    }[30;77H9[28;9H[34h[?25h[?25l p[30;79H10[28;10H[34h[?25h[?25lpr[30;80H1[28;11H[34h[?25h[?25lri[30;80H2[28;12H[34h[?25h[?25lin[30;80H3[28;13H[34h[?25h[?25lnt[30;80H4[28;14H[34h[?25h[?25ltf[30;80H5[28;15H[34h[?25h[?25lf(
    [1m[37m[41m}[0m[30;80H6[28;16H[34h[?25h[?25l()
    }[28;15H[46m()[0m[30;80H7[28;17H[34h[?25h[?25l[46m)[0m;()[30;80H8[28;18H[34h[?25h[?25l[46m()[0m[30;80H7[28;17H[34h[?25h[?25l[30;80H6[28;16H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m);
    }[28;16H"[0m[1m[35m[46m)[0m[30;80H7[28;17H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m"[0m);
    }[28;17H[1m[35m"[0m[46m)[0m[30;80H8[28;18H[34h[?25h[?25l([2C)[30;80H7[28;17H[34h[?25h[?25l[1m[35m"L"[0m);[30;80H8[28;18H[34h[?25h[?25l[1m[35mLo"[0m);[30;80H9[28;19H[34h[?25h[?25l[1m[35moo"[0m);[30;79H20[28;20H[34h[?25h[?25l[1m[35mok"[0m);[30;80H1[28;21H[34h[?25h[?25l[1m[35mk "[0m);[30;80H2[28;22H[34h[?25h[?25l[1m[35m f"[0m);[30;80H3[28;23H[34h[?25h[?25l[1m[35mfo"[0m);[30;80H4[28;24H[34h[?25h[?25l[1m[35mor"[0m);[30;80H5[28;25H[34h[?25h[?25l[1m[35mr "[0m);[30;80H6[28;26H[34h[?25h[?25l[1m[35m p"[0m);[30;80H7[28;27H[34h[?25h[?25l[1m[35mpr"[0m);[30;80H8[28;28H[34h[?25h[?25l[1m[35mro"[0m);[30;80H9[28;29H[34h[?25h[?25l[1m[35moc"[0m);[30;79H30[28;30H[34h[?25h[?25l[1m[35mce"[0m);[30;80H1[28;31H[34h[?25h[?25l[1m[35mes"[0m);[30;80H2[28;32H[34h[?25h[?25l[1m[35mss"[0m);[30;80H3[28;33H[34h[?25h[?25l[1m[35ms "[0m);[30;80H4[28;34H[34h[?25h[?25l[1m[35m #"[0m);[30;80H5[28;35H[34h[?25h[?25l[1m[35m#%"[0m);[30;80H6[28;36H[34h[?25h[?25l[1m[31m%d[0m[1m[35m"[0m);[30;80H7[28;37H[34h[?25h[?25l[28;15H[46m([22C)[0m[30;80H8[28;38H[34h[?25h[?25l[1m[35m"[0m[46m,[0m);,[46m)[0m[30;80H9[28;39H[34h[?25h[?25l,[46mp[0m);p[46m)[0m[30;79H40[28;40H[34h[?25h[?25lp[46mi[0m);i[46m)[0m[30;80H1[28;41H[34h[?25h[?25li[46md[0m);d[46m)[0m[30;80H2[28;42H[34h[?25h[?25l[28;15H([26C)[30;80H1[28;41H[34h[?25h[?25l[30;80H0[28;40H[34h[?25h[?25l[30;79H39[28;39H[34h[?25h[?25l, pid);[30;79H40[28;40H[34h[?25h[?25l[30;79H39[28;39H[34h[?25h[?25l[30;80H8[28;38H[34h[?25h[?25l[30;80H7[28;37H[34h[?25h[?25l[1m[31md\"[0m[1m[35m, pid);
    }[0m[30;80H8[28;38H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m, pid);
    }[30;80H9[28;39H[34h[?25h[?25l[30;77H8,1 [27;1H[34h[?25h[?25l[30;77H7,33[26;33H[34h[?25h[?25l[25;12H[46m{[29;5H}[0m[30;77H6,1[25;13H[34h[?25h[?25l[24;15H[46m([23C)[0m[25;12H{[29;5H}[30;77H5,39[24;39H[34h[?25h[?25l[24;15H([23C)[30;77H4,1 [23;1H[34h[?25h[?25l[24;15H[46m([23C)[0m[30;77H5,39[24;39H[34h[?25h[?25l[24;15H([23C)[30;80H8[24;38H[34h[?25h[?25l[30;80H7[24;37H[34h[?25h[?25l[30;80H6[24;36H[34h[?25h[?25l[30;80H5[24;35H[34h[?25h[?25l[30;80H4[24;34H[34h[?25h[?25l[30;80H3[24;33H[34h[?25h[?25l[30;80H2[24;32H[34h[?25h[?25l[30;80H3[24;33H[34h[?25h[?25l[1m[31md\"[0m[1m[35m, jid);
    } else {
        int pid = atoi(argv[1]);

        printf([0m[1CLook [1m[33mfor[0m process #%d\n[1C[1m[35m, pid);
    }[0m[30;80H4[24;34H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m, jid);
    } [1m[33melse[0m {
        [1m[32mint[0m pid = atoi(argv[[1C]);

        printf([1C[1m[35mLook for process #[0m[1m[31m%d\n[0m[1C, pid);
    }[30;80H5[24;35H[34h[?25h[?25l[30;77H4,1 [23;1H[34h[?25h[?25l[30;77H3,30[22;30H[34h[?25h[?25l[30;77H2,33[21;33H[34h[?25h[?25l[20;28H[46m{[25;5H}[0m[30;77H1,29[20;29H[34h[?25h[?25l{[25;5H}[30;77H0,1 [19;1H[34h[?25h[?25l[15;39H[46m{[18;5H}[0m[30;75H299,6[18;6H[34h[?25h[?25l[15;39H{[18;5H}[30;77H8,16[17;16H[34h[?25h[?25l[30;77H7,35[16;35H[34h[?25h[?25l[30;77H6[15;35H[34h[?25h[?25l[30;77H7[16;35H[34h[?25h[?25l[30;80H6[16;36H[34h[?25h[?25l[30;80H7[16;37H[34h[?25h[?25l[30;80H8[16;38H[34h[?25h[?25l[30;80H9[16;39H[34h[?25h[?25l[30;79H40[16;40H[34h[?25h[?25l[30;80H1[16;41H[34h[?25h[?25l[30;80H2[16;42H[34h[?25h[?25l[30;80H3[16;43H[34h[?25h[?25l[30;80H4[16;44H[34h[?25h[?25l[30;80H5[16;45H[34h[?25h[?25l[30;80H6[16;46H[34h[?25h[?25l[30;80H7[16;47H[34h[?25h[?25l[30;80H8[16;48H[34h[?25h[?25l[30;80H9[16;49H[34h[?25h[?25l[30;79H50[16;50H[34h[?25h[?25l[30;80H1[16;51H[34h[?25h[?25l[30;80H2[16;52H[34h[?25h[?25l[30;80H3[16;53H[34h[?25h[?25l[30;80H4[16;54H[34h[?25h[?25l[30;80H5[16;55H[34h[?25h[?25l[30;80H6[16;56H[34h[?25h[?25l[30;80H7[16;57H[34h[?25h[?25l[30;80H8[16;58H[34h[?25h[?25l[30;80H9[16;59H[34h[?25h[?25l[30;79H60[16;60H[34h[?25h[?25l[1m[35mt[0m[1m[31m\"[0m[1m[35m, argv[0]);
        return;
    }

    if (*(argv[1]) == '%') {
        char *rest = argv[1][1];
        int jid = atoi(rest);

        printf([0m[1CLook [1m[33mfor[0m job #%d\n[1C[1m[35m, jid);
    } else {
        int pid = atoi(argv[1]);

        printf([0m[1CLook [1m[33mfor[0m process #%d\n[1C[1m[35m, pid);
    }[0m[30;80H1[16;61H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);
        [1m[33mreturn[0m;
    }

    [1m[33mif[0m (*(argv[[1C]) == [3C) {
        [1m[32mchar[0m *rest = argv[[1C][[1C];
        [1m[32mint[0m jid = atoi(rest);

        printf([1C[1m[35mLook for job #[0m[1m[31m%d\n[0m[1C, jid);
    } [1m[33melse[0m {
        [1m[32mint[0m pid = atoi(argv[[1C]);

        printf([1C[1m[35mLook for process #[0m[1m[31m%d\n[0m[1C, pid);
    }[30;80H2[16;62H[34h[?25h[30;1H[K[16;61H[?25l[30;75H297,61[8C46%[16;61H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25hq[?25l[34h[?25h[?25l[30;3H[K[30;3H[34h[?25h[?25l"tsh.c" 629L, 16385C written[46C297,61[8C46%[30;75H[K[30;75H297,61[8C46%[16;61H[34h[?25h[?25l[15;39H[46m{[18;5H}[0m[30;77H6,39[15;39H[34h[?25h[?25l{[18;5H}[30;77H5,41[14;41H[34h[?25h[?25l[30;77H4,4 [13;4H[34h[?25h[?25l[9;19H[46m{[12;5H}[0m[30;77H3,5[12;5H[34h[?25h[?25l[9;19H{[12;5H}[30;77H2,15[11;15H[34h[?25h[?25l[30;77H1,36[10;36H[34h[?25h[?25l[30;77H2,15[11;15H[34h[?25h[?25l[9;19H[46m{[12;5H}[0m[30;77H3,5 [12;5H[34h[?25h[?25l[9;19H{[12;5H}[30;77H2,15[11;15H[34h[?25h[?25l[30;77H1,36[10;36H[34h[?25h[?25l[9;19H[46m{[12;5H}[0m[30;77H0,19[9;19H[34h[?25h[?25l{[12;5H}[30;76H89,41[8;41H[34h[?25h[?25l[30;77H8,4 [7;4H[34h[?25h[?25l[30;77H7,61[6;61H[34h[?25h[?25l[30;80H0[6;60H[34h[?25h[?25l[30;79H59[6;59H[34h[?25h[?25l[30;80H8[6;58H[34h[?25h[?25l[30;80H7[6;57H[34h[?25h[?25l[30;80H6[6;56H[34h[?25h[?25l[30;80H5[6;55H[34h[?25h[?25l[30;80H4[6;54H[34h[?25h[?25l[30;80H3[6;53H[34h[?25h[?25l[30;80H2[6;52H[34h[?25h[?25l[30;80H1[6;51H[34h[?25h[?25l[30;80H0[6;50H[34h[?25h[?25l[30;79H49[6;49H[34h[?25h[?25l[30;80H8[6;48H[34h[?25h[?25l[30;80H7[6;47H[34h[?25h[?25l[30;80H6[6;46H[34h[?25h[?25l[6;25H[46m([19C)[0m[30;80H5[6;45H[34h[?25h[?25l[6;25H([19C)[30;80H4[6;44H[34h[?25h[?25l[30;80H3[6;43H[34h[?25h[?25l[30;80H2[6;42H[34h[?25h[?25l[30;80H1[6;41H[34h[?25h[?25l[30;80H0[6;40H[34h[?25h[?25l[30;79H39[6;39H[34h[?25h[?25l[30;80H8[6;38H[34h[?25h[?25l[30;80H7[6;37H[34h[?25h[?25l[30;80H6[6;36H[34h[?25h[?25l[6;26H[46m([8C)[0m[30;80H5[6;35H[34h[?25h[?25l[6;26H([8C)[30;80H4[6;34H[34h[?25h[?25l[30;80H3[6;33H[34h[?25h[?25l[30;80H2[6;32H[34h[?25h[?25l[30;80H1[6;31H[34h[?25h[?25l[30;80H0[6;30H[34h[?25h[?25l[30;79H29[6;29H[34h[?25h[?25l[30;80H8[6;28H[34h[?25h[?25l[30;80H7[6;27H[34h[?25h[?25l[46m([8C)[0m[30;80H6[6;26H[34h[?25h[?25l[46m([0m([8C)[9C[46m)[0m[30;80H5[6;25H[34h[?25h[?25l([19C)[30;80H4[6;24H[34h[?25h[?25l[30;80H3[6;23H[34h[?25h[?25l[30;80H2[6;22H[34h[?25h[?25l[30;80H1[6;21H[34h[?25h[?25l[30;80H0[6;20H[34h[?25h[?25l[30;79H19[6;19H[34h[?25h[?25l[30;80H8[6;18H[34h[?25h[?25l[6;10H[46m([0mc == f[46m)[0m[30;80H7[6;17H[34h[?25h[?25l[6;10H(c == f)[30;80H6[6;16H[34h[?25h[?25l[30;1H[1m[37m[41mE78: Unknown mark[0m[30;18H[K[30;75H287,16[8C46%[6;16H[34h[?25h[?25l[30;2H[1m[37m[41m20: Mark not set[0m[30;75H[K[30;75H287,16[8C46%[6;16H[34h[?25h[?25l[46m([0mc == f[46m)[0m[30;80H7[6;17H[34h[?25h[?25l[6;10H(c == f)[30;80H6[6;16H[34h[?25h[?25l[30;2H[1m[37m[41m78: Unknown mark[0m[30;75H[K[30;75H287,16[8C46%[6;16H[34h[?25h[?25l[30;75H[K[30;75H287,16[8C46%[6;16H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H287,16[8C46%[6;16H[34h[?25h[?25l[46m([0mc == f[46m)[0m[30;80H7[6;17H[34h[?25h[?25l[6;10H(c == f)[30;80H6[6;16H[34h[?25h[?25l 'f) ? [1m[35m0[0m : ((c == [1m[35m'b'[0m) ? [1m[35m1[0m : -[1m[35m1[0m); [1m[36m// FG -> 0, BG -> 1, else -1[0m[30;80H7[6;17H[34h[?25h[?25l[6;10H[46m([7C)[0m[30;80H8[6;18H[34h[?25h[?25l[1m[35m'f[0m[1m[35m[46m'[0m) ? [1m[35m0[0m : ((c == [1m[35m'b'[0m) ? [1m[35m1[0m : -[1m[35m1[0m); [1m[36m// FG -> 0, BG -> 1, else -1[0m[6;18H[1m[35m'[0m[46m)[0m[30;80H9[6;19H[34h[?25h[30;1H[K[6;18H[?25l[6;10H([8C)[30;75H287,18[8C46%[6;18H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 629L, 16387C written[46C287,18[8C46%[30;75H[K[30;75H287,18[8C46%[6;18H[34h[?25h[?25l[30;77H8,4 [7;4H[34h[?25h[?25l[30;77H9,18[8;18H[34h[?25h[?25l[30;76H90[9;18H[34h[?25h[?25l[30;77H1[10;18H[34h[?25h[?25l[30;77H2,15[11;15H[34h[?25h[?25l[9;19H[46m{[12;5H}[0m[30;77H3,5 [12;5H[34h[?25h[?25l[9;19H{[12;5H}[30;77H4,4[13;4H[34h[?25h[?25l[30;77H5,18[14;18H[34h[?25h[?25l[30;77H6[15;18H[34h[?25h[?25l[30;77H7[16;18H[34h[?25h[?25l[30;77H8,15[17;15H[34h[?25h[?25l[15;39H[46m{[18;5H}[0m[30;77H9,5 [18;5H[34h[?25h[?25l[15;39H{[18;5H}[30;75H300,0-1[19;1H[34h[?25h[?25l[20;10H[46m([7C)[0m[30;77H1,18 [20;18H[34h[?25h[?25l[20;10H([7C)[30;77H2[21;18H[34h[?25h[?25l[30;80H9[21;19H[34h[?25h[?25l[30;79H20[21;20H[34h[?25h[?25l[30;80H1[21;21H[34h[?25h[?25l[30;80H2[21;22H[34h[?25h[?25l[30;80H1[21;21H[34h[?25h[?25l[30;80H0[21;20H[34h[?25h[?25l[30;79H19[21;19H[34h[?25h[?25l[30;80H8[21;18H[34h[?25h[?25l[30;80H7[21;17H[34h[?25h[?25l[30;80H6[21;16H[34h[?25h[?25l[30;80H5[21;15H[34h[?25h[?25l[30;80H6[21;16H[34h[?25h[?25l[30;80H7[21;17H[34h[?25h[?25l[30;80H8[21;18H[34h[?25h[?25l[30;80H9[21;19H[34h[?25h[?25l[30;79H32[21;32H[34h[?25h[?25l[46m[[1C][0m[30;80H1[21;31H[34h[?25h[?25l[[1C][30;80H0[21;30H[34h[?25h[?25l[46m[[1C][0m[30;80H1[21;31H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H302,31[8C46%[21;31H[34h[?25h[?25l[30;80H2[21;32H[34h[?25h[?25l[1m[35m1[0m[1m[37m[46m;[0m[21;32H[K[22;29H[1m[37m[41m;[24;42H;
[0m    [1m[37m[41m}[6C{[26;32H;[28;46H;
[0m    [1m[37m[41m}[0m[21;29H[[1C[1m[37m[41m;[0m[30;80H1[21;31H[34h[?25h[?25l[[1m[37m[41m;[0m[21;31H[K[30;80H0[21;30H[34h[?25h[?25l];[21;30H[K[22;29H;[24;42H;
    }[6C{[26;32H;[28;46H;
    }[21;26H[46m[[1C][0m[30;79H29[21;29H[34h[?25h[?25l[46m][0m[[1m[37m[41m;[22;29H;[24;42H;
[0m    [1m[37m[41m}[6C{[26;32H;[28;46H;
[0m    [1m[37m[41m}[0m[21;26H[[1C][30;79H30[21;30H[34h[?25h[?25l[[1m[35m1[0m[1m[37m[41m;[0m[30;80H1[21;31H[34h[?25h[?25l[1m[35m1[0m];[22;29H;[24;42H;
    }[6C{[26;32H;[28;46H;
    }[21;29H[46m[[1C][0m[30;80H2[21;32H[34h[?25h[?25l[30;80H1[21;31H[34h[?25h[?25l[30;80H0[21;30H[34h[?25h[?25l[30;79H29[21;29H[34h[?25h[?25l[46m[[1C][0m[[1C][30;80H8[21;28H[34h[?25h[?25l[30;80H7[21;27H[34h[?25h[?25l[30;80H6[21;26H[34h[?25h[?25l[[1C][30;80H5[21;25H[34h[?25h[?25l[30;80H4[21;24H[34h[?25h[?25l[30;80H3[21;23H[34h[?25h[?25l[30;80H2[21;22H[34h[?25h[?25l &argv[[1m[35m1[0m][[1m[35m1[0m];[30;80H3[21;23H[34h[?25h[30;1H[K[21;22H[?25l[30;75H302,22[8C46%[21;22H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25hq[?25l[34h[?25h[?25l[30;3H[K[30;3H[34h[?25h[?25l"tsh.c" 629L, 16388C written[46C302,22[8C46%[30;75H[K[30;75H302,22[8C46%[21;22H[34h[?25h[?25l[30;77H3[22;22H[34h[?25h[?25l[30;77H4,0-1[23;1H[34h[?25h[?25l[30;77H5,22 [24;22H[34h[?25h[?25l[30;79H4[24;42H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H305,42[8C46%[24;42H[34h[?25h[?25l[30;80H3[24;43H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[30;75H[K[30;75H306,9[9C46%[25;9H[34h[?25h[?25l j[30;79H10[25;10H[34h[?25h[?25ljo[30;80H1[25;11H[34h[?25h[?25lob[30;80H2[25;12H[34h[?25h[?25lb_[30;80H3[25;13H[34h[?25h[?25l_t[30;80H4[25;14H[34h[?25h[?25l[30;80H5[25;15H[34h[?25h[?25l g[30;80H6[25;16H[34h[?25h[?25lge[30;80H7[25;17H[34h[?25h[?25let[30;80H8[25;18H[34h[?25h[?25ltj[30;80H9[25;19H[34h[?25h[?25ljo[30;79H20[25;20H[34h[?25h[?25lob[30;80H1[25;21H[34h[?25h[?25lbj[30;80H2[25;22H[34h[?25h[?25lji[30;80H3[25;23H[34h[?25h[?25lid[30;80H4[25;24H[34h[?25h[30;1H[K[25;23H[?25l[30;75H306,23[8C46%[25;23H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 630L, 16412C written[46C306,23[8C46%[30;75H[K[30;75H306,23[8C46%[25;23H[34h[?25h[?25l[23m[24m[0m[H[J[3;1H[1m[36m/* Function prototypes */

/* Here are the functions that you will implement */[0m
[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline);
[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv);
[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);
[1m[32mvoid[0m waitfg(pid_t pid);

[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig);
[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig);
[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig);

[1m[36m/* Here are helper routines that we've provided for you */[0m
[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv);
[1m[32mvoid[0m sigquit_handler([1m[32mint[0m sig);

[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job);
[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs);
[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs);
[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline);
[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid);
pid_t fgpid([1m[32mstruct[0m job_t *jobs);
[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);
[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);
[1m[32mint[0m pid2jid(pid_t pid);
[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);[30;75H68,1[11C8%[15;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;4H bg = (c == [1m[35m'f'[0m) ? [1m[35m0[0m : ((c == [1m[35m'b'[0m) ? [1m[35m1[0m : -[1m[35m1[0m); [1m[36m// FG -> 0, BG -> 1, else -1[0m[3;4H [1m[36m//Assert, command is either bg or fg.[0m
    [1m[33mif[0m (bg == -[1m[35m1[0m) {[5;8H printf([1m[35m"Bad do_bgfg call."[0m);[6;8H [1m[33mreturn[0m;
    }[9;4H [1m[36m// Bad arguments: No args or too many[0m
    [1m[33mif[0m (argv[[1m[35m1[0m] == [1m[35m0[0m || argv[[1m[35m2[0m] != [1m[35m0[0m) {[11;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m command requires PID or [0m[1m[31m%%[0m[1m[35mjobid argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[12;8H [1m[33mreturn[0m;
    }[15;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[16;8H [1m[32mchar[0m *rest = &argv[[1m[35m1[0m][[1m[35m1[0m];[17;8H [1m[32mint[0m jid = atoi(rest);[19;8H printf([1m[35m"Look for job #[0m[1m[31m%d\n[0m[1m[35m"[0m, jid);[20;8H job_t getjobjid
    } [1m[33melse[0m {[22;8H [1m[32mint[0m pid = atoi(argv[[1m[35m1[0m]);[24;8H printf([1m[35m"Look for process #[0m[1m[31m%d\n[0m[1m[35m"[0m, pid);
    }[27;4H [1m[33mreturn[0m;
}[30;75H301,5[9C47%[15;5H[34h[?25h[?25l[30;77H2[16;5H[34h[?25h[?25l[30;77H3[17;5H[34h[?25h[?25l[30;77H4,0-1[18;1H[34h[?25h[?25l[30;77H5,5  [19;5H[34h[?25h[?25l[30;77H6[20;5H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H306,5[9C47%[20;5H[34h[?25h[?25l[30;79H24[20;24H[34h[?25h[?25l[20;23H[K[30;80H3[20;23H[34h[?25h[?25l[20;22H[K[30;80H2[20;22H[34h[?25h[?25l[20;21H[K[30;80H1[20;21H[34h[?25h[?25l[20;20H[K[30;80H0[20;20H[34h[?25h[?25l[20;19H[K[30;79H19[20;19H[34h[?25h[?25l[20;18H[K[30;80H8[20;18H[34h[?25h[?25l[20;17H[K[30;80H7[20;17H[34h[?25h[?25l[20;16H[K[30;80H6[20;16H[34h[?25h[?25l[20;15H[K[30;80H5[20;15H[34h[?25h[?25l[30;80H4[20;14H[34h[?25h[?25l[30;80H3[20;13H[34h[?25h[?25l[30;80H2[20;12H[34h[?25h[?25l[30;80H1[20;11H[34h[?25h[?25l[30;80H0[20;10H[34h[?25h[?25l[30;79H9 [20;9H[34h[?25h[?25l sjob_t[30;79H10[20;10H[34h[?25h[?25lstjob_t[30;80H1[20;11H[34h[?25h[?25ltrjob_t[30;80H2[20;12H[34h[?25h[?25lrujob_t[30;80H3[20;13H[34h[?25h[?25lucjob_t[30;80H4[20;14H[34h[?25h[?25lctjob_t[30;80H5[20;15H[34h[?25h[?25l[1m[32mstruct[0m job_t[30;80H6[20;16H[34h[?25h[?25l[30;79H21[20;21H[34h[?25h[?25l[30;77H5,43[19;43H[34h[?25h[?25l[30;77H4,1 [18;1H[34h[?25h[?25l[30;77H3,30[17;30H[34h[?25h[?25l[30;77H2,34[16;34H[34h[?25h[?25l[15;28H[46m{[21;5H}[0m[30;77H1,29[15;29H[34h[?25h[?25l{[21;5H}[30;77H0,1 [14;1H[34h[?25h[?25l[10;39H[46m{[13;5H}[0m[30;75H299,6[13;6H[34h[?25h[?25l[10;39H{[13;5H}[30;75H300,1[14;1H[34h[?25h[?25l[15;29r[15;1H[L[1;30r[30;75H[K[30;75H301,1[9C47%[15;1H[34h[?25h[?25l[30;79H5[15;5H[34h[?25h[?25l s[30;79H6[15;6H[34h[?25h[?25lst[30;79H7[15;7H[34h[?25h[?25ltr[30;79H8[15;8H[34h[?25h[?25lru[30;79H9[15;9H[34h[?25h[?25luc[30;79H10[15;10H[34h[?25h[?25l[1m[32mstruct[0m[30;80H1[15;11H[34h[?25h[?25l[30;80H2[15;12H[34h[?25h[?25l j[30;80H3[15;13H[34h[?25h[?25ljo[30;80H4[15;14H[34h[?25h[?25lob[30;80H5[15;15H[34h[?25h[?25lb_[30;80H6[15;16H[34h[?25h[?25l_t[30;80H7[15;17H[34h[?25h[?25l[15;16H[K[30;80H6[15;16H[34h[?25h[?25l[15;15H[K[30;80H5[15;15H[34h[?25h[?25l[15;14H[K[30;80H4[15;14H[34h[?25h[?25l[15;13H[K[30;80H3[15;13H[34h[?25h[?25l[15;12H[K[30;80H2[15;12H[34h[?25h[?25l[30;80H1[15;11H[34h[?25h[?25l    struc[15;10H[K[30;80H0[15;10H[34h[?25h[?25l[15;9H[K[30;79H9 [15;9H[34h[?25h[?25l[15;8H[K[30;79H8[15;8H[34h[?25h[?25l[15;7H[K[30;79H7[15;7H[34h[?25h[?25l[15;6H[K[30;79H6[15;6H[34h[?25h[?25l[15;5H[K[30;79H5[15;5H[34h[?25h[?25l[30;79H4[15;4H[34h[?25h[?25l[30;79H3[15;3H[34h[?25h[?25l[30;79H2[15;2H[34h[?25h[?25l[30;79H1[15;1H[34h[?25h[?25l[14;29r[29;1H
[1;30r[30;75H[K[30;75H300,1[9C47%[14;1H[34h[?25h[?25l[30;77H1[15;1H[34h[?25h[?25l[30;77H2[16;1H[34h[?25h[?25l[30;77H3[17;1H[34h[?25h[?25l[30;77H4[18;1H[34h[?25h[?25l[30;77H5[19;1H[34h[?25h[?25l[30;77H6[20;1H[34h[?25h[?25l[30;79H21[20;21H[34h[?25h[?25l[30;80H2[20;22H[34h[?25h[?25l *[30;80H3[20;23H[34h[?25h[?25l*j[30;80H4[20;24H[34h[?25h[?25ljo[30;80H5[20;25H[34h[?25h[?25lob[30;80H6[20;26H[34h[?25h[?25l[30;80H7[20;27H[34h[?25h[?25l =[30;80H8[20;28H[34h[?25h[?25l[30;80H9[20;29H[34h[?25h[?25l g[30;79H30[20;30H[34h[?25h[?25lge[30;80H1[20;31H[34h[?25h[?25let[30;80H2[20;32H[34h[?25h[?25ltj[30;80H3[20;33H[34h[?25h[?25ljo[30;80H4[20;34H[34h[?25h[?25lob[30;80H5[20;35H[34h[?25h[?25lbj[30;80H6[20;36H[34h[?25h[?25lji[30;80H7[20;37H[34h[?25h[?25lid[30;80H8[20;38H[34h[?25h[?25ld(
    [1m[37m[41m}[6C{[25;5H}


}[0m[30;80H9[20;39H[34h[?25h[?25l()
    }[6C{[25;5H}


}[20;38H[46m()[0m[30;79H40[20;40H[34h[?25h[?25l[46m)[0m;()[30;80H1[20;41H[34h[?25h[?25l[46m()[0m[30;80H0[20;40H[34h[?25h[?25l[30;79H39[20;39H[34h[?25h[?25l[46m(j[0m);j[46m)[0m[30;79H40[20;40H[34h[?25h[?25lj[46mi[0m);i[46m)[0m[30;80H1[20;41H[34h[?25h[?25li[46md[0m);d[46m)[0m[30;80H2[20;42H[34h[?25h[?25l[30;80H3[20;43H[34h[?25h[?25l(jid)[30;80H4[20;44H[34h[?25h[?25l[30;77H5,43[19;43H[34h[?25h[?25l[30;77H6,44[20;44H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[30;75H[K[30;75H307,9[9C47%[21;9H[34h[?25h[?25l[30;77H6[20;9H[34h[?25h[?25l[30;77H5[19;9H[34h[?25h[?25l[30;79H43[19;43H[34h[?25h[?25l[30;77H6,44[20;44H[34h[?25h[?25l[30;77H7,1 [21;1H[34h[?25h[?25l[22;12H[46m{[26;5H}[0m[30;77H8,13[22;13H[34h[?25h[?25l{[26;5H}[30;77H7,1 [21;1H[34h[?25h[?25l[30;79H5[21;5H[34h[?25h[?25l[30;79H9[21;9H[34h[?25h[30;1H[K[21;8H[?25l[30;75H307,8[9C47%[21;8H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hd[?25l[34h[?25h[?25l[30;2H[K[30;2H[34h[?25h [?25l[73C307,8[9C47%[21;8H[34h[?25h[?25l[23m[24m[0m[H[J[3;1H[1m[36m/* Function prototypes */

/* Here are the functions that you will implement */[0m
[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline);
[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv);
[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv);
[1m[32mvoid[0m waitfg(pid_t pid);

[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig);
[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig);
[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig);

[1m[36m/* Here are helper routines that we've provided for you */[0m
[1m[32mint[0m parseline([1m[32mconst[0m [1m[32mchar[0m *cmdline, [1m[32mchar[0m **argv);
[1m[32mvoid[0m sigquit_handler([1m[32mint[0m sig);

[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job);
[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs);
[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs);
[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline);
[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid);
pid_t fgpid([1m[32mstruct[0m job_t *jobs);
[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid);
[1m[32mstruct[0m job_t *getjobjid([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid);
[1m[32mint[0m pid2jid(pid_t pid);
[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs);[30;75H68,1[11C8%[15;1H[34h[?25h[?25l[30;75H[K[30;1H/[34h[?25hg[?25l[34h[?25he[?25l[34h[?25ht[?25l[34h[?25hj[?25l[34h[?25ho[?25l[34h[?25hb[?25l[34h[?25hj[?25l[34h[?25hi[?25l[34h[?25hd[?25l[34h[?25h[?25l[26;15H[30m[43mgetjobjid[0m[30;75H79,15[10C8%[26;15H[34h[?25h[?25l[30;75H80,1 [27;1H[34h[?25h[?25l[30;75H[K[30;1H[23m[24m[0m[H[J[1;8H [1m[33mreturn[0m;
    }[4;4H [1m[36m// Bad arguments: No args or too many[0m
    [1m[33mif[0m (argv[[1m[35m1[0m] == [1m[35m0[0m || argv[[1m[35m2[0m] != [1m[35m0[0m) {[6;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m command requires PID or [0m[1m[31m%%[0m[1m[35mjobid argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[7;8H [1m[33mreturn[0m;
    }[10;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[11;8H [1m[32mchar[0m *rest = &argv[[1m[35m1[0m][[1m[35m1[0m];[12;8H [1m[32mint[0m jid = atoi(rest);[14;8H printf([1m[35m"Look for job #[0m[1m[31m%d\n[0m[1m[35m"[0m, jid);[15;8H [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jid);[17;4H } [1m[33melse[0m {[18;8H [1m[32mint[0m pid = atoi(argv[[1m[35m1[0m]);[20;8H printf([1m[35m"Look for process #[0m[1m[31m%d\n[0m[1m[35m"[0m, pid);
    }[23;4H [1m[33mreturn[0m;
}

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m
[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H306,29[8C48%[15;29H[34h[?25h[?25l[30;1H/getjobjid[30;75H[K[30;1H[23m[24m[0m[H[J[1;1H}

[1m[36m/* getjobpid  - Find a job (by PID) on the job list */[0m
[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid) {
    [1m[32mint[0m i;[7;4H [1m[33mif[0m (pid < [1m[35m1[0m)
    [1m[33mreturn[0m [1m[35mNULL[0m;
    [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)
    [1m[33mif[0m (jobs[i].pid == pid)[11;8H [1m[33mreturn[0m &jobs[i];
    [1m[33mreturn[0m [1m[35mNULL[0m;
}

[1m[36m/* [0m[1m[30m[43mgetjobjid[0m[1m[36m  - Find a job (by JID) on the job list */[0m
[1m[32mstruct[0m job_t *[30m[43mgetjobjid[0m([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid)
{
    [1m[32mint[0m i;[20;4H [1m[33mif[0m (jid < [1m[35m1[0m)
    [1m[33mreturn[0m [1m[35mNULL[0m;
    [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)
    [1m[33mif[0m (jobs[i].jid == jid)[24;8H [1m[33mreturn[0m &jobs[i];
    [1m[33mreturn[0m [1m[35mNULL[0m;
}

[1m[36m/* pid2jid - Map process ID to job ID */[0m
[1m[32mint[0m pid2jid(pid_t pid)[30;75H512,4[9C82%[15;4H[34h[?25h[?25l[30;1H?getjobjid[30;75H[K[30;1H[23m[24m[0m[H[J[1;8H [1m[33mreturn[0m;
    }[4;4H [1m[36m// Bad arguments: No args or too many[0m
    [1m[33mif[0m (argv[[1m[35m1[0m] == [1m[35m0[0m || argv[[1m[35m2[0m] != [1m[35m0[0m) {[6;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m command requires PID or [0m[1m[31m%%[0m[1m[35mjobid argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[7;8H [1m[33mreturn[0m;
    }[10;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[11;8H [1m[32mchar[0m *rest = &argv[[1m[35m1[0m][[1m[35m1[0m];[12;8H [1m[32mint[0m jid = atoi(rest);[14;8H printf([1m[35m"Look for job #[0m[1m[31m%d\n[0m[1m[35m"[0m, jid);[15;8H [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jid);[17;4H } [1m[33melse[0m {[18;8H [1m[32mint[0m pid = atoi(argv[[1m[35m1[0m]);[20;8H printf([1m[35m"Look for process #[0m[1m[31m%d\n[0m[1m[35m"[0m, pid);
    }[23;4H [1m[33mreturn[0m;
}

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m
[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H306,29[8C48%[15;29H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H306,29[8C48%[15;29H[34h[?25h[?25l[30;79H30[15;30H[34h[?25h[?25l[30;80H1[15;31H[34h[?25h[?25l[30;77H7,9 [16;9H[34h[?25h[?25l[30;77H6,31[15;31H[34h[?25h[?25l[30;79H44[15;44H[34h[?25h[?25l[16;29r[16;1H[L[1;30r[30;75H[K[30;75H307,9[9C48%[16;9H[34h[?25h[?25l[17;29r[17;1H[L[1;30r[30;75H[K[30;75H308,9[9C48%[17;9H[34h[?25h[?25l i[30;79H10[17;10H[34h[?25h[?25l[1m[33mif[0m[30;80H1[17;11H[34h[?25h[?25l[30;80H2[17;12H[34h[?25h[?25l ([19;5H[1m[37m[41m}[6C{[23;5H}


}[0m[30;80H3[17;13H[34h[?25h[?25l(j[30;80H4[17;14H[34h[?25h[?25ljo[30;80H5[17;15H[34h[?25h[?25lob[30;80H6[17;16H[34h[?25h[?25l[30;80H7[17;17H[34h[?25h[?25l =[30;80H8[17;18H[34h[?25h[?25l==[30;80H9[17;19H[34h[?25h[?25l[30;79H20[17;20H[34h[?25h[?25l N[30;80H1[17;21H[34h[?25h[?25lNU[30;80H2[17;22H[34h[?25h[?25lUL[30;80H3[17;23H[34h[?25h[?25l[1m[35mNULL[0m[30;80H4[17;24H[34h[?25h[?25l[1m[35mL[0m)[19;5H}[6C{[23;5H}


}[17;12H[46m([11C)[0m[30;80H5[17;25H[34h[?25h[?25l[17;12H([11C)[30;80H6[17;26H[34h[?25h[?25l {[46m{[19;5H}[0m[30;80H7[17;27H[34h[?25h[?25l[18;29r[18;1H[L[1;30r[19;5H[46m [0m[30;75H[K[30;75H309,13[8C48%[17;26H{[19;5H 
    }[18;13H[34h[?25h[?25l }[17;26H[46m{[18;9H}[0m[30;80H0[18;10H[34h[?25h[?25l[17;26H{[18;9H}[30;77H8[17;10H[34h[?25h[?25l[16C[46m{[18;9H}[0m[30;79H27[17;27H[34h[?25h[?25l[18;29r[18;1H[L[1;30r[18;9H[46m [0m[19;9H}[30;75H[K[30;75H309,13[8C48%[17;26H{[18;9H    [34h[?25h[?25l[30;80H7[18;17H[34h[?25h[?25l[30;80H6[18;16H[34h[?25h[?25l[30;80H5[18;15H[34h[?25h[?25l[30;80H4[18;14H[34h[?25h[?25l[30;80H3[18;13H[34h[?25h[?25l[30;80H2[18;12H[34h[?25h[?25l[30;80H1[18;11H[34h[?25h[?25l[30;80H0[18;10H[34h[?25h[?25l[30;79H9 [18;9H[34h[?25h[?25l[30;79H13[18;13H[34h[?25h[?25l p[30;80H4[18;14H[34h[?25h[?25lpr[30;80H5[18;15H[34h[?25h[?25lri[30;80H6[18;16H[34h[?25h[?25lin[30;80H7[18;17H[34h[?25h[?25lnt[30;80H8[18;18H[34h[?25h[?25ltf[30;80H9[18;19H[34h[?25h[?25l[30;79H20[18;20H[34h[?25h[?25l[30;79H19[18;19H[34h[?25h[?25lf([19;9H[1m[37m[41m}[21;5H}[6C{[25;5H}


}[0m[30;79H20[18;20H[34h[?25h[?25l()[19;9H}[21;5H}[6C{[25;5H}


}[18;19H[46m()[0m[30;80H1[18;21H[34h[?25h[?25l[46m)[0m;()[30;80H2[18;22H[34h[?25h[?25l[46m()[0m[30;80H1[18;21H[34h[?25h[?25l[30;80H0[18;20H[34h[?25h[?25l[30;79H19[18;19H[34h[?25h[?25l[30;79H20[18;20H[34h[?25h[?25l[46m(a[0m);a[46m)[0m[30;80H1[18;21H[34h[?25h[?25la[46mr[0m);r[46m)[0m[30;80H2[18;22H[34h[?25h[?25lr[46mv[0m);v[46m)[0m[30;80H3[18;23H[34h[?25h[?25lr)[46m;[0m[18;24H[K[18;22H[46m)[0m;[30;80H2[18;22H[34h[?25h[?25lr[46mg[0m);g[46m)[0m[30;80H3[18;23H[34h[?25h[?25lg[46mv[0m);v[46m)[0m[30;80H4[18;24H[34h[?25h[?25lv[46m[[0m[1m[37m[41m);[19;9H}[21;5H}[6C{[22;32H;[24;46H;
[0m    [1m[37m[41m}[27;11H;
}[0m[18;24H[[1m[37m[46m)[0m[30;80H5[18;25H[34h[?25h[?25l[[1m[35m[46m1[0m[1m[37m[41m);[0m[1m[35m1[0m[1m[37m[46m)[0m[30;80H6[18;26H[34h[?25h[?25l[1m[35m1[0m[46m][0m);[19;9H}[21;5H}[6C{[22;32H;[24;46H;
    }[27;11H;
}[18;26H][46m)[0m[30;80H7[18;27H[34h[?25h[?25l[1m[35m1[0m[1m[37m[41m)[0m[1m[37m[46m;[0m[18;28H[K[19;9H[1m[37m[41m}[21;5H}[6C{[22;32H;[24;46H;
[0m    [1m[37m[41m}[27;11H;
}[0m[18;26H[1m[37m[46m)[0m[1m[37m[41m;[0m[30;80H6[18;26H[34h[?25h[?25l[[1m[37m[41m)[0m[1m[37m[46m;[0m[18;27H[K[18;25H[1m[37m[46m)[0m[1m[37m[41m;[0m[30;80H5[18;25H[34h[?25h[?25lv)[46m;[0m[18;26H[K[19;9H}[21;5H}[6C{[22;32H;[24;46H;
    }[27;11H;
}[18;24H[46m)[0m;[30;80H4[18;24H[34h[?25h[?25lg)[46m;[0m[18;25H[K[18;23H[46m)[0m;[30;80H3[18;23H[34h[?25h[?25lr)[46m;[0m[18;24H[K[18;22H[46m)[0m;[30;80H2[18;22H[34h[?25h[?25la)[46m;[0m[18;23H[K[18;21H[46m)[0m;[30;80H1[18;21H[34h[?25h[?25l[46m([0m)[46m;[0m[18;22H[K[18;20H[46m)[0m;[30;80H0[18;20H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m);
        }
        
    } else {
        int pid = atoi(argv[1]);

        printf([0m[1CLook [1m[33mfor[0m process #%d\n[1C[1m[35m, pid);
    }

    return;
}[18;20H"[0m[1m[35m[46m)[0m[30;80H1[18;21H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m%[0m[1m[35m);%[0m[1m[35m[46m)[0m[30;80H2[18;22H[34h[?25h[?25l[1m[31m%[0m[1m[31m[46ms[0m[1m[35m);[0m[1m[31ms[0m[1m[35m[46m)[0m[30;80H3[18;23H[34h[?25h[?25l[1m[31ms[0m[1m[35m[46m [0m[1m[35m); [0m[1m[35m[46m)[0m[30;80H4[18;24H[34h[?25h[?25l[1m[31ms[0m[1m[35m)[0m[1m[35m[46m;[0m[18;25H[K[18;23H[1m[35m[46m)[0m[1m[35m;[0m[30;80H3[18;23H[34h[?25h[?25l[1m[31ms[0m[1m[35m[46m:[0m[1m[35m);:[0m[1m[35m[46m)[0m[30;80H4[18;24H[34h[?25h[?25l[1m[35m:[0m[1m[35m[46m [0m[1m[35m); [0m[1m[35m[46m)[0m[30;80H5[18;25H[34h[?25h[?25l[1m[35m [0m[1m[35m[46mN[0m[1m[35m);N[0m[1m[35m[46m)[0m[30;80H6[18;26H[34h[?25h[?25l[1m[35mN[0m[1m[35m[46mo[0m[1m[35m);o[0m[1m[35m[46m)[0m[30;80H7[18;27H[34h[?25h[?25l[1m[35mo[0m[1m[35m[46m [0m[1m[35m); [0m[1m[35m[46m)[0m[30;80H8[18;28H[34h[?25h[?25l[1m[35m [0m[1m[35m[46ms[0m[1m[35m);s[0m[1m[35m[46m)[0m[30;80H9[18;29H[34h[?25h[?25l[1m[35ms[0m[1m[35m[46mu[0m[1m[35m);u[0m[1m[35m[46m)[0m[30;79H30[18;30H[34h[?25h[?25l[1m[35mu[0m[1m[35m[46mc[0m[1m[35m);c[0m[1m[35m[46m)[0m[30;80H1[18;31H[34h[?25h[?25l[1m[35mc[0m[1m[35m[46mh[0m[1m[35m);h[0m[1m[35m[46m)[0m[30;80H2[18;32H[34h[?25h[?25l[1m[35mh[0m[1m[35m[46m [0m[1m[35m); [0m[1m[35m[46m)[0m[30;80H3[18;33H[34h[?25h[?25l[1m[35m [0m[1m[35m[46mj[0m[1m[35m);j[0m[1m[35m[46m)[0m[30;80H4[18;34H[34h[?25h[?25l[1m[35mj[0m[1m[35m[46mo[0m[1m[35m);o[0m[1m[35m[46m)[0m[30;80H5[18;35H[34h[?25h[?25l[1m[35mo[0m[1m[35m[46mb[0m[1m[35m);b[0m[1m[35m[46m)[0m[30;80H6[18;36H[34h[?25h[?25l[1m[35mb[0m[1m[35m[46m"[0m);
        }
        
    } [1m[33melse[0m {
        [1m[32mint[0m pid = atoi(argv[[1C]);

        printf([1C[1m[35mLook for process #[0m[1m[31m%d\n[0m[1C, pid);
    }

    [1m[33mreturn[0m;
}[18;36H[1m[35m"[0m[46m)[0m[30;80H7[18;37H[34h[?25h[?25l[1m[35m"[0m[46m,[0m);,[46m)[0m[30;80H8[18;38H[34h[?25h[?25l,[46m [0m); [46m)[0m[30;80H9[18;39H[34h[?25h[?25l [46ma[0m);a[46m)[0m[30;79H40[18;40H[34h[?25h[?25la[46mr[0m);r[46m)[0m[30;80H1[18;41H[34h[?25h[?25lr[46mg[0m);g[46m)[0m[30;80H2[18;42H[34h[?25h[?25lg[46mv[0m);v[46m)[0m[30;80H3[18;43H[34h[?25h[?25lv[46m[[0m[1m[37m[41m);[19;9H}[21;5H}[6C{[22;32H;[24;46H;
[0m    [1m[37m[41m}[27;11H;
}[0m[18;43H[[1m[37m[46m)[0m[30;80H4[18;44H[34h[?25h[?25l[[1m[35m[46m1[0m[1m[37m[41m);[0m[1m[35m1[0m[1m[37m[46m)[0m[30;80H5[18;45H[34h[?25h[?25l[1m[35m1[0m[46m][0m);[19;9H}[21;5H}[6C{[22;32H;[24;46H;
    }[27;11H;
}[18;45H][46m)[0m[30;80H6[18;46H[34h[?25h[?25l[30;80H7[18;47H[34h[?25h[?25l[18;19H([26C)[30;80H8[18;48H[34h[?25h[?25l[19;29r[19;1H[L[1;30r[30;75H[K[30;75H310,13[8C47%[19;13H[34h[?25h[?25l r[30;80H4[19;14H[34h[?25h[?25lre[30;80H5[19;15H[34h[?25h[?25let[30;80H6[19;16H[34h[?25h[?25ltu[30;80H7[19;17H[34h[?25h[?25lur[30;80H8[19;18H[34h[?25h[?25l[1m[33mreturn[0m[30;80H9[19;19H[34h[?25h[?25l[1m[33mn[0m;[30;79H20[19;20H[34h[?25h[?25l[18;19H[46m([26C)[0m[30;76H09[18;20H[34h[?25h[?25l([26C)[30;77H8[17;20H[34h[?25h[?25l[30;77H7,1 [16;1H[34h[?25h[?25l[30;77H6,20[15;20H[34h[?25h[?25l[30;79H44[15;44H[34h[?25h[?25l[30;77H5,43[14;43H[34h[?25h[?25l[14;42H[K[14;15H[46m([25C)[0m[30;80H2[14;42H[34h[?25h[?25l[14;41H[K[17;26H[1m[37m[41m{[20;9H}[22;5H}[6C{[26;5H}


}[0m[14;15H([30;80H1[14;41H[34h[?25h[?25l[14;40H[K[30;80H0[14;40H[34h[?25h[?25l[14;39H[K[30;79H39[14;39H[34h[?25h[?25l[14;38H[K[30;80H8[14;38H[34h[?25h[?25l[30;80H7[14;37H[34h[?25h[?25l[14;36H[K[30;80H6[14;36H[34h[?25h[?25l[14;35H[K[15;1H[1m[35m        struct job_t *job = [0m[1m[30m[43mgetjobjid[0m[1m[35m(jid);

        if (job == NULL) {
            printf([0m[1C%s: No such job[1C[1m[35m, argv[1]);
            return;
        }
        
    } else {
        int pid = atoi(argv[1]);

        printf([0m[1CLook [1m[33mfor[0m process #%d\n[1C[1m[35m, pid);
    }

    return;
}[0m[30;80H5[14;35H[34h[?25h[?25l[14;34H[K[30;80H4[14;34H[34h[?25h[?25l[14;33H[K[30;80H3[14;33H[34h[?25h[?25l[1m[35m%[0m[14;32H[K[30;80H2[14;32H[34h[?25h[?25l[14;31H[K[30;80H1[14;31H[34h[?25h[?25l[14;30H[K[30;80H0[14;30H[34h[?25h[?25l[14;29H[K[30;79H29[14;29H[34h[?25h[?25l[14;28H[K[30;80H8[14;28H[34h[?25h[?25l[14;27H[K[30;80H7[14;27H[34h[?25h[?25l[14;26H[K[30;80H6[14;26H[34h[?25h[?25l[14;25H[K[30;80H5[14;25H[34h[?25h[?25l[14;24H[K[30;80H4[14;24H[34h[?25h[?25l[14;23H[K[30;80H3[14;23H[34h[?25h[?25l[14;22H[K[30;80H2[14;22H[34h[?25h[?25l[14;21H[K[30;80H1[14;21H[34h[?25h[?25l[14;20H[K[30;80H0[14;20H[34h[?25h[?25l[14;19H[K[30;79H19[14;19H[34h[?25h[?25l[14;18H[K[30;80H8[14;18H[34h[?25h[?25l[14;17H[K[30;80H7[14;17H[34h[?25h[?25l[14;16H[K[15;1H        [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jid);

        [1m[33mif[0m (job == [4C) [1m[37m[41m{[0m
            printf([1C[1m[31m%s[0m[1m[35m: No such job[0m[1C, argv[[1C]);
            [1m[33mreturn[0m;
        [1m[37m[41m}[0m
        
    [1m[37m[41m}[0m [1m[33melse[0m [1m[37m[41m{[0m
        [1m[32mint[0m pid = atoi(argv[[1C]);

        printf([1C[1m[35mLook for process #[0m[1m[31m%d\n[0m[1C, pid);
    [1m[37m[41m}[0m

    [1m[33mreturn[0m;
[1m[37m[41m}[0m[30;80H6[14;16H[34h[?25h[?25l[14;15H[K[17;26H{[20;9H}[22;5H}[6C{[26;5H}


}[30;80H5[14;15H[34h[?25h[?25l[14;14H[K[30;80H4[14;14H[34h[?25h[?25l[14;13H[K[30;80H3[14;13H[34h[?25h[?25l[14;12H[K[30;80H2[14;12H[34h[?25h[?25l[14;11H[K[30;80H1[14;11H[34h[?25h[?25l[14;10H[K[30;80H0[14;10H[34h[?25h[?25l[14;9H[K[30;79H9 [14;9H[34h[?25h[?25l[30;79H8[14;8H[34h[?25h[?25l[30;79H7[14;7H[34h[?25h[?25l[30;79H6[14;6H[34h[?25h[?25l[30;79H5[14;5H[34h[?25h[?25l[30;79H4[14;4H[34h[?25h[?25l[30;79H3[14;3H[34h[?25h[?25l[30;79H2[14;2H[34h[?25h[?25l[30;79H1[14;1H[34h[?25h[?25l[13;29r[29;1H
[1;30r[30;75H[K[30;75H304,1[9C48%[13;1H[34h[?25h[?25l[12;29r[29;1H
[1;30r[12;8H [1m[32mint[0m jid = atoi(rest);[29;1H[1m[36m/* [0m[30;75H[K[30;75H303,30[8C48%[12;30H[34h[?25h[?25l[30;77H4[13;30H[34h[?25h[?25l[30;77H5,1 [14;1H[34h[?25h[?25l[15;26H[46m{[18;9H}[0m[30;77H6,27[15;27H[34h[?25h[?25l{[18;9H}[30;77H7,30[16;30H[34h[?25h[?25l[30;77H8,2[17;20H[34h[?25h[?25l[15;26H[46m{[18;9H}[0m[30;77H9,1[18;10H[34h[?25h[?25l[15;26H{[18;9H}[30;76H10,9 [19;9H[34h[?25h[?25l[20;12H[46m{[24;5H}[0m[30;77H1,13[20;13H[34h[?25h[?25l{[21;28H[46m[[1C][0m[24;5H}[30;77H2,30[21;30H[34h[?25h[?25l[[1C][30;77H3,1 [22;1H[34h[?25h[?25l[30;77H4,30[23;30H[34h[?25h[?25l[30;79H47[23;47H[34h[?25h[?25l[23;46H[K[23;15H[46m([29C)[0m[30;80H6[23;46H[34h[?25h[?25l[23;45H[K[24;5H[1m[37m[41m}


}[0m[23;15H([30;80H5[23;45H[34h[?25h[?25l[23;44H[K[30;80H4[23;44H[34h[?25h[?25l[23;43H[K[30;80H3[23;43H[34h[?25h[?25l[23;42H[K[30;80H2[23;42H[34h[?25h[?25l[30;80H1[23;41H[34h[?25h[?25l[23;40H[K[30;80H0[23;40H[34h[?25h[?25l[23;39H[K[24;1H[1m[35m    }

    return;
}

/* [0m[30;79H39[23;39H[34h[?25h[?25l[23;38H[K[30;80H8[23;38H[34h[?25h[?25l[23;37H[K[30;80H7[23;37H[34h[?25h[?25l[1m[35m%[0m[23;36H[K[30;80H6[23;36H[34h[?25h[?25l[23;35H[K[30;80H5[23;35H[34h[?25h[?25l[23;34H[K[30;80H4[23;34H[34h[?25h[?25l[23;33H[K[30;80H3[23;33H[34h[?25h[?25l[23;32H[K[30;80H2[23;32H[34h[?25h[?25l[23;31H[K[30;80H1[23;31H[34h[?25h[?25l[23;30H[K[30;80H0[23;30H[34h[?25h[?25l[23;29H[K[30;79H29[23;29H[34h[?25h[?25l[23;28H[K[30;80H8[23;28H[34h[?25h[?25l[23;27H[K[30;80H7[23;27H[34h[?25h[?25l[23;26H[K[30;80H6[23;26H[34h[?25h[?25l[23;25H[K[30;80H5[23;25H[34h[?25h[?25l[23;24H[K[30;80H4[23;24H[34h[?25h[?25l[23;23H[K[30;80H3[23;23H[34h[?25h[?25l[23;22H[K[30;80H2[23;22H[34h[?25h[?25l[23;21H[K[30;80H1[23;21H[34h[?25h[?25l[23;20H[K[30;80H0[23;20H[34h[?25h[?25l[23;19H[K[30;79H19[23;19H[34h[?25h[?25l[23;18H[K[30;80H8[23;18H[34h[?25h[?25l[23;17H[K[30;80H7[23;17H[34h[?25h[?25l[23;16H[K[24;1H    [1m[37m[41m}[0m

    [1m[33mreturn[0m;
[1m[37m[41m}[0m

[1m[36m/* [0m[30;80H6[23;16H[34h[?25h[?25l[23;15H[K[24;5H}


}[30;80H5[23;15H[34h[?25h[?25l[23;14H[K[30;80H4[23;14H[34h[?25h[?25l[23;13H[K[30;80H3[23;13H[34h[?25h[?25l[23;12H[K[30;80H2[23;12H[34h[?25h[?25l[23;11H[K[30;80H1[23;11H[34h[?25h[?25l[23;10H[K[30;80H0[23;10H[34h[?25h[?25l[23;9H[K[30;79H9 [23;9H[34h[?25h[?25l[30;79H8[23;8H[34h[?25h[?25l[30;79H7[23;7H[34h[?25h[?25l[30;79H6[23;6H[34h[?25h[?25l[30;79H5[23;5H[34h[?25h[?25l[30;79H4[23;4H[34h[?25h[?25l[30;79H3[23;3H[34h[?25h[?25l[30;79H2[23;2H[34h[?25h[?25l[30;79H1[23;1H[34h[?25h[?25l[22;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H313,1[9C48%[22;1H[34h[?25h[?25l[21;29r[29;1H
[1;30r[21;8H [1m[32mint[0m pid = atoi(argv[[1m[35m1[0m]);[29;1H[1m[36m */[0m[30;75H[K[30;75H312,33[8C48%[21;33H[34h[?25h[?25l[22;29r[22;1H[L[1;30r[30;75H[K[30;75H313,9[9C48%[22;9H[34h[?25h[?25l s[30;79H10[22;10H[34h[?25h[?25lst[30;80H1[22;11H[34h[?25h[?25ltr[30;80H2[22;12H[34h[?25h[?25lru[30;80H3[22;13H[34h[?25h[?25luc[30;80H4[22;14H[34h[?25h[?25l[1m[32mstruct[0m[30;80H5[22;15H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25l j[30;80H7[22;17H[34h[?25h[?25ljo[30;80H8[22;18H[34h[?25h[?25lob[30;80H9[22;19H[34h[?25h[?25lb_[30;79H20[22;20H[34h[?25h[?25l_t[30;80H1[22;21H[34h[?25h[?25l[30;80H2[22;22H[34h[?25h[?25l *[30;80H3[22;23H[34h[?25h[?25l*j[30;80H4[22;24H[34h[?25h[?25ljo[30;80H5[22;25H[34h[?25h[?25lob[30;80H6[22;26H[34h[?25h[?25l[30;80H7[22;27H[34h[?25h[?25l =[30;80H8[22;28H[34h[?25h[?25l[30;80H9[22;29H[34h[?25h[?25l g[30;79H30[22;30H[34h[?25h[?25lge[30;80H1[22;31H[34h[?25h[?25let[30;80H2[22;32H[34h[?25h[?25ltj[30;80H3[22;33H[34h[?25h[?25ljo[30;80H4[22;34H[34h[?25h[?25lob[30;80H5[22;35H[34h[?25h[?25lbp[30;80H6[22;36H[34h[?25h[?25lpi[30;80H7[22;37H[34h[?25h[?25lid[30;80H8[22;38H[34h[?25h[?25ld(
    [1m[37m[41m}


}[0m[30;80H9[22;39H[34h[?25h[?25l(p[30;79H40[22;40H[34h[?25h[?25lpi[30;80H1[22;41H[34h[?25h[?25lid[30;80H2[22;42H[34h[?25h[?25ld)
    }


}[22;38H[46m([0mpid[46m)[0m[30;80H3[22;43H[34h[?25h[?25l[46m)[0m;(pid)[30;80H4[22;44H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H314,9[9C48%[23;9H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H315,9[9C48%[24;9H[34h[?25h[?25l i[30;79H10[24;10H[34h[?25h[?25l[1m[33mif[0m[30;80H1[24;11H[34h[?25h[?25l[30;80H2[24;12H[34h[?25h[?25l (
    [1m[37m[41m}


}[0m[30;80H3[24;13H[34h[?25h[?25l(j[30;80H4[24;14H[34h[?25h[?25ljo[30;80H5[24;15H[34h[?25h[?25lob[30;80H6[24;16H[34h[?25h[?25l[30;80H7[24;17H[34h[?25h[?25l =[30;80H8[24;18H[34h[?25h[?25l==[30;80H9[24;19H[34h[?25h[?25l[30;79H20[24;20H[34h[?25h[?25l N[30;80H1[24;21H[34h[?25h[?25lNL[30;80H2[24;22H[34h[?25h[?25lLL[30;80H3[24;23H[34h[?25h[?25l[24;22H[K[30;80H2[24;22H[34h[?25h[?25l[24;21H[K[30;80H1[24;21H[34h[?25h[?25lNU[30;80H2[24;22H[34h[?25h[?25lUL[30;80H3[24;23H[34h[?25h[?25l[1m[35mNULL[0m[30;80H4[24;24H[34h[?25h[?25l[1m[35mL[0m)
    }


}[24;12H[46m([11C)[0m[30;80H5[24;25H[34h[?25h[?25l[24;12H([11C)[30;80H6[24;26H[34h[?25h[?25l {[46m{
[0m    [46m}[0m[30;80H7[24;27H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[25;5H[46m [0m
    }[30;75H[K[30;75H316,13[8C47%[24;26H{
     [7C[34h[?25h[?25l }[24;26H[46m{[25;9H}[0m[30;80H0[25;10H[34h[?25h[?25l[24;26H{[25;9H}[30;77H5[24;10H[34h[?25h[?25l[16C[46m{[25;9H}[0m[30;79H27[24;27H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[25;9H[46m [0m[26;9H}[30;75H[K[30;75H316,13[8C47%[24;26H{[25;9H    [34h[?25h[?25l p[30;80H4[25;14H[34h[?25h[?25lpr[30;80H5[25;15H[34h[?25h[?25lri[30;80H6[25;16H[34h[?25h[?25lin[30;80H7[25;17H[34h[?25h[?25lnt[30;80H8[25;18H[34h[?25h[?25ltf[30;80H9[25;19H[34h[?25h[?25lf([26;9H[1m[37m[41m}
[0m    [1m[37m[41m}[0m[30;79H20[25;20H[34h[?25h[?25l([1m[35m"
        }
    }

    return;[0m[30;80H1[25;21H[34h[?25h[?25l[1m[35m"%[0m[30;80H2[25;22H[34h[?25h[?25l[1m[31m%s[0m[30;80H3[25;23H[34h[?25h[?25l[1m[31ms[0m[1m[35m:[0m[30;80H4[25;24H[34h[?25h[?25l[1m[35m [0m[30;80H5[25;25H[34h[?25h[?25l[1m[35m N[0m[30;80H6[25;26H[34h[?25h[?25l[1m[35mNo[0m[30;80H7[25;27H[34h[?25h[?25l[1m[35m [0m[30;80H8[25;28H[34h[?25h[?25l[1m[35m s[0m[30;80H9[25;29H[34h[?25h[?25l[1m[35msu[0m[30;79H30[25;30H[34h[?25h[?25l[1m[35muc[0m[30;80H1[25;31H[34h[?25h[?25l[1m[35mch[0m[30;80H2[25;32H[34h[?25h[?25l[1m[35m [0m[30;80H3[25;33H[34h[?25h[?25l[1m[35m p[0m[30;80H4[25;34H[34h[?25h[?25l[1m[35mpr[0m[30;80H5[25;35H[34h[?25h[?25l[1m[35mro[0m[30;80H6[25;36H[34h[?25h[?25l[1m[35moc[0m[30;80H7[25;37H[34h[?25h[?25l[1m[35mce[0m[30;80H8[25;38H[34h[?25h[?25l[1m[35mes[0m[30;80H9[25;39H[34h[?25h[?25l[1m[35mss[0m[30;79H40[25;40H[34h[?25h[30;1H[K[25;39H[?25l[30;75H316,39[8C47%[25;39H[34h[?25h[?25l[30;77H5,26[24;26H[34h[?25h[?25l[30;77H4,0-1[23;1H[34h[?25h[?25l[30;77H3,39 [22;39H[34h[?25h[?25l[30;77H2,32[21;32H[34h[?25h[?25l[30;77H1,1[20;12H[34h[?25h[?25l[30;77H0,8 [19;8H[34h[?25h[?25l[15;26H[46m{[18;9H}[0m[30;76H09,9[18;9H[34h[?25h[?25l[15;26H{[18;9H}[30;77H8,19[17;19H[34h[?25h[?25l[30;77H7,3[16;39H[34h[?25h[?25l[15;26H[46m{[18;9H}[0m[30;77H6,26[15;26H[34h[?25h[?25l{[18;9H}[30;77H5,0-1[14;1H[34h[?25h[?25l[30;77H4,39 [13;39H[34h[?25h[?25l[30;77H3,2[12;29H[34h[?25h[?25l[30;77H2,33[11;33H[34h[?25h[?25l[10;28H[46m{[20;5H}[0m[30;77H1,28[10;28H[34h[?25h[?25l{[20;5H}[30;77H2,33[11;33H[34h[?25h[?25l[30;77H3,29[12;29H[34h[?25h[?25l[46m([0mrest[46m)[0m[30;80H8[12;28H[34h[?25h[?25l(rest)[30;80H7[12;27H[34h[?25h[?25l[30;80H6[12;26H[34h[?25h[?25l[30;80H5[12;25H[34h[?25h[?25l[30;80H4[12;24H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H303,24[8C47%[12;24H[34h[?25h[?25l[30;77H2[11;24H[34h[?25h[?25l[30;79H3[11;34H[34h[?25h[?25l[12;29r[12;1H[L[1;30r[30;75H[K[30;75H303,9[9C47%[12;9H[34h[?25h[?25l[12;29r[29;1H
[1;30r[12;8H         [1m[32mint[0m jid = atoi(rest);[29;1H[1m[35m    return;[0m[30;75H[K[30;75H303,9[9C47%[12;9H[34h[?25h[?25l       [1m[32mint[0m jid = atoi(rest);[12;37H[K[12;9H[34h[?25h[?25l      [1m[32mint[0m jid = atoi(rest);[12;36H[K[12;9H[34h[?25h[?25l     [1m[32mint[0m jid = atoi(rest);[12;35H[K[12;9H[34h[?25h[?25l    [1m[32mint[0m jid = atoi(rest);[12;34H[K[12;9H[34h[?25h[?25l   [1m[32mint[0m jid = atoi(rest);[12;33H[K[12;9H[34h[?25h[?25l  [1m[32mint[0m jid = atoi(rest);[12;32H[K[12;9H[34h[?25h3 [?25l [1m[32mint[0m jid = atoi(rest);[12;31H[K[12;9H[34h[?25h[?25l [1m[32mint[0m jid = atoi(rest);[12;30H[K[12;9H[34h[?25h[?25l[30;79H10[12;10H[34h[?25h[?25l[30;80H1[12;11H[34h[?25h[?25l[30;80H2[12;12H[34h[?25h[?25l[30;80H3[12;13H[34h[?25h[?25l[30;80H4[12;14H[34h[?25h[?25l[30;80H5[12;15H[34h[?25h[?25l[30;80H6[12;16H[34h[?25h[?25l[30;80H7[12;17H[34h[?25h[?25l[30;80H8[12;18H[34h[?25h[?25l[30;80H9[12;19H[34h[?25h[?25l 0atoi(rest);[30;79H20[12;20H[34h[?25h[?25l[1m[35m0[0m;atoi(rest);[30;80H1[12;21H[34h[?25h[?25l[13;29r[13;1H[L[1;30r[12;21H[K[13;8H atoi(rest);[30;75H[K[30;75H304,9[9C47%[13;9H[34h[?25h[?25l[30;77H3[12;9H[34h[?25h[?25l[30;77H4[13;9H[34h[?25h[?25l[30;77H3[12;9H[34h[?25h[?25l[30;79H21[12;21H[34h[?25h[?25l[13;29r[13;1H[L[1;30r[30;75H[K[30;75H304,9[9C47%[13;9H[34h[?25h[?25l j[30;79H10[13;10H[34h[?25h[?25lji[30;80H1[13;11H[34h[?25h[?25lid[30;80H2[13;12H[34h[?25h[?25l[30;80H3[13;13H[34h[?25h[?25l =[30;80H4[13;14H[34h[?25h[?25l[30;80H5[13;15H[34h[?25h[?25l s[30;80H6[13;16H[34h[?25h[?25lss[30;80H7[13;17H[34h[?25h[?25lsc[30;80H8[13;18H[34h[?25h[?25lca[30;80H9[13;19H[34h[?25h[?25lan[30;79H20[13;20H[34h[?25h[?25lnf[30;80H1[13;21H[34h[?25h[?25lf([17;26H[1m[37m[41m{[20;9H}[22;5H}[6C{[26;26H{[0m[30;80H2[13;22H[34h[?25h[?25l()[17;26H{[20;9H}[22;5H}[6C{[26;26H{[13;21H[46m()[0m[30;80H3[13;23H[34h[?25h[?25l[30;80H2[13;22H[34h[?25h[?25l[46m( [0m) [46m)[0m[30;80H3[13;23H[34h[?25h[?25l[46m([0m)[46m )[0m[13;23H[K[30;80H2[13;22H[34h[?25h[?25l[46m(r[0m)r[46m)[0m[30;80H3[13;23H[34h[?25h[?25lr[46me[0m)e[46m)[0m[30;80H4[13;24H[34h[?25h[?25le[46ms[0m)s[46m)[0m[30;80H5[13;25H[34h[?25h[?25ls[46mt[0m)t[46m)[0m[30;80H6[13;26H[34h[?25h[?25lt[46m,[0m),[46m)[0m[30;80H7[13;27H[34h[?25h[?25l,[46m [0m) [46m)[0m[30;80H8[13;28H[34h[?25h[?25l,)[46m )[0m[13;28H[K[30;80H7[13;27H[34h[?25h[?25l,[46m [0m) [46m)[0m[30;80H8[13;28H[34h[?25h[?25l [1m[35m[46m"[0m[1m[35m)
        atoi(rest);
        struct job_t *job = [0m[1m[30m[43mgetjobjid[0m[1m[35m(jid);

        if (job == NULL) {
            printf([0m[1C%s: No such job[1C[1m[35m, argv[1]);
            return;
        }
        
    } else {
        int pid = atoi(argv[1]);
        struct job_t *job = getjobpid(pid);

        if (job == NULL) {
            printf([0m[1C%s: No such process
        [1m[37m[41m}[0m
    [1m[37m[41m}[0m[13;28H[1m[35m"[0m[1m[35m[46m)[0m[30;80H9[13;29H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m%[0m[1m[35m)%[0m[1m[35m[46m)[0m[30;79H30[13;30H[34h[?25h[?25l[1m[31m%[0m[1m[31m[46md[0m[1m[35m)[0m[1m[31md[0m[1m[35m[46m)[0m[30;80H1[13;31H[34h[?25h[?25l[1m[31md[0m[1m[35m[46m"[0m)
        atoi(rest);
        [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jid);

        [1m[33mif[0m (job == [4C) {
            printf([1C[1m[31m%s[0m[1m[35m: No such job[0m[1C, argv[[1C]);
            [1m[33mreturn[0m;
        }
        
    } [1m[33melse[0m {
        [1m[32mint[0m pid = atoi(argv[[1C]);
        [1m[32mstruct[0m job_t *job = getjobpid(pid);

        [1m[33mif[0m (job == [4C) {
            printf([1C[1m[31m%s[0m[1m[35m: No such process
        }
    }[13;31H"[0m[46m)[0m[30;80H2[13;32H[34h[?25h[?25l[1m[35m"[0m[46m [0m) [46m)[0m[30;80H3[13;33H[34h[?25h[?25l[1m[35m"[0m)[46m )[0m[13;33H[K[30;80H2[13;32H[34h[?25h[?25l[1m[31md[0m[1m[35m)[0m[46m [0m
[1m[35m        atoi(rest);
        struct job_t *job = [0m[1m[30m[43mgetjobjid[0m[1m[35m(jid);

        if (job == NULL) {
            printf([0m[1C%s: No such job[1C[1m[35m, argv[1]);
            return;
        }
        
    } else {
        int pid = atoi(argv[1]);
        struct job_t *job = getjobpid(pid);

        if (job == NULL) {
            printf([0m[1C%s: No such process
        [1m[37m[41m}[0m
    [1m[37m[41m}[0m[13;31H[1m[35m[46m)[0m[13;32H[K[30;80H1[13;31H[34h[?25h[?25l[1m[35m%)[0m[46m [0m[1m[35m[46m)[0m[13;31H[K[30;80H0[13;30H[34h[?25h[?25l[1m[31m%[0m[1m[31m[46mu[0m[1m[35m)[0m[1m[31mu[0m[1m[35m[46m)[0m[30;80H1[13;31H[34h[?25h[?25l[1m[31mu[0m[1m[35m[46m"[0m)
        atoi(rest);
        [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jid);

        [1m[33mif[0m (job == [4C) {
            printf([1C[1m[31m%s[0m[1m[35m: No such job[0m[1C, argv[[1C]);
            [1m[33mreturn[0m;
        }
        
    } [1m[33melse[0m {
        [1m[32mint[0m pid = atoi(argv[[1C]);
        [1m[32mstruct[0m job_t *job = getjobpid(pid);

        [1m[33mif[0m (job == [4C) {
            printf([1C[1m[31m%s[0m[1m[35m: No such process
        }
    }[13;31H"[0m[46m)[0m[30;80H2[13;32H[34h[?25h[?25l[1m[35m"[0m[46m,[0m),[46m)[0m[30;80H3[13;33H[34h[?25h[?25l,[46m [0m) [46m)[0m[30;80H4[13;34H[34h[?25h[?25l [46mj[0m)j[46m)[0m[30;80H5[13;35H[34h[?25h[?25lj[46mi[0m)i[46m)[0m[30;80H6[13;36H[34h[?25h[?25li[46md[0m)d[46m)[0m[30;80H7[13;37H[34h[?25h[?25l[30;80H8[13;38H[34h[?25h[?25l[46m)[0m;[13;21H([15C)[30;80H9[13;39H[34h[?25h[?25l[30;79H40[13;40H[34h[?25h[?25l /[30;80H1[13;41H[34h[?25h[?25l[1m[36m//[0m[30;80H2[13;42H[34h[?25h[?25l[1m[36m//[0m[30;80H3[13;43H[34h[?25h[?25l[1m[36m [0m[30;80H4[13;44H[34h[?25h[?25l[13;43H[K[30;80H3[13;43H[34h[?25h[?25l[13;42H[K[30;80H2[13;42H[34h[?25h[?25l[1m[36m [0m[30;80H3[13;43H[34h[?25h[?25l[1m[36m U[0m[30;80H4[13;44H[34h[?25h[?25l[1m[36mUn[0m[30;80H5[13;45H[34h[?25h[?25l[1m[36mns[0m[30;80H6[13;46H[34h[?25h[?25l[1m[36msi[0m[30;80H7[13;47H[34h[?25h[?25l[1m[36mig[0m[30;80H8[13;48H[34h[?25h[?25l[1m[36mgn[0m[30;80H9[13;49H[34h[?25h[?25l[1m[36mne[0m[30;79H50[13;50H[34h[?25h[?25l[1m[36med[0m[30;80H1[13;51H[34h[?25h[?25l[1m[36m [0m[30;80H2[13;52H[34h[?25h[?25l[1m[36m i[0m[30;80H3[13;53H[34h[?25h[?25l[1m[36min[0m[30;80H4[13;54H[34h[?25h[?25l[1m[36mnt[0m[30;80H5[13;55H[34h[?25h[?25l[1m[36mte[0m[30;80H6[13;56H[34h[?25h[?25l[1m[36meg[0m[30;80H7[13;57H[34h[?25h[?25l[1m[36mge[0m[30;80H8[13;58H[34h[?25h[?25l[1m[36mer[0m[30;80H9[13;59H[34h[?25h[?25l[30;77H3,21[12;21H[34h[?25h[?25l[12;20H[K[30;80H0[12;20H[34h[?25h[?25l[12;19H[K[30;79H19[12;19H[34h[?25h[?25l[12;29r[29;1H
[1;30r[12;8H [1m[32mint[0m jid =         jid = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H303,19[8C47%[12;19H[34h[?25h[?25l       jid = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;76H[K[12;19H[34h[?25h[?25l      jid = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;75H[K[12;19H[34h[?25h[?25l     jid = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;74H[K[12;19H[34h[?25h3 [?25l    jid = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;73H[K[12;19H[34h[?25h[?25l   jid = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;72H[K[12;19H[34h[?25h[?25l  jid = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;71H[K[12;19H[34h[?25h[?25l jid = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;70H[K[12;19H[34h[?25h[?25l jid = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;69H[K[12;19H[34h[?25h[?25l id = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;68H[K[12;19H[34h[?25h[?25l d = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;67H[K[12;19H[34h[?25h[?25l  = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;66H[K[12;19H[34h[?25h[?25l = sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;65H[K[12;19H[34h[?25h[?25l  sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;64H[K[12;19H[34h[?25h[?25l sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, jid); [1m[36m// Unsigned integer[0m[12;63H[K[12;19H[34h[?25h[?25l[13;13H[46m([0mrest[46m)[0m[30;77H4[13;19H[34h[?25h[?25l(rest)[30;79H20[13;20H[34h[?25h[?25l[30;77H3,63[12;63H[34h[?25h[?25l[30;80H2[12;62H[34h[?25h[?25l[30;80H1[12;61H[34h[?25h[?25l[30;80H0[12;60H[34h[?25h[?25l[30;79H59[12;59H[34h[?25h[?25l[30;80H8[12;58H[34h[?25h[?25l[30;80H7[12;57H[34h[?25h[?25l[30;80H6[12;56H[34h[?25h[?25l[30;80H5[12;55H[34h[?25h[?25l[30;80H4[12;54H[34h[?25h[?25l[30;80H3[12;53H[34h[?25h[?25l[30;80H2[12;52H[34h[?25h[?25l[30;80H1[12;51H[34h[?25h[?25l[30;80H0[12;50H[34h[?25h[?25l[30;79H49[12;49H[34h[?25h[?25l[30;80H8[12;48H[34h[?25h[?25l[30;80H7[12;47H[34h[?25h[?25l[30;80H6[12;46H[34h[?25h[?25l[30;80H5[12;45H[34h[?25h[?25l[30;80H4[12;44H[34h[?25h[?25l[30;80H3[12;43H[34h[?25h[?25l[12;25H[46m([15C)[0m[30;80H2[12;42H[34h[?25h[?25l[30;80H1[12;41H[34h[?25h[?25l[12;25H([15C)[30;80H0[12;40H[34h[?25h[?25l[30;79H39[12;39H[34h[?25h[?25l[30;80H8[12;38H[34h[?25h[?25l &jid); [1m[36m// Unsigned integer[0m[30;80H9[12;39H[34h[?25h[?25l[30;80H8[12;38H[34h[?25h[?25l[30;80H7[12;37H[34h[?25h[?25l[30;80H6[12;36H[34h[?25h[?25l[30;80H5[12;35H[34h[?25h[?25l[30;80H4[12;34H[34h[?25h[?25l[30;80H3[12;33H[34h[?25h[?25l[30;80H2[12;32H[34h[?25h[?25l[30;80H1[12;31H[34h[?25h[?25l[30;80H0[12;30H[34h[?25h[?25l[30;79H29[12;29H[34h[?25h[?25l[30;80H8[12;28H[34h[?25h[?25l[30;80H7[12;27H[34h[?25h[?25l[46m([16C)[0m[30;80H6[12;26H[34h[?25h[?25l[30;80H5[12;25H[34h[?25h[?25l([16C)[30;80H4[12;24H[34h[?25h[?25l[30;80H3[12;23H[34h[?25h[?25l[30;80H2[12;22H[34h[?25h[?25l[30;80H1[12;21H[34h[?25h[?25l[30;80H0[12;20H[34h[?25h[?25l[30;79H19[12;19H[34h[?25h[?25l 0sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;79H20[12;20H[34h[?25h[?25l[1m[35m0[0m;sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H1[12;21H[34h[?25h[?25l[13;29r[13;1H[L[1;30r[12;21H[K[13;8H sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H304,9[9C47%[13;9H[34h[?25h[?25l[30;77H5[14;9H[34h[?25h[?25l[30;79H20[14;20H[34h[?25h[?25l[14;19H[K[14;13H[46m([0mrest[46m)[0m[30;79H19[14;19H[34h[?25h[?25l[14;18H[K[17;26H[1m[37m[41m{[20;9H}[22;5H}[6C{[26;26H{[0m[14;13H([30;80H8[14;18H[34h[?25h[?25l[14;17H[K[30;80H7[14;17H[34h[?25h[?25l[14;16H[K[30;80H6[14;16H[34h[?25h[?25l[14;15H[K[30;80H5[14;15H[34h[?25h[?25l[14;14H[K[30;80H4[14;14H[34h[?25h[?25l[14;13H[K[17;26H{[20;9H}[22;5H}[6C{[26;26H{[30;80H3[14;13H[34h[?25h[?25l[14;12H[K[30;80H2[14;12H[34h[?25h[?25l[14;11H[K[30;80H1[14;11H[34h[?25h[?25l[14;10H[K[30;80H0[14;10H[34h[?25h[?25l[14;9H[K[30;79H9 [14;9H[34h[?25h[?25l[30;79H8[14;8H[34h[?25h[?25l[30;79H7[14;7H[34h[?25h[?25l[30;79H6[14;6H[34h[?25h[?25l[30;79H5[14;5H[34h[?25h[?25l[30;79H4[14;4H[34h[?25h[?25l[30;79H3[14;3H[34h[?25h[?25l[30;79H2[14;2H[34h[?25h[?25l[30;79H1[14;1H[34h[?25h[?25l[13;29r[29;1H
[1;30r[13;8H sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H304,54[8C47%[13;54H[34h[?25h[30;1H[K[13;53H[?25l[30;75H304,53[8C47%[13;53H[34h[?25h[?25l[7m        sscanf(rest, [0m[1m[7m[35m"[0m[1m[7m[31m%u[0m[1m[7m[35m"[0m[7m, &jid); [0m[1m[7m[36m// Unsigned intege[0m[1C[7m [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H304,53[8C47%[13;53H[34h[?25h[?25l[12;1H[7m        [0m[1m[7m[32mint[0m[7m jid = [0m[1m[7m[35m0[0m[7m;[0m[13;53H[1m[7m[36mr[0m[30;77H3,21[12;21H[34h[?25h[?25l        [1m[32mint[0m jid = [1m[35m0[0m;
        sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[13;54H[K[30;1H[K[30;75H303,20[8C47%[12;20H[34h[?25h[?25l[30;77H4[13;20H[34h[?25h[?25l[30;77H5[14;20H[34h[?25h[?25l[30;77H6,0-1[15;1H[34h[?25h[?25l[30;77H7,20 [16;20H[34h[?25h[?25l[30;77H8[17;20H[34h[?25h[?25l[30;77H9,19[18;19H[34h[?25h[?25l[16;26H[46m{[19;9H}[0m[30;76H10,9 [19;9H[34h[?25h[?25l[16;26H{[19;9H}[30;77H1,8[20;8H[34h[?25h[?25l[30;77H2,12[21;12H[34h[?25h[?25l[30;77H3,20[22;20H[34h[?25h[?25l[30;77H4[23;20H[34h[?25h[?25l[30;77H5,0-1[24;1H[34h[?25h[?25l[30;77H4,20 [23;20H[34h[?25h[?25l[30;77H3[22;20H[34h[?25h[?25l[7m        [0m[1m[7m[32mint[0m[7m pid = a[0mt[7moi(argv[[0m[1m[7m[35m1[0m[7m]); [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H313,20[8C47%[22;20H[34h[?25h[?25l[22;29r[29;1H
[1;30r[29;1H[1m[35m    return;[0m[30;1H[K[30;75H313,9[9C47%[22;9H[34h[?25h[?25l[30;77H2[21;9H[34h[?25h[?25l[30;77H1,8[20;8H[34h[?25h[?25l[16;26H[46m{[19;9H}[0m[30;77H0,9[19;9H[34h[?25h[?25l[16;26H{[19;9H}[30;76H09[18;9H[34h[?25h[?25l[30;77H8[17;9H[34h[?25h[?25l[30;77H7[16;9H[34h[?25h[?25l[30;77H6,0-1[15;1H[34h[?25h[?25l[30;77H5,9  [14;9H[34h[?25h[?25l[30;77H4[13;9H[34h[?25h[?25l[7m        [0ms[7mscanf(rest, [0m[1m[7m[35m"[0m[1m[7m[31m%u[0m[1m[7m[35m"[0m[7m, &jid); [0m[1m[7m[36m// Unsigned integer[0m[7m [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H304,9[9C47%[13;9H[34h[?25h[?25l[12;1H[7m        [0m[1C[1m[7m[32mnt[0m[7m jid = [0m[1m[7m[35m0[0m[7m; [13;9Hs[0m[30;77H3[12;9H[34h[?25h[?25l        [1C[1m[32mnt[0m jid = [1m[35m0[0m;[12;21H[K[13;1H        sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[13;54H[K[30;1H[K[30;75H303,9[9C47%[12;9H[34h[?25h[?25l[30;77H4[13;9H[34h[?25h[?25l[30;77H5[14;9H[34h[?25h[?25l[30;77H6,0-1[15;1H[34h[?25h[?25l[30;77H7,9  [16;9H[34h[?25h[?25l[30;77H8[17;9H[34h[?25h[?25l[30;77H9[18;9H[34h[?25h[?25l[16;26H[46m{[19;9H}[0m[30;76H10[19;9H[34h[?25h[?25l[16;26H{[19;9H}[30;77H1,8[20;8H[34h[?25h[?25l[30;77H2,9[21;9H[34h[?25h[?25l[30;77H3[22;9H[34h[?25h[?25l[30;77H4,0-1[23;1H[34h[?25h[?25l[30;77H3,9  [22;9H[34h[?25h[?25l[22;29r[22;1H[2L[1;30r[22;8H [1m[32mint[0m jid = [1m[35m0[0m;[23;8H sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H313,9[9C47%[22;9H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H313,9[9C47%[22;9H[34h[?25h[?25l[30;77H4[23;9H[34h[?25h[?25l[30;79H10[23;10H[34h[?25h[?25l[30;80H1[23;11H[34h[?25h[?25l[30;80H2[23;12H[34h[?25h[?25l[30;80H3[23;13H[34h[?25h[?25l[30;80H4[23;14H[34h[?25h[?25lf[46m([16C)[0m[30;80H5[23;15H[34h[?25h[?25l[30;80H6[23;16H[34h[?25h[?25l([16C)[30;80H7[23;17H[34h[?25h[?25l[46m([16C)[0m[30;80H6[23;16H[34h[?25h[?25l[46m([0mest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid)[46m;[0m [1m[36m// Unsigned integer[0m[23;53H[K[23;31H[46m)[0m;[23;16H[34h[?25h[?25l[46m([0mst, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid)[46m;[0m [1m[36m// Unsigned integer[0m[23;52H[K[23;30H[46m)[0m;[23;16H[34h[?25h[?25l[46m([0mt, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid)[46m;[0m [1m[36m// Unsigned integer[0m[23;51H[K[23;29H[46m)[0m;[23;16H[34h[?25h[?25l[46m([0m, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid)[46m;[0m [1m[36m// Unsigned integer[0m[23;50H[K[23;28H[46m)[0m;[23;16H[34h[?25h[?25l[46m([0ma, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &ji[46md[0m); [1m[36m// Unsigned integer[0m[23;15H([12Cd[30;80H7[23;17H[34h[?25h[?25lar, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H8[23;18H[34h[?25h[?25lrg, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H9[23;19H[34h[?25h[?25lgv, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;79H20[23;20H[34h[?25h[?25lv[, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid[1m[37m[41m);[0m [1m[36m// Unsigned integer[0m[24;43H[1m[37m[41m;[26;26H{[0m[30;80H1[23;21H[34h[?25h[?25l[[1m[35m1[0m, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid[1m[37m[41m);[0m [1m[36m// Unsigned integer[0m[30;80H2[23;22H[34h[?25h[?25l[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[24;43H;[26;26H{[23;20H[46m[[1C][0m[30;80H3[23;23H[34h[?25h[?25l[[1C][30;77H5[24;23H[34h[?25h[?25l[30;77H6,1 [25;1H[34h[?25h[?25l[30;77H7,23[26;23H[34h[?25h[?25l[30;77H8[27;23H[34h[?25h[?25l[26;26H[46m{[0m[28;9H[1m[35m[46m}[0m[30;77H9,10[28;10H[34h[?25h[?25l[21;12H[46m{[0m[26;26H{[28;9H[1m[35m}[0m[29;5H[1m[35m[46m}[0m[30;76H20,6 [29;6H[34h[?25h[?25l[21;12H{[26;26H[46m{[0m[28;9H[1m[35m[46m}[0m[29;5H[1m[35m}[0m[30;76H19,10[28;10H[34h[?25h[?25l[26;26H{[28;9H[1m[35m}[0m[30;77H8,23[27;23H[34h[?25h[?25l[30;77H7[26;23H[34h[?25h[?25l[30;77H6,1 [25;1H[34h[?25h[?25l[30;77H5,23[24;23H[34h[?25h[?25l[23;20H[46m[[1C][0m[30;77H4[23;23H[34h[?25h[?25l[[1C][30;77H5[24;23H[34h[?25h[?25l[30;77H6,1 [25;1H[34h[?25h[?25l[30;77H7,23[26;23H[34h[?25h[?25l[30;77H8[27;23H[34h[?25h[?25l[30;79H40[27;40H[34h[?25h[?25l[1m[35ms"[0m
        [1m[37m[41m}[0m
    [1m[37m[41m}[0m[30;80H1[27;41H[34h[?25h[?25l[1m[35m"[0m)[28;9H}
    }[27;19H[46m([21C)[0m[30;80H2[27;42H[34h[?25h[?25l[46m)[0m;[27;19H([21C)[30;80H3[27;43H[34h[?25h[?25l[26;26H[46m{[28;9H}[0m[30;77H7,27[26;27H[34h[?25h[?25l{[28;9H}[30;77H6,1 [25;1H[34h[?25h[?25l[24;38H[46m([0mpid[46m)[0m[30;77H5,43[24;43H[34h[?25h[?25l(pid)[30;77H4[23;43H[34h[?25h[?25l[1m[36mnisigned integer[0m[30;80H4[23;44H[34h[?25h[?25l[30;80H3[23;43H[34h[?25h[?25l[30;80H4[23;44H[34h[?25h[?25l[1m[36mnsigned integer[0m[23;57H[K[30;80H3[23;43H[34h[?25h[?25l[30;79H1 [23;1H[34h[?25h[?25l[30;79H2[23;2H[34h[?25h[?25l[30;79H3[23;3H[34h[?25h[?25l[30;79H4[23;4H[34h[?25h[?25l[30;79H5[23;5H[34h[?25h[?25l[30;79H6[23;6H[34h[?25h[?25l[30;79H7[23;7H[34h[?25h[?25l[30;79H8[23;8H[34h[?25h[?25l[30;79H9[23;9H[34h[?25h[?25l isscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;79H10[23;10H[34h[?25h[?25linsscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H1[23;11H[34h[?25h[?25lntsscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H2[23;12H[34h[?25h[?25l[1m[32mint[0m sscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H3[23;13H[34h[?25h[?25lssscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H4[23;14H[34h[?25h[?25lsusscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H5[23;15H[34h[?25h[?25lucsscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H6[23;16H[34h[?25h[?25lccsscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H7[23;17H[34h[?25h[?25lcesscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H8[23;18H[34h[?25h[?25lssscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H9[23;19H[34h[?25h[?25lssscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;79H20[23;20H[34h[?25h[?25ls sscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H1[23;21H[34h[?25h[?25l =sscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H2[23;22H[34h[?25h[?25l= sscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H3[23;23H[34h[?25h[?25l[30;77H3,21[22;21H[34h[?25h[?25l[21;12H[46m{[29;5H}[0m[30;77H2,13[21;13H[34h[?25h[?25l{[29;5H}[30;77H1,9 [20;9H[34h[?25h[?25l[16;26H[46m{[19;9H}[0m[30;77H0,10[19;10H[34h[?25h[?25l[16;26H{[19;9H}[30;76H09,2[18;20H[34h[?25h[?25l[30;77H8,23[17;23H[34h[?25h[?25l[30;77H7[16;23H[34h[?25h[?25l[30;77H6,1 [15;1H[34h[?25h[?25l[30;77H5,23[14;23H[34h[?25h[?25l[30;77H4[13;23H[34h[?25h[?25l[30;80H2[13;22H[34h[?25h[?25l[30;80H1[13;21H[34h[?25h[?25l[30;80H0[13;20H[34h[?25h[?25l[30;79H19[13;19H[34h[?25h[?25l[30;80H8[13;18H[34h[?25h[?25l[30;80H7[13;17H[34h[?25h[?25l[46m([16C)[0m[30;80H6[13;16H[34h[?25h[?25l[30;80H5[13;15H[34h[?25h[?25l([16C)[30;80H4[13;14H[34h[?25h[?25l[30;80H3[13;13H[34h[?25h[?25l[30;80H2[13;12H[34h[?25h[?25l[30;80H1[13;11H[34h[?25h[?25l[30;80H0[13;10H[34h[?25h[?25l[30;79H9 [13;9H[34h[?25h[?25l isscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;79H10[13;10H[34h[?25h[?25linsscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H1[13;11H[34h[?25h[?25lntsscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H2[13;12H[34h[?25h[?25l[1m[32mint[0m sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H3[13;13H[34h[?25h[?25lssscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H4[13;14H[34h[?25h[?25lsusscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H5[13;15H[34h[?25h[?25lucsscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H6[13;16H[34h[?25h[?25lccsscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H7[13;17H[34h[?25h[?25lcesscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H8[13;18H[34h[?25h[?25lssscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H9[13;19H[34h[?25h[?25lssscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;79H20[13;20H[34h[?25h[?25ls sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H1[13;21H[34h[?25h[?25l =sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H2[13;22H[34h[?25h[?25l= sscanf(rest, [1m[35m"[0m[1m[31m%u[0m[1m[35m"[0m, &jid); [1m[36m// Unsigned integer[0m[30;80H3[13;23H[34h[?25h[?25l[30;79H68[13;68H[34h[?25h[?25l[14;29r[14;1H[L[1;30r[30;75H[K[30;75H305,9[9C47%[14;9H[34h[?25h[?25l[15;29r[15;1H[L[1;30r[30;75H[K[30;75H306,9[9C47%[15;9H[34h[?25h[?25l[16;29r[16;1H[L[1;30r[30;75H[K[30;75H307,9[9C47%[16;9H[34h[?25h[?25l[30;77H6,1[15;1H[34h[?25h[?25l[30;79H5[15;5H[34h[?25h[?25l[30;79H9[15;9H[34h[?25h[?25l i[30;79H10[15;10H[34h[?25h[?25l[1m[33mif[0m[30;80H1[15;11H[34h[?25h[?25l[30;80H2[15;12H[34h[?25h[?25l ([19;26H[1m[37m[41m{[22;9H}[24;5H}[6C{[29;26H{[0m[30;80H3[15;13H[34h[?25h[?25l[15;12H[K[19;26H{[22;9H}[24;5H}[6C{[29;26H{[30;80H2[15;12H[34h[?25h[?25l[30;80H1[15;11H[34h[?25h[?25li[15;10H[K[30;80H0[15;10H[34h[?25h[?25l[15;9H[K[30;79H9 [15;9H[34h[?25h[?25l p[30;79H10[15;10H[34h[?25h[?25lpr[30;80H1[15;11H[34h[?25h[?25lri[30;80H2[15;12H[34h[?25h[?25lin[30;80H3[15;13H[34h[?25h[?25lnt[30;80H4[15;14H[34h[?25h[?25ltf[30;80H5[15;15H[34h[?25h[?25lf([19;26H[1m[37m[41m{[22;9H}[24;5H}[6C{[29;26H{[0m[30;80H6[15;16H[34h[?25h[?25l()[19;26H{[22;9H}[24;5H}[6C{[29;26H{[15;15H[46m()[0m[30;80H7[15;17H[34h[?25h[?25l[30;80H6[15;16H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m)

        struct job_t *job = [0m[1m[30m[43mgetjobjid[0m[1m[35m(jid);

        if (job == NULL) {
            printf([0m[1C%s: No such job[1C[1m[35m, argv[1]);
            return;
        }
        
    } else {
        int jid = 0;
        int success = sscanf(argv[1], [0m[1C%u[1C[1m[35m, &jid); // Unsigned integer
        struct job_t *job = getjobpid(pid);

        if (job == NULL) {[15;16H"[0m[1m[35m[46m)[0m[30;80H7[15;17H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m%[0m[1m[35m)%[0m[1m[35m[46m)[0m[30;80H8[15;18H[34h[?25h[?25l[1m[31m%[0m[1m[31m[46md[0m[1m[35m)[0m[1m[31md[0m[1m[35m[46m)[0m[30;80H9[15;19H[34h[?25h[?25l[1m[31md[0m[1m[35m[46m"[0m)

        [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jid);

        [1m[33mif[0m (job == [4C) {
            printf([1C[1m[31m%s[0m[1m[35m: No such job[0m[1C, argv[[1C]);
            [1m[33mreturn[0m;
        }
        
    } [1m[33melse[0m {
        [1m[32mint[0m jid = [1C;
        [1m[32mint[0m success = sscanf(argv[[1C], [1C[1m[31m%u[0m[1C, &jid); [1m[36m// Unsigned integer[0m
        [1m[32mstruct[0m job_t *job = getjobpid(pid);

        [1m[33mif[0m (job == [4C) {[15;19H[1m[35m"[0m[46m)[0m[30;79H20[15;20H[34h[?25h[?25l[1m[35m"[0m[46m,[0m),[46m)[0m[30;80H1[15;21H[34h[?25h[?25l,[46m [0m) [46m)[0m[30;80H2[15;22H[34h[?25h[?25l [46ms[0m)s[46m)[0m[30;80H3[15;23H[34h[?25h[?25ls[46mu[0m)u[46m)[0m[30;80H4[15;24H[34h[?25h[?25lu[46mc[0m)c[46m)[0m[30;80H5[15;25H[34h[?25h[?25lc[46mc[0m)c[46m)[0m[30;80H6[15;26H[34h[?25h[?25lc[46me[0m)e[46m)[0m[30;80H7[15;27H[34h[?25h[?25le[46ms[0m)s[46m)[0m[30;80H8[15;28H[34h[?25h[?25ls[46ms[0m)s[46m)[0m[30;80H9[15;29H[34h[?25h[?25l[30;79H30[15;30H[34h[?25h[?25l[46m)[0m;[15;15H([13C)[30;80H1[15;31H[34h[?25h[?25l[30;77H7,1 [16;1H[34h[?25h[?25l[30;77H8,31[17;31H[34h[?25h[?25l[30;77H9,1 [18;1H[34h[?25h[?25l[19;26H[46m{[22;9H}[0m[30;76H10,27[19;27H[34h[?25h[?25l{[22;9H}[30;77H1,31[20;31H[34h[?25h[?25l[30;77H2,20[21;20H[34h[?25h[?25l[19;26H[46m{[22;9H}[0m[30;77H3,1[22;10H[34h[?25h[?25l[19;26H{[22;9H}[30;77H4,9 [23;9H[34h[?25h[?25l[30;77H5,13[24;13H[34h[?25h[?25l[30;77H6,21[25;21H[34h[?25h[?25l[30;77H7,3[26;31H[34h[?25h[?25l[30;77H8[27;31H[34h[?25h[?25l[30;77H9,1 [28;1H[34h[?25h[?25l[30;76H20,27[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process"[0m);[30;75H[K[30;75H321,31[8C47%[29;31H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H322,10[8C47%[27;26H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H }[30;75H[K[30;75H323,6[9C47%[21;12H[46m{[0m[26;26H{[28;9H}
    [46m}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H324,1[9C48%[20;12H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H325,12[8C48%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H326,2[9C48%[29;2H[34h[?25h[?25l[30;77H5,12[28;12H[34h[?25h[?25l[30;77H4,1 [27;1H[34h[?25h[?25l[18;12H[46m{[26;5H}[0m[30;77H3,6[26;6H[34h[?25h[?25l[18;12H{[23;26H[46m{[25;9H}[0m
    }[30;77H2,10[25;10H[34h[?25h[?25l[23;26H{[25;9H}[30;77H1,31[24;31H[34h[?25h[?25l[23;26H[46m{[25;9H}[0m[30;77H0,27[23;27H[34h[?25h[?25l{[25;9H}[30;76H19,1 [22;1H[34h[?25h[?25l[30;77H8,31[21;31H[34h[?25h[?25l[30;77H7[20;31H[34h[?25h[?25l[30;77H6,2[19;21H[34h[?25h[?25l[18;12H[46m{[26;5H}[0m[30;77H5,13[18;13H[34h[?25h[?25l{[26;5H}[30;77H4,9 [17;9H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,10[16;10H[34h[?25h[?25l[13;26H{[16;9H}[30;77H2,2[15;20H[34h[?25h[?25l[30;77H1,31[14;31H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H0,27[13;27H[34h[?25h[?25l{[16;9H}[30;76H09,1 [12;1H[34h[?25h[?25l[30;77H8,31[11;31H[34h[?25h[?25l[30;77H7,1 [10;1H[34h[?25h[?25l[30;77H6,31[9;31H[34h[?25h[?25l[30;77H5,1 [8;1H[34h[?25h[?25l[30;77H6,31[9;31H[34h[?25h[?25l[9;15H[46m([13C)[0m[30;80H0[9;30H[34h[?25h[?25l[30;79H29[9;29H[34h[?25h[?25l[9;15H([13C)[30;80H8[9;28H[34h[?25h[?25l[30;80H7[9;27H[34h[?25h[?25l[30;80H6[9;26H[34h[?25h[?25l[30;80H5[9;25H[34h[?25h[?25l[30;80H4[9;24H[34h[?25h[?25l[30;80H3[9;23H[34h[?25h[?25l[30;80H2[9;22H[34h[?25h[?25l[30;80H1[9;21H[34h[?25h[?25l[30;80H0[9;20H[34h[?25h[?25l[30;79H19[9;19H[34h[?25h[?25l[1m[31md\"[0m[1m[35m, success);

        struct job_t *job = [0m[1m[30m[43mgetjobjid[0m[1m[35m(jid);

        if (job == NULL) {
            printf([0m[1C%s: No such job[1C[1m[35m, argv[1]);
            return;
        }
        
    } else {
        int jid = 0;
        int success = sscanf(argv[1], [0m[1C%u[1C[1m[35m, &jid); // Unsigned integer
        struct job_t *job = getjobpid(pid);

        if (job == NULL) {
            printf([0m[1C%s: No such process[1C[1m[35m);
        }
    }

    return;
}[0m[30;79H20[9;20H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m, success);

        [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jid);

        [1m[33mif[0m (job == [4C) {
            printf([1C[1m[31m%s[0m[1m[35m: No such job[0m[1C, argv[[1C]);
            [1m[33mreturn[0m;
        }
        
    } [1m[33melse[0m {
        [1m[32mint[0m jid = [1C;
        [1m[32mint[0m success = sscanf(argv[[1C], [1C[1m[31m%u[0m[1C, &jid); [1m[36m// Unsigned integer[0m
        [1m[32mstruct[0m job_t *job = getjobpid(pid);

        [1m[33mif[0m (job == [4C) {
            printf([1C[1m[31m%s[0m[1m[35m: No such process[0m[1C);
        }
    }

    [1m[33mreturn[0m;
}[30;80H1[9;21H[34h[?25h[?25l[30;80H0[9;20H[34h[?25h[?25l[30;79H19[9;19H[34h[?25h[?25l[30;80H8[9;18H[34h[?25h[?25l[30;80H7[9;17H[34h[?25h[?25l[1m[35m"S[0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;80H8[9;18H[34h[?25h[?25l[1m[35mSu[0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;80H9[9;19H[34h[?25h[?25l[1m[35muc[0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;79H20[9;20H[34h[?25h[?25l[1m[35mcc[0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;80H1[9;21H[34h[?25h[?25l[1m[35mce[0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;80H2[9;22H[34h[?25h[?25l[1m[35mes[0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;80H3[9;23H[34h[?25h[?25l[1m[35mss[0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;80H4[9;24H[34h[?25h[?25l[1m[35ms:[0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;80H5[9;25H[34h[?25h[?25l[1m[35m: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;80H6[9;26H[34h[?25h[?25l[30;79H42[9;42H[34h[?25h[30;1H[K[9;41H[?25l[30;75H306,41[8C48%[9;41H[34h[?25h[?25l[7m        printf([0m[1m[7m[35m"Success: [0m[1m[7m[31m%d\n[0m[1m[7m[35m"[0m[7m, success)[0m;[7m [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H306,41[8C48%[9;41H[34h[?25h[?25l        printf([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success)[9;42H[K[30;1H[K[30;75H306,1[9C48%[9;1H[34h[?25h[?25l[30;77H7,0-1[10;1H[34h[?25h[?25l[30;77H8,1  [11;1H[34h[?25h[?25l[30;77H9,0-1[12;1H[34h[?25h[?25l[30;76H10,1  [13;1H[34h[?25h[?25l[30;77H1[14;1H[34h[?25h[?25l[30;77H2[15;1H[34h[?25h[?25l[30;77H3[16;1H[34h[?25h[?25l[30;77H4[17;1H[34h[?25h[?25l[30;77H5[18;1H[34h[?25h[?25l[30;77H6[19;1H[34h[?25h[?25l[30;77H7[20;1H[34h[?25h[?25l[30;77H8[21;1H[34h[?25h[?25l[30;77H9,0-1[22;1H[34h[?25h[?25l[30;76H20,1  [23;1H[34h[?25h[?25l[30;76H19,0-1[22;1H[34h[?25h[?25l[30;77H8,1  [21;1H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[21;8H printf([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;75H[K[30;75H318,9[9C48%[21;9H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H318,9[9C48%[21;9H[34h[?25h[?25l[30;77H9[22;9H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[22;9H[K[23;8H [1m[32mstruct[0m job_t *job = getjobpid(pid);[30;75H[K[30;75H320,9[9C48%[23;9H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[23;9H[K[24;8H [1m[32mstruct[0m job_t *job = getjobpid(pid);[30;75H[K[30;75H321,9[9C48%[24;9H[34h[?25h[?25l[30;77H0[23;9H[34h[?25h[?25l[30;76H19[22;9H[34h[?25h[?25l[30;77H8[21;9H[34h[?25h[?25l[22;29r[22;1H[L[1;30r[21;9H[K[22;8H printf([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;75H[K[30;75H319,9[9C48%[22;9H[34h[?25h[?25l[30;76H20[23;9H[34h[?25h[?25l[30;79H8[23;8H[34h[?25h[?25l[30;79H7[23;7H[34h[?25h[?25l[30;79H6[23;6H[34h[?25h[?25l[30;79H5[23;5H[34h[?25h[?25l[30;79H4[23;4H[34h[?25h[?25l[30;79H3[23;3H[34h[?25h[?25l[30;79H2[23;2H[34h[?25h[?25l[30;79H1[23;1H[34h[?25h[?25l[22;29r[29;1H
[1;30r[22;8H printf([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[29;4H }[30;75H[K[30;75H319,42[8C48%[22;42H[34h[?25h[30;1H[K[22;41H[?25l[30;75H319,41[8C48%[22;41H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 645L, 16802C written[46C319,41[8C48%[30;75H[K[30;75H319,41[8C48%[22;41H[34h[?25h[?25l[34h[?25h[?25l[30;76H20,8 [23;8H[34h[?25h[?25l[30;77H1,41[24;41H[34h[?25h[?25l[30;77H2,0-1[25;1H[34h[?25h[?25l[30;77H1,41 [24;41H[34h[?25h[?25l[30;77H0,8 [23;8H[34h[?25h[?25l[30;76H19,41[22;41H[34h[?25h[?25l[30;77H8,8 [21;8H[34h[?25h[?25l[30;77H9,41[22;41H[34h[?25h[?25l[30;77H8,8 [21;8H[34h[?25h[?25l[30;77H7,41[20;41H[34h[?25h[?25l[30;77H6,20[19;20H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,12[18;12H[34h[?25h[?25l{[29;5H}[30;77H4,8 [17;8H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,9[16;9H[34h[?25h[?25l[13;26H{[16;9H}[30;77H2,19[15;19H[34h[?25h[?25l[30;77H1,41[14;41H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H0,26[13;26H[34h[?25h[?25l{[16;9H}[30;76H09,0-1[12;1H[34h[?25h[?25l[30;77H8,41 [11;41H[34h[?25h[?25l[30;77H7,0-1[10;1H[34h[?25h[?25l[30;77H6,41 [9;41H[34h[?25h[?25l[30;77H7,0-1[10;1H[34h[?25h[?25l[30;77H8,41 [11;41H[34h[?25h[?25l[30;80H0[11;40H[34h[?25h[?25l[30;79H39[11;39H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H308,39[8C48%[11;39H[34h[?25h[?25ljjid);[30;79H40[11;40H[34h[?25h[?25ljojid);[30;80H1[11;41H[34h[?25h[?25lobjid);[30;80H2[11;42H[34h[?25h[?25lbsjid);[30;80H3[11;43H[34h[?25h[?25ls,jid);[30;80H4[11;44H[34h[?25h[?25l, jid);[30;80H5[11;45H[34h[?25h[?25l[30;77H9,1 [12;1H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;76H10,27[13;27H[34h[?25h[?25l{[14;43H[46m[[1C][0m[16;9H}[30;77H1,45[14;45H[34h[?25h[?25l[[1C][30;77H2,20[15;20H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,1[16;10H[34h[?25h[?25l[13;26H{[16;9H}[30;77H4,9 [17;9H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,13[18;13H[34h[?25h[?25l{[29;5H}[30;77H6,21[19;21H[34h[?25h[?25l[30;77H7,45[20;45H[34h[?25h[?25l[30;77H8,9 [21;9H[34h[?25h[?25l[30;77H9,42[22;42H[34h[?25h[?25l[30;76H20,9 [23;9H[34h[?25h[?25l[30;77H1,44[24;44H[34h[?25h[?25l[46m([0mpid[46m)[0m[30;80H3[24;43H[34h[?25h[?25l[30;80H2[24;42H[34h[?25h[?25l(pid)[30;80H1[24;41H[34h[?25h[?25l[30;80H0[24;40H[34h[?25h[?25l[46m([0mpid[46m)[0m[30;79H39[24;39H[34h[?25h[?25l[46m([0mjpi[46md[0m);[24;38H(jpid[30;79H40[24;40H[34h[?25h[?25ljopid);[30;80H1[24;41H[34h[?25h[?25lobpid);[30;80H2[24;42H[34h[?25h[?25lbspid);[30;80H3[24;43H[34h[?25h[?25ls,pid);[30;80H4[24;44H[34h[?25h[?25l, pid);[30;80H5[24;45H[34h[?25h[30;1H[K[24;44H[?25l[30;75H321,44[8C48%[24;44H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 645L, 16814C written[46C321,44[8C48%[30;75H[K[30;75H321,44[8C48%[24;44H[34h[?25h[?25l[30;77H0,8 [23;8H[34h[?25h[?25l[30;76H19,41[22;41H[34h[?25h[?25l[30;77H8,8 [21;8H[34h[?25h[?25l[30;77H7,44[20;44H[34h[?25h[?25l[30;77H6,20[19;20H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,12[18;12H[34h[?25h[?25l{[29;5H}[30;77H4,8 [17;8H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,9[16;9H[34h[?25h[?25l[13;26H{[16;9H}[30;77H2,19[15;19H[34h[?25h[?25l[30;77H1,44[14;44H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H0,26[13;26H[34h[?25h[?25l{[16;9H}[30;76H09,0-1[12;1H[34h[?25h[?25l[30;77H8,44 [11;44H[34h[?25h[?25l[30;77H7,0-1[10;1H[34h[?25h[?25l[30;77H6,41 [9;41H[34h[?25h[?25l[30;77H7,0-1[10;1H[34h[?25h[?25l[30;77H8,44 [11;44H[34h[?25h[?25l[30;77H9,0-1[12;1H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;76H10,26 [13;26H[34h[?25h[?25l{[16;9H}[30;77H1,44[14;44H[34h[?25h[?25l[30;77H2,19[15;19H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,9 [16;9H[34h[?25h[?25l[13;26H{[16;9H}[30;77H4,8[17;8H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,12[18;12H[34h[?25h[?25l{[29;5H}[30;77H6,20[19;20H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H316,20[8C48%[19;20H[34h[?25h[?25l[30;79H19[19;19H[34h[?25h[?25l[30;80H8[19;18H[34h[?25h[?25l[30;80H7[19;17H[34h[?25h[?25l[30;80H6[19;16H[34h[?25h[?25l[30;80H5[19;15H[34h[?25h[?25l[30;80H4[19;14H[34h[?25h[?25l id = [1m[35m0[0m;[19;20H[K[30;80H3[19;13H[34h[?25h[?25l pid = [1m[35m0[0m;[30;80H4[19;14H[34h[?25h[?25l[30;77H7[20;14H[34h[?25h[?25l[30;80H5[20;15H[34h[?25h[?25l[30;80H6[20;16H[34h[?25h[?25l[30;80H7[20;17H[34h[?25h[?25l[30;80H8[20;18H[34h[?25h[?25l[30;80H9[20;19H[34h[?25h[?25l[30;79H20[20;20H[34h[?25h[?25l[30;80H1[20;21H[34h[?25h[?25l[30;80H2[20;22H[34h[?25h[?25l[30;80H3[20;23H[34h[?25h[?25l[30;80H4[20;24H[34h[?25h[?25l[30;80H5[20;25H[34h[?25h[?25l[30;80H6[20;26H[34h[?25h[?25l[30;80H7[20;27H[34h[?25h[?25l[30;80H8[20;28H[34h[?25h[?25lf[46m([19C)[0m[30;80H9[20;29H[34h[?25h[?25l[30;79H30[20;30H[34h[?25h[?25l([19C)[30;80H1[20;31H[34h[?25h[?25l[30;80H2[20;32H[34h[?25h[?25l[30;80H3[20;33H[34h[?25h[?25lv[46m[[1C][0m[30;80H4[20;34H[34h[?25h[?25l[30;80H5[20;35H[34h[?25h[?25l[30;80H6[20;36H[34h[?25h[?25l[30;80H7[20;37H[34h[?25h[?25l[[1C][30;80H8[20;38H[34h[?25h[?25l[30;80H9[20;39H[34h[?25h[?25l[30;79H40[20;40H[34h[?25h[?25l[30;80H1[20;41H[34h[?25h[?25l[30;80H2[20;42H[34h[?25h[?25l[30;80H3[20;43H[34h[?25h[?25l[30;80H4[20;44H[34h[?25h[?25l[30;80H5[20;45H[34h[?25h[?25l[30;80H6[20;46H[34h[?25h[?25l[30;80H7[20;47H[34h[?25h[?25l&id); [1m[36m// Unsigned integer[0m[20;70H[K[30;80H6[20;46H[34h[?25h[?25l&pid); [1m[36m// Unsigned integer[0m[30;80H7[20;47H[34h[?25h[30;1H[K[20;46H[?25l[30;75H317,46[8C48%[20;46H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 645L, 16814C written[46C317,46[8C48%[30;75H[K[30;75H317,46[8C48%[20;46H[34h[?25h[?25l[30;77H8,8 [21;8H[34h[?25h[?25l[30;77H7,46[20;46H[34h[?25h[?25l[30;77H6,20[19;20H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,12[18;12H[34h[?25h[?25l{[29;5H}[30;77H4,8 [17;8H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,9[16;9H[34h[?25h[?25l[13;26H{[16;9H}[30;77H2,19[15;19H[34h[?25h[?25l[14;19H[46m([26C)[0m[30;77H1,46[14;46H[34h[?25h[?25l[13;26H[46m{[0m[14;19H([26C)[16;9H[46m}[0m[30;77H0,2[13;26H[34h[?25h[?25l{[16;9H}[30;76H09,0-1[12;1H[34h[?25h[?25l[30;77H8,46 [11;46H[34h[?25h[?25l[30;77H7,0-1[10;1H[34h[?25h[?25l[30;77H6,41 [9;41H[34h[?25h[?25l[30;77H7,0-1[10;1H[34h[?25h[?25l[30;77H8,46 [11;46H[34h[?25h[?25l[30;77H9,0-1[12;1H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;76H10,26 [13;26H[34h[?25h[?25l{[14;19H[46m([26C)[0m[16;9H}[30;77H1,4[14;46H[34h[?25h[?25l[14;19H([26C)[30;77H2,19[15;19H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,9 [16;9H[34h[?25h[?25l[13;26H{[16;9H}[30;77H4,8[17;8H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,12[18;12H[34h[?25h[?25l{[29;5H}[30;77H6,20[19;20H[34h[?25h[?25l[30;77H7,46[20;46H[34h[?25h[?25l[30;77H8,8 [21;8H[34h[?25h[?25l[30;77H9,41[22;41H[34h[?25h[?25l[30;76H20,8 [23;8H[34h[?25h[?25l[30;77H1,46[24;46H[34h[?25h[?25l[30;77H2,0-1[25;1H[34h[?25h[?25l[26;26H[46m{[28;9H}[0m[30;77H3,26 [26;26H[34h[?25h[?25l{[28;9H}[30;77H4,42[27;42H[34h[?25h[?25l[26;26H[46m{[28;9H}[0m[30;77H5,9 [28;9H[34h[?25h[?25l[26;26H{[28;9H}[30;77H4,42[27;42H[34h[?25h[?25l[27;19H[46m([21C)[0m[30;80H1[27;41H[34h[?25h[?25l


[1m-- INSERT --[0m[30;13H[K[30;75H324,41[8C48%[27;41H[34h[?25h[?25l[1m[35m"[0m[46m,[0m);,[46m)[0m[30;80H2[27;42H[34h[?25h[?25l,[46m [0m); [46m)[0m[30;80H3[27;43H[34h[?25h[?25l [46ma[0m);a[46m)[0m[30;80H4[27;44H[34h[?25h[?25la[46mr[0m);r[46m)[0m[30;80H5[27;45H[34h[?25h[?25lr[46mg[0m);g[46m)[0m[30;80H6[27;46H[34h[?25h[?25lg[46mv[0m);v[46m)[0m[30;80H7[27;47H[34h[?25h[?25lv[46m[[0m[1m[37m[41m);[28;9H}
[0m    [1m[37m[41m}[0m[27;47H[[1m[37m[46m)[0m[30;80H8[27;48H[34h[?25h[?25l[[1m[35m[46m1[0m[1m[37m[41m);[0m[1m[35m1[0m[1m[37m[46m)[0m[30;80H9[27;49H[34h[?25h[?25l[1m[35m1[0m[46m][0m);[28;9H}
    }[27;49H][46m)[0m[30;79H50[27;50H[34h[?25h[?25l[26;26H[46m{[0m[27;19H([30C)[28;9H[46m}[0m[30;77H3,27[26;27H[34h[?25h[?25l{[28;9H}[30;77H2,1 [25;1H[34h[?25h[?25l[30;77H1,50[24;50H[34h[?25h[?25l[30;77H0,9 [23;9H[34h[?25h[?25l[30;76H19,42[22;42H[34h[?25h[?25l[30;77H8,9 [21;9H[34h[?25h[?25l[20;29H[46m([19C)[0m[30;77H7,50[20;50H[34h[?25h[?25l[20;29H([19C)[30;77H6,21[19;21H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,13[18;13H[34h[?25h[?25l{[29;5H}[30;77H4,9 [17;9H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,10[16;10H[34h[?25h[?25l[13;26H{[16;9H}[30;77H2,2[15;20H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,1[16;10H[34h[?25h[?25l[13;26H{[16;9H}[30;77H4,9 [17;9H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,13[18;13H[34h[?25h[?25l{[29;5H}[30;77H6,21[19;21H[34h[?25h[?25l[20;29H[46m([19C)[0m[30;77H7,50[20;50H[34h[?25h[?25l[20;29H([19C)[30;77H8,9 [21;9H[34h[?25h[?25l[30;77H9,42[22;42H[34h[?25h[?25l[30;76H20,9 [23;9H[34h[?25h[?25l[30;77H1,50[24;50H[34h[?25h[30;1H[K[24;49H[?25l[30;75H321,49[8C48%[24;49H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 645L, 16823C written[46C321,49[8C48%[30;75H[K[30;75H321,49[8C48%[24;49H[34h[?25h[?25l[30;77H0,8 [23;8H[34h[?25h[?25l[30;76H19,41[22;41H[34h[?25h[?25l[30;77H8,8 [21;8H[34h[?25h[?25l[20;29H[46m([19C)[0m[30;77H7,49[20;49H[34h[?25h[?25l[20;29H([19C)[30;77H6,20[19;20H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,12[18;12H[34h[?25h[?25l{[29;5H}[30;77H4,8 [17;8H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,9[16;9H[34h[?25h[?25l[13;26H{[16;9H}[30;77H2,19[15;19H[34h[?25h[?25l[30;77H1,47[14;47H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H0,26[13;26H[34h[?25h[?25l{[16;9H}[30;76H09,0-1[12;1H[34h[?25h[?25l[30;77H8,49 [11;49H[34h[?25h[?25l[30;77H7,0-1[10;1H[34h[?25h[?25l[30;77H6,41 [9;41H[34h[?25h[?25l[30;77H5,0-1[8;1H[34h[?25h[?25l[30;77H4,49 [7;49H[34h[?25h[?25l[30;80H8[7;48H[34h[?25h[?25l[30;80H7[7;47H[34h[?25h[?25l[7;29H[46m([16C)[0m[30;80H6[7;46H[34h[?25h[?25l[7;29H([16C)[30;80H7[7;47H[34h[?25h[?25l[7;29H[46m([16C)[0m[30;80H6[7;46H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H304,46[8C48%[7;46H[34h[?25h[?25ld[46m,[0m); [1m[36m// Unsigned integer[0m[7;46H,[46m)[0m[30;80H7[7;47H[34h[?25h[?25l,[46m [0m); [1m[36m// Unsigned integer[0m[7;47H [46m)[0m[30;80H8[7;48H[34h[?25h[?25l[7;29H([18C)[30;77H3,21[6;21H[34h[?25h[?25l[30;80H0[6;20H[34h[?25h[?25l[1m[35m0[0m,;[30;80H1[6;21H[34h[?25h[?25l, ;[30;80H2[6;22H[34h[?25h[?25l t;[30;80H3[6;23H[34h[?25h[?25ltm;[30;80H4[6;24H[34h[?25h[?25lmp;[30;80H5[6;25H[34h[?25h[?25lp ;[30;80H6[6;26H[34h[?25h[?25l =;[30;80H7[6;27H[34h[?25h[?25l= ;[30;80H8[6;28H[34h[?25h[?25l [1m[35m0[0m;[30;80H9[6;29H[34h[?25h[?25l;;[30;79H30[6;30H[34h[?25h[?25l[6;30H[K[30;79H29[6;29H[34h[?25h[?25l[7;29H[46m([18C)[0m[30;77H4[7;29H[34h[?25h[?25l[30;79H30[7;30H[34h[?25h[?25l([18C)[30;80H1[7;31H[34h[?25h[?25l[30;80H2[7;32H[34h[?25h[?25l[30;80H3[7;33H[34h[?25h[?25l[30;80H4[7;34H[34h[?25h[?25l[30;80H5[7;35H[34h[?25h[?25l[30;80H6[7;36H[34h[?25h[?25l[30;80H7[7;37H[34h[?25h[?25l[30;80H8[7;38H[34h[?25h[?25l[30;80H9[7;39H[34h[?25h[?25l[30;79H40[7;40H[34h[?25h[?25l[30;80H1[7;41H[34h[?25h[?25l[30;80H2[7;42H[34h[?25h[?25l[30;80H3[7;43H[34h[?25h[?25l[30;80H4[7;44H[34h[?25h[?25l[30;80H5[7;45H[34h[?25h[?25l[30;80H6[7;46H[34h[?25h[?25l[30;80H7[7;47H[34h[?25h[?25l[7;29H[46m([18C)[0m[30;80H8[7;48H[34h[?25h[?25l [46m&[0m); [1m[36m// Unsigned integer[0m[7;48H&[46m)[0m[30;80H9[7;49H[34h[?25h[?25l&[46mt[0m); [1m[36m// Unsigned integer[0m[7;49Ht[46m)[0m[30;79H50[7;50H[34h[?25h[?25lt[46mm[0m); [1m[36m// Unsigned integer[0m[7;50Hm[46m)[0m[30;80H1[7;51H[34h[?25h[?25lm[46mp[0m); [1m[36m// Unsigned integer[0m[7;51Hp[46m)[0m[30;80H2[7;52H[34h[?25h[?25l[7;29H([22C)[30;80H1[7;51H[34h[?25h[?25l[30;80H0[7;50H[34h[?25h[?25l[30;79H49[7;49H[34h[?25h[?25l[30;80H8[7;48H[34h[?25h[?25l[30;80H7[7;47H[34h[?25h[?25l[30;80H6[7;46H[34h[?25h[?25l[30;80H5[7;45H[34h[?25h[?25l[30;80H4[7;44H[34h[?25h[?25l[30;80H3[7;43H[34h[?25h[?25l[30;80H2[7;42H[34h[?25h[?25l[30;80H1[7;41H[34h[?25h[?25l[30;80H0[7;40H[34h[?25h[?25l[30;79H39[7;39H[34h[?25h[?25l[1m[31mu[0m[1m[35m%"[0m, &jid, &tmp); [1m[36m// Unsigned integer[0m[30;79H40[7;40H[34h[?25h[?25l[1m[31m%c[0m[1m[35m"[0m, &jid, &tmp); [1m[36m// Unsigned integer[0m[30;80H1[7;41H[34h[?25h[?25l[30;80H0[7;40H[34h[?25h[?25l[30;77H5,1 [8;1H[34h[?25h[?25l[9;15H[46m([24C)[0m[30;77H6,40[9;40H[34h[?25h[?25l[9;15H([24C)[30;77H7,1 [10;1H[34h[?25h[?25l[30;77H8,40[11;40H[34h[?25h[?25l[30;77H9,1 [12;1H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;76H10,27[13;27H[34h[?25h[?25l{[16;9H}[30;77H1,40[14;40H[34h[?25h[?25l[30;77H2,2[15;20H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,1[16;10H[34h[?25h[?25l[13;26H{[16;9H}[30;77H4,9 [17;9H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,13[18;13H[34h[?25h[?25l{[29;5H}[30;77H6,21[19;21H[34h[?25h[?25l[30;77H7,40[20;40H[34h[?25h[?25l[30;80H1[20;41H[34h[?25h[?25l[30;80H2[20;42H[34h[?25h[?25l[1m[31mu[0m[1m[35m%"[0m, &pid); [1m[36m// Unsigned integer[0m[30;80H3[20;43H[34h[?25h[?25l[1m[31m%c[0m[1m[35m"[0m, &pid); [1m[36m// Unsigned integer[0m[30;80H4[20;44H[34h[?25h[?25l[30;80H5[20;45H[34h[?25h[?25l[30;80H6[20;46H[34h[?25h[?25l[30;80H7[20;47H[34h[?25h[?25l[30;80H8[20;48H[34h[?25h[?25l[30;80H9[20;49H[34h[?25h[?25l[30;79H50[20;50H[34h[?25h[?25l[20;29H[46m([21C)[0m[30;80H1[20;51H[34h[?25h[?25ld[46m,[0m); [1m[36m// Unsigned integer[0m[20;51H,[46m)[0m[30;80H2[20;52H[34h[?25h[?25l,[46m [0m); [1m[36m// Unsigned integer[0m[20;52H [46m)[0m[30;80H3[20;53H[34h[?25h[?25l [46m&[0m); [1m[36m// Unsigned integer[0m[20;53H&[46m)[0m[30;80H4[20;54H[34h[?25h[?25l&[46mt[0m); [1m[36m// Unsigned integer[0m[20;54Ht[46m)[0m[30;80H5[20;55H[34h[?25h[?25lt[46mm[0m); [1m[36m// Unsigned integer[0m[20;55Hm[46m)[0m[30;80H6[20;56H[34h[?25h[?25lm[46mp[0m); [1m[36m// Unsigned integer[0m[20;56Hp[46m)[0m[30;80H7[20;57H[34h[?25h[?25l[20;29H([27C)[30;77H6,21[19;21H[34h[?25h[?25l[30;80H0[19;20H[34h[?25h[?25l[1m[35m0[0m,;[30;80H1[19;21H[34h[?25h[?25l, ;[30;80H2[19;22H[34h[?25h[?25l t;[30;80H3[19;23H[34h[?25h[?25ltm;[30;80H4[19;24H[34h[?25h[?25lmp;[30;80H5[19;25H[34h[?25h[?25lp ;[30;80H6[19;26H[34h[?25h[?25l =;[30;80H7[19;27H[34h[?25h[?25l= ;[30;80H8[19;28H[34h[?25h[?25l [1m[35m0[0m;[30;80H9[19;29H[34h[?25h[?25l[20;29H[46m([27C)[0m[30;77H7[20;29H[34h[?25h[30;1H[K[20;28H[?25lf([27C)[30;75H317,28[8C48%[20;28H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hq[?25l[34h[?25h[?25l[30;2H[K[30;2H[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 645L, 16857C written[46C317,28[8C48%[30;75H[K[30;75H317,28[8C48%[20;28H[34h[?25h[?25l[30;77H6[19;28H[34h[?25h[?25l[18;12H[46m{[29;5H}[0m[30;77H5,12[18;12H[34h[?25h[?25l{[29;5H}[30;77H4,8 [17;8H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H3,9[16;9H[34h[?25h[?25l[13;26H{[16;9H}[30;77H2,19[15;19H[34h[?25h[?25l[30;77H1,28[14;28H[34h[?25h[?25l[13;26H[46m{[16;9H}[0m[30;77H0,26[13;26H[34h[?25h[?25l{[16;9H}[30;76H09,0-1[12;1H[34h[?25h[?25l[30;77H8,28 [11;28H[34h[?25h[?25l[30;77H7,0-1[10;1H[34h[?25h[?25l[30;77H6,28 [9;28H[34h[?25h[?25l[30;77H5,0-1[8;1H[34h[?25h[?25l[30;77H4,28 [7;28H[34h[?25h[?25l[30;77H3[6;28H[34h[?25h[?25l[30;80H9[6;29H[34h[?25h[?25l[30;80H8[6;28H[34h[?25h[?25l[30;80H7[6;27H[34h[?25h[?25l[30;80H6[6;26H[34h[?25h[?25l[30;80H5[6;25H[34h[?25h[?25l[30;80H4[6;24H[34h[?25h[?25l[30;80H3[6;23H[34h[?25h[?25l[30;80H4[6;24H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H303,24[8C48%[6;24H[34h[?25h[?25l[30;80H5[6;25H[34h[?25h[?25l[30;80H6[6;26H[34h[?25h[?25l[30;80H7[6;27H[34h[?25h[?25l[30;80H8[6;28H[34h[?25h[?25l[30;80H9[6;29H[34h[?25h[?25l ;[6;29H[K[30;80H8[6;28H[34h[?25h[?25l=;[6;28H[K[30;80H7[6;27H[34h[?25h[?25l ;[6;27H[K[30;80H6[6;26H[34h[?25h[?25lp;[6;26H[K[30;80H5[6;25H[34h[?25h[?25lm;[6;25H[K[30;80H4[6;24H[34h[?25h[?25lt;[6;24H[K[30;80H3[6;23H[34h[?25h[?25l ;[6;23H[K[30;80H2[6;22H[34h[?25h[?25l,;[6;22H[K[30;80H1[6;21H[34h[?25h[?25l[1m[35m0[0m;[6;21H[K[30;80H0[6;20H[34h[?25h[?25l[30;80H1[6;21H[34h[?25h[?25l[7;29r[7;1H[L[1;30r[30;75H[K[30;75H304,9[9C48%[7;9H[34h[?25h[?25l c[30;79H10[7;10H[34h[?25h[?25lch[30;80H1[7;11H[34h[?25h[?25lha[30;80H2[7;12H[34h[?25h[?25l[1m[32mchar[0m[30;80H3[7;13H[34h[?25h[?25l[30;80H4[7;14H[34h[?25h[?25l[30;80H3[7;13H[34h[?25h[?25lcha[7;12H[K[30;80H2[7;12H[34h[?25h[?25l[7;11H[K[30;80H1[7;11H[34h[?25h[?25l[7;10H[K[30;80H0[7;10H[34h[?25h[?25l[7;9H[K[30;79H9 [7;9H[34h[?25h[?25l[30;79H8[7;8H[34h[?25h[?25l[30;79H7[7;7H[34h[?25h[?25l[30;79H6[7;6H[34h[?25h[?25l[30;79H5[7;5H[34h[?25h[?25l[30;79H4[7;4H[34h[?25h[?25l[30;79H3[7;3H[34h[?25h[?25l[30;79H2[7;2H[34h[?25h[?25l[30;79H1[7;1H[34h[?25h[?25l[6;29r[29;1H
[1;30r[6;8H [1m[32mint[0m jid = [1m[35m0[0m;[29;4H }[30;75H[K[30;75H303,21[8C48%[6;21H[34h[?25h[?25l[7;29r[7;1H[L[1;30r[30;75H[K[30;75H304,9[9C48%[7;9H[34h[?25h[?25l c[30;79H10[7;10H[34h[?25h[?25lch[30;80H1[7;11H[34h[?25h[?25lha[30;80H2[7;12H[34h[?25h[?25l[1m[32mchar[0m[30;80H3[7;13H[34h[?25h[?25l[30;80H4[7;14H[34h[?25h[?25l b[30;80H5[7;15H[34h[?25h[?25lbo[30;80H6[7;16H[34h[?25h[?25log[30;80H7[7;17H[34h[?25h[?25lgo[30;80H8[7;18H[34h[?25h[?25lou[30;80H9[7;19H[34h[?25h[?25lus[30;79H20[7;20H[34h[?25h[?25l[7;19H[K[30;79H19[7;19H[34h[?25h[?25l[7;18H[K[30;80H8[7;18H[34h[?25h[?25l[7;17H[K[30;80H7[7;17H[34h[?25h[?25l[7;16H[K[30;80H6[7;16H[34h[?25h[?25l[7;15H[K[30;80H5[7;15H[34h[?25h[?25l[7;14H[K[30;80H4[7;14H[34h[?25h[?25l t[30;80H5[7;15H[34h[?25h[?25ltr[30;80H6[7;16H[34h[?25h[?25lra[30;80H7[7;17H[34h[?25h[?25las[30;80H8[7;18H[34h[?25h[?25lsh[30;80H9[7;19H[34h[?25h[?25l[30;79H20[7;20H[34h[?25h[?25l =[30;80H1[7;21H[34h[?25h[?25l[30;80H2[7;22H[34h[?25h[?25l [1m[35m0[0m[30;80H3[7;23H[34h[?25h[?25l[1m[35m0l[0m[30;80H4[7;24H[34h[?25h[?25l[7;23H[K[30;80H3[7;23H[34h[?25h[?25l[1m[35m0[0m'[30;80H4[7;24H[34h[?25h[?25l[7;23H[K[30;80H3[7;23H[34h[?25h[?25l[1m[35m0[0m;[30;80H4[7;24H[34h[?25h[?25l[30;77H5[8;24H[34h[?25h[?25l[30;80H5[8;25H[34h[?25h[?25l[30;80H6[8;26H[34h[?25h[?25l[30;80H7[8;27H[34h[?25h[?25l[30;80H8[8;28H[34h[?25h[?25lf[46m([24C)[0m[30;80H9[8;29H[34h[?25h[?25l[30;79H30[8;30H[34h[?25h[?25l([24C)[30;80H1[8;31H[34h[?25h[?25l[30;80H2[8;32H[34h[?25h[?25l[30;80H3[8;33H[34h[?25h[?25l[30;80H4[8;34H[34h[?25h[?25l[30;80H5[8;35H[34h[?25h[?25l[30;80H6[8;36H[34h[?25h[?25l[30;80H7[8;37H[34h[?25h[?25l[30;80H8[8;38H[34h[?25h[?25l[30;80H9[8;39H[34h[?25h[?25l[30;79H40[8;40H[34h[?25h[?25l[30;80H1[8;41H[34h[?25h[?25l[30;80H2[8;42H[34h[?25h[?25l[30;80H3[8;43H[34h[?25h[?25l[30;80H4[8;44H[34h[?25h[?25l[30;80H5[8;45H[34h[?25h[?25l[30;80H6[8;46H[34h[?25h[?25l[30;80H7[8;47H[34h[?25h[?25l[30;80H8[8;48H[34h[?25h[?25l[30;80H9[8;49H[34h[?25h[?25l[30;79H50[8;50H[34h[?25h[?25l[30;80H1[8;51H[34h[?25h[?25l[30;80H2[8;52H[34h[?25h[?25l[30;80H3[8;53H[34h[?25h[?25l[8;29H[46m([24C)[0m[30;80H4[8;54H[34h[?25h[?25lm)[46m;[0m [1m[36m// Unsigned integer[0m[8;75H[K[8;53H[46m)[0m;[30;80H3[8;53H[34h[?25h[?25lt)[46m;[0m [1m[36m// Unsigned integer[0m[8;74H[K[8;52H[46m)[0m;[30;80H2[8;52H[34h[?25h[?25lt[46mr[0m); [1m[36m// Unsigned integer[0m[8;52Hr[46m)[0m[30;80H3[8;53H[34h[?25h[?25lr[46ma[0m); [1m[36m// Unsigned integer[0m[8;53Ha[46m)[0m[30;80H4[8;54H[34h[?25h[?25la[46ms[0m); [1m[36m// Unsigned integer[0m[8;54Hs[46m)[0m[30;80H5[8;55H[34h[?25h[?25ls[46mh[0m); [1m[36m// Unsigned integer[0m[8;55Hh[46m)[0m[30;80H6[8;56H[34h[?25h[?25l[8;29H([26C)[30;77H6,1 [9;1H[34h[?25h[?25l[30;77H7,42[10;42H[34h[?25h[?25l[30;77H8,1 [11;1H[34h[?25h[?25l[30;77H9,50[12;50H[34h[?25h[?25l[30;76H10,1 [13;1H[34h[?25h[?25l[14;26H[46m{[17;9H}[0m[30;77H1,27[14;27H[34h[?25h[?25l{[17;9H}[30;77H2,48[15;48H[34h[?25h[?25l[30;77H3,20[16;20H[34h[?25h[?25l[14;26H[46m{[17;9H}[0m[30;77H4,1[17;10H[34h[?25h[?25l[14;26H{[17;9H}[30;77H5,9 [18;9H[34h[?25h[?25l[30;77H6,13[19;13H[34h[?25h[?25l[30;77H7,30[20;30H[34h[?25h[?25l[30;79H29[20;29H[34h[?25h[?25l[30;80H8[20;28H[34h[?25h[?25l[30;80H7[20;27H[34h[?25h[?25l[30;80H6[20;26H[34h[?25h[?25l[30;80H5[20;25H[34h[?25h[?25l[30;80H4[20;24H[34h[?25h[?25l[30;80H3[20;23H[34h[?25h[?25l[30;80H2[20;22H[34h[?25h[?25l[30;80H1[20;21H[34h[?25h[?25l[30;80H0[20;20H[34h[?25h[?25l[30;79H19[20;19H[34h[?25h[?25l[30;80H8[20;18H[34h[?25h[?25l[30;80H7[20;17H[34h[?25h[?25l[30;80H8[20;18H[34h[?25h[?25l[30;80H9[20;19H[34h[?25h[?25l[30;79H20[20;20H[34h[?25h[?25l[30;80H1[20;21H[34h[?25h[?25l[1m[35m0[0m tmp = [1m[35m0[0m;[20;29H[K[30;80H0[20;20H[34h[?25h[?25l[1m[35m0[0m; tmp = [1m[35m0[0m;[30;80H1[20;21H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[20;22H[K[21;9H tmp = [1m[35m0[0m;[30;75H[K[30;75H318,9[9C48%[21;9H[34h[?25h[?25l c tmp = [1m[35m0[0m;[30;79H10[21;10H[34h[?25h[?25lch tmp = [1m[35m0[0m;[30;80H1[21;11H[34h[?25h[?25lha tmp = [1m[35m0[0m;[30;80H2[21;12H[34h[?25h[?25l[1m[32mchar[0m tmp = [1m[35m0[0m;[30;80H3[21;13H[34h[?25h[?25l[30;80H4[21;14H[34h[?25h[?25l[30;80H5[21;15H[34h[?25h[?25ltp = [1m[35m0[0m;[21;21H[K[21;15H[34h[?25h[?25lt = [1m[35m0[0m;[21;20H[K[21;15H[34h[?25h[?25ltr = [1m[35m0[0m;[30;80H6[21;16H[34h[?25h[?25lra = [1m[35m0[0m;[30;80H7[21;17H[34h[?25h[?25las = [1m[35m0[0m;[30;80H8[21;18H[34h[?25h[?25lsh = [1m[35m0[0m;[30;80H9[21;19H[34h[?25h[?25l[30;77H9[22;19H[34h[?25h[?25l[30;79H7[22;79H[34h[?25h[?25l[30;80H8[22;78H[34h[?25h[?25l[30;80H7[22;77H[34h[?25h[?25l[30;80H6[22;76H[34h[?25h[?25l[30;80H5[22;75H[34h[?25h[?25l[30;80H4[22;74H[34h[?25h[?25l[30;80H3[22;73H[34h[?25h[?25l[30;80H2[22;72H[34h[?25h[?25l[30;80H1[22;71H[34h[?25h[?25l[30;80H0[22;70H[34h[?25h[?25l[30;79H69[22;69H[34h[?25h[?25l[30;80H8[22;68H[34h[?25h[?25l[30;80H7[22;67H[34h[?25h[?25l[30;80H6[22;66H[34h[?25h[?25l[30;80H5[22;65H[34h[?25h[?25l[30;80H4[22;64H[34h[?25h[?25l[30;80H3[22;63H[34h[?25h[?25l[30;80H2[22;62H[34h[?25h[?25l[30;80H1[22;61H[34h[?25h[?25l[30;80H0[22;60H[34h[?25h[?25l[30;79H59[22;59H[34h[?25h[?25l[22;29H[46m([27C)[0m[30;80H8[22;58H[34h[?25h[?25l[30;80H7[22;57H[34h[?25h[?25lm)[46m;[0m [1m[36m// Unsigned integer[0m[22;78H[K[22;56H[46m)[0m;[30;80H6[22;56H[34h[?25h[?25lt)[46m;[0m [1m[36m// Unsigned integer[0m[22;77H[K[22;55H[46m)[0m;[30;80H5[22;55H[34h[?25h[?25lt[46mr[0m); [1m[36m// Unsigned integer[0m[22;55Hr[46m)[0m[30;80H6[22;56H[34h[?25h[?25lr[46ma[0m); [1m[36m// Unsigned integer[0m[22;56Ha[46m)[0m[30;80H7[22;57H[34h[?25h[?25la[46ms[0m); [1m[36m// Unsigned integer[0m[22;57Hs[46m)[0m[30;80H8[22;58H[34h[?25h[?25ls[46mh[0m); [1m[36m// Unsigned integer[0m[22;58Hh[46m)[0m[30;80H9[22;59H[34h[?25h[30;1H[K[22;58H[?25l[22;29H([29C)[30;75H319,58[8C48%[22;58H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 647L, 16891C written[46C319,58[8C48%[30;75H[K[30;75H319,58[8C48%[22;58H[34h[?25h[?25l[30;76H20,8 [23;8H[34h[?25h[?25l[30;76H19,58[22;58H[34h[?25h[?25l[30;77H8,23[21;23H[34h[?25h[?25l[30;77H7,20[20;20H[34h[?25h[?25l[30;77H6,12[19;12H[34h[?25h[?25l[30;77H5,8 [18;8H[34h[?25h[?25l[14;26H[46m{[17;9H}[0m[30;77H4,9[17;9H[34h[?25h[?25l[14;26H{[17;9H}[30;77H3,19[16;19H[34h[?25h[?25l[30;77H2,47[15;47H[34h[?25h[?25l[14;26H[46m{[17;9H}[0m[30;77H1,26[14;26H[34h[?25h[?25l{[17;9H}[30;77H0,0-1[13;1H[34h[?25h[?25l[30;76H09,49 [12;49H[34h[?25h[?25l[30;77H8,0-1[11;1H[34h[?25h[?25l[30;77H7,41 [10;41H[34h[?25h[?25l[30;77H6,0-1[9;1H[34h[?25h[?25l[30;77H5,58 [8;58H[34h[?25h[?25l[30;77H6,0-1[9;1H[34h[?25h[?25l[30;77H7,41 [10;41H[34h[?25h[?25l[10;15H[46m([24C)[0m[30;80H0[10;40H[34h[?25h[?25l[10;15H([24C)[30;79H39[10;39H[34h[?25h[?25l[30;80H8[10;38H[34h[?25h[?25l[30;80H7[10;37H[34h[?25h[?25l[30;80H6[10;36H[34h[?25h[?25l[30;80H5[10;35H[34h[?25h[?25l[30;80H4[10;34H[34h[?25h[?25l[30;80H3[10;33H[34h[?25h[?25l[30;80H2[10;32H[34h[?25h[?25l[30;80H1[10;31H[34h[?25h[?25l[30;80H0[10;30H[34h[?25h[?25l[30;79H29[10;29H[34h[?25h[?25l[30;80H8[10;28H[34h[?25h[?25l[30;80H7[10;27H[34h[?25h[?25l[30;80H6[10;26H[34h[?25h[?25l[30;80H5[10;25H[34h[?25h[?25l[30;80H4[10;24H[34h[?25h[?25l[30;80H3[10;23H[34h[?25h[?25l[30;80H2[10;22H[34h[?25h[?25l[30;80H1[10;21H[34h[?25h[?25l[30;80H0[10;20H[34h[?25h[?25l[30;79H19[10;19H[34h[?25h[?25l[30;80H8[10;18H[34h[?25h[?25l[30;80H7[10;17H[34h[?25h[?25l[30;80H6[10;16H[34h[?25h[?25l[46m([24C)[0m[30;80H5[10;15H[34h[?25h[?25l([24C)[30;80H4[10;14H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H307,14[8C48%[10;14H[34h[?25h[?25l[30;80H3[10;13H[34h[?25h[?25l[30;80H2[10;12H[34h[?25h[?25l[30;80H1[10;11H[34h[?25h[?25l[30;80H0[10;10H[34h[?25h[?25l[30;79H9 [10;9H[34h[?25h[?25l rintf([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[10;41H[K[10;9H[34h[?25h[?25l intf([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[10;40H[K[10;9H[34h[?25h[?25l ntf([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[10;39H[K[10;9H[34h[?25h[?25l tf([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[10;38H[K[10;9H[34h[?25h[?25l f([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[10;37H[K[10;9H[34h[?25h[?25l ([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[10;36H[K[10;9H[46m([24C)[10;9H[34h[?25h[?25l[0m [1m[35m[46m"[0m[1m[35mSuccess: [0m[1m[31m%d\n[0m[1m[35m"[0m, success[1m[37m[41m)[0m[46m;[0m[10;35H[K[10;9H[1m[35m"[0m[24C;[10;9H[34h[?25h[?25l [1m[33mSuccess[0m: %d\n[1m[35m", success);[0m[10;34H[K[10;9H[34h[?25h[?25l [1m[33muccess[0m: %d\n[1m[35m", success);[0m[10;33H[K[10;9H[34h[?25h[?25l [1m[33mccess[0m: %d\n[1m[35m", success);[0m[10;32H[K[10;9H[34h[?25h[?25l[1m[33mcess[0m: %d\n[1m[35m", success);[0m[10;31H[K[10;9H[34h[?25h[?25l [1m[33mess[0m: %d\n[1m[35m", success);[0m[10;30H[K[10;9H[34h[?25h[?25l [1m[33mss[0m: %d\n[1m[35m", success);[0m[10;29H[K[10;9H[34h[?25h[?25l[1m[33ms[0m: %d\n[1m[35m", success);[0m[10;28H[K[10;9H[34h[?25h[?25l : %d\n[1m[35m", success);[0m[10;27H[K[10;9H[34h[?25h[?25l  %d\n[1m[35m", success);[0m[10;26H[K[10;9H[34h[?25h[?25l %d\n[1m[35m", success);[0m[10;25H[K[10;9H[34h[?25h[?25l d\n[1m[35m", success);[0m[10;24H[K[10;9H[34h[?25h[?25l \n[1m[35m", success);[0m[10;23H[K[10;9H[34h[?25h[?25l n[1m[35m", success);[0m[10;22H[K[10;9H[34h[?25h[?25l [1m[35m", success);[0m[10;21H[K[10;9H[34h[?25h[?25l , success[1m[37m[41m)[0m;[10;20H[K[10;9H[34h[?25h[?25l  success[1m[37m[41m)[0m;[10;19H[K[10;9H[34h[?25h[?25l success[1m[37m[41m)[0m;[10;18H[K[10;9H[34h[?25h[?25l uccess[1m[37m[41m)[0m;[10;17H[K[10;9H[34h[?25h[?25l ccess[1m[37m[41m)[0m;[10;16H[K[10;9H[34h[?25h[?25lcess[1m[37m[41m)[0m;[10;15H[K[10;9H[34h[?25h[?25l ess[1m[37m[41m)[0m;[10;14H[K[10;9H[34h[?25h[?25l ss[1m[37m[41m)[0m;[10;13H[K[10;9H[34h[?25h[?25ls[1m[37m[41m)[0m;[10;12H[K[10;9H[34h[?25h[?25l [1m[37m[41m)[0m;[10;11H[K[10;9H[34h[?25h[?25l ;[10;10H[K[10;9H[34h[?25h[?25l[10;9H[K[10;9H[34h[?25h[?25l i[30;79H10[10;10H[34h[?25h[?25l[1m[33mif[0m[30;80H1[10;11H[34h[?25h[?25l[30;80H2[10;12H[34h[?25h[?25l ([14;26H[1m[37m[41m{[17;9H}[19;5H}[6C{[28;26H{[0m[30;80H3[10;13H[34h[?25h[?25l(s[30;80H4[10;14H[34h[?25h[?25lsu[30;80H5[10;15H[34h[?25h[?25luc[30;80H6[10;16H[34h[?25h[?25lcc[30;80H7[10;17H[34h[?25h[?25lce[30;80H8[10;18H[34h[?25h[?25les[30;80H9[10;19H[34h[?25h[?25lss[30;79H20[10;20H[34h[?25h[?25l[30;80H1[10;21H[34h[?25h[?25l ![30;80H2[10;22H[34h[?25h[?25l!=[30;80H3[10;23H[34h[?25h[?25l[30;80H4[10;24H[34h[?25h[?25l [1m[35m1[0m[30;80H5[10;25H[34h[?25h[?25l[1m[35m1[0m)[14;26H{[17;9H}[19;5H}[6C{[28;26H{[10;12H[46m([12C)[0m[30;80H6[10;26H[34h[?25h[?25l[10;12H([12C)[30;80H7[10;27H[34h[?25h[?25l {[46m{[19;5H}[0m[30;80H8[10;28H[34h[?25h[?25l[11;29r[11;1H[L[1;30r[30;75H[K[30;75H308,13[8C47%[10;27H{[20;5H}[11;13H[34h[?25h[?25l }[10;27H[46m{[11;9H}[0m[30;80H0[11;10H[34h[?25h[?25l[10;27H{[11;9H}[30;77H7[10;10H[34h[?25h[?25l[17C[46m{[11;9H}[0m[30;79H28[10;28H[34h[?25h[?25l[11;29r[11;1H[L[1;30r[11;9H[46m [0m[12;9H}[30;75H[K[30;75H308,13[8C47%[10;27H{[11;9H    [34h[?25h[?25l[10;12H[46m([12C)[0m[30;77H7[10;13H[34h[?25h[?25l([12C)[30;77H6,1 [9;1H[34h[?25h[?25l[30;77H5,13[8;13H[34h[?25h[?25l[30;77H4[7;13H[34h[?25h[?25l[30;77H3[6;13H[34h[?25h[?25l[30;77H2[5;13H[34h[?25h[?25l[30;77H1[4;13H[34h[?25h[?25l[30;77H0,1 [3;1H[34h[?25h[?25l[30;75H299,6[2;6H[34h[?25h[?25l[30;77H8,13[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m command requires PID or [0m[1m[31m%%[0m[1m[35mjobid argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H297,13[8C47%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (argv[[1m[35m1[0m] == [1m[35m0[0m || argv[[1m[35m2[0m] != [1m[35m0[0m) {[30;75H[K[30;75H296,13[8C47%[1;13H[46m[[1C][34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[1;4H [1m[36m// Bad arguments: No args or too many[0m[30;75H[K[30;75H295,13[8C47%[2;13H[[1C][1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H294,5[9C47%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H293,6[9C47%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H292,13[8C46%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"Bad do_bgfg call."[0m);[30;75H[K[30;75H291,13[8C46%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (bg == -[1m[35m1[0m) {[30;75H[K[30;75H290,13[8C46%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m//Assert, command is either bg or fg.[0m[30;75H[K[30;75H289,13[8C46%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H288,5[9C46%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H bg = (c == [1m[35m'f'[0m) ? [1m[35m0[0m : ((c == [1m[35m'b'[0m) ? [1m[35m1[0m : -[1m[35m1[0m); [1m[36m// FG -> 0, BG -> 1, else -1[0m[30;75H[K[30;75H287,13[8C46%[1;13H[34h[?25h[?25l[30;77H8,5 [2;5H[34h[?25h[?25l[30;77H9,13[3;13H[34h[?25h[?25l[30;76H90[4;13H[34h[?25h[?25l[30;77H1[5;13H[34h[?25h[?25l[30;77H2[6;13H[34h[?25h[?25l[4;19H[46m{[7;5H}[0m[30;77H3,6 [7;6H[34h[?25h[?25l[4;19H{[7;5H}[30;77H4,5[8;5H[34h[?25h[?25l[30;77H5,13[9;13H[34h[?25h[?25l[10;13H[46m[[1C][0m[30;77H6[10;13H[34h[?25h[?25l[[1C][30;77H7[11;13H[34h[?25h[?25l[30;77H8[12;13H[34h[?25h[?25l[10;39H[46m{[13;5H}[0m[30;77H9,6 [13;6H[34h[?25h[?25l[10;39H{[13;5H}[30;75H300,1[14;1H[34h[?25h[?25l[30;77H1,13[15;13H[34h[?25h[?25l[30;77H2[16;13H[34h[?25h[?25l[30;77H3[17;13H[34h[?25h[?25l[30;77H4[18;13H[34h[?25h[?25l[30;77H5[19;13H[34h[?25h[?25l[30;77H6,1 [20;1H[34h[?25h[?25l[21;12H[46m([12C)[0m[30;77H7,13[21;13H[34h[?25h[?25l([12C)[30;77H8,1 [22;1H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l[30;79H9[22;9H[34h[?25h[?25l[30;79H13[22;13H[34h[?25h[?25l p[30;80H4[22;14H[34h[?25h[?25lpr[30;80H5[22;15H[34h[?25h[?25lri[30;80H6[22;16H[34h[?25h[?25lin[30;80H7[22;17H[34h[?25h[?25lnt[30;80H8[22;18H[34h[?25h[?25ltf[30;80H9[22;19H[34h[?25h[?25lf([23;9H[1m[37m[41m}[27;26H{[0m[30;79H20[22;20H[34h[?25h[?25l([1m[35m"
        }

        struct job_t *job = [0m[1m[30m[43mgetjobjid[0m[1m[35m(jobs, jid);

        if (job == NULL) {
            printf([0m[1C%s: No such job[1C[1m[35m, argv[1]);
            return;[0m[30;80H1[22;21H[34h[?25h[?25l[1m[35m"%[0m[30;80H2[22;22H[34h[?25h[?25l[1m[31m%s[0m[30;80H3[22;23H[34h[?25h[?25l[1m[35m [0m[30;80H4[22;24H[34h[?25h[?25l[1m[35m c[0m[30;80H5[22;25H[34h[?25h[?25l[1m[35mco[0m[30;80H6[22;26H[34h[?25h[?25l[1m[35mom[0m[30;80H7[22;27H[34h[?25h[?25l[1m[35mmm[0m[30;80H8[22;28H[34h[?25h[?25l[1m[35mma[0m[30;80H9[22;29H[34h[?25h[?25l[1m[35man[0m[30;79H30[22;30H[34h[?25h[?25l[1m[35mnd[0m[30;80H1[22;31H[34h[?25h[?25l[1m[35m [0m[30;80H2[22;32H[34h[?25h[?25l[1m[35m r[0m[30;80H3[22;33H[34h[?25h[?25l[1m[35mre[0m[30;80H4[22;34H[34h[?25h[?25l[1m[35meq[0m[30;80H5[22;35H[34h[?25h[?25l[1m[35mqu[0m[30;80H6[22;36H[34h[?25h[?25l[1m[35mui[0m[30;80H7[22;37H[34h[?25h[?25l[1m[35mir[0m[30;80H8[22;38H[34h[?25h[?25l[1m[35mre[0m[30;80H9[22;39H[34h[?25h[?25l[1m[35mes[0m[30;79H40[22;40H[34h[?25h[?25l[1m[35m [0m[30;80H1[22;41H[34h[?25h[?25l[1m[35m P[0m[30;80H2[22;42H[34h[?25h[?25l[1m[35mPI[0m[30;80H3[22;43H[34h[?25h[?25l[1m[35mID[0m[30;80H4[22;44H[34h[?25h[?25l[22;43H[K[30;80H3[22;43H[34h[?25h[?25l[22;42H[K[30;80H2[22;42H[34h[?25h[?25l[22;41H[K[30;80H1[22;41H[34h[?25h[?25l[22;40H[K[30;80H0[22;40H[34h[?25h[?25l[22;39H[K[30;79H39[22;39H[34h[?25h[?25l[1m[35mes[0m[30;79H40[22;40H[34h[?25h[?25l[22;39H[K[30;79H39[22;39H[34h[?25h[?25l[22;38H[K[30;80H8[22;38H[34h[?25h[?25l[22;37H[K[30;80H7[22;37H[34h[?25h[?25l[22;36H[K[30;80H6[22;36H[34h[?25h[?25l[22;35H[K[30;80H5[22;35H[34h[?25h[?25l[22;34H[K[30;80H4[22;34H[34h[?25h[?25l[22;33H[K[30;80H3[22;33H[34h[?25h[?25l[22;32H[K[30;80H2[22;32H[34h[?25h[?25l[22;31H[K[30;80H1[22;31H[34h[?25h[?25l[22;30H[K[30;80H0[22;30H[34h[?25h[?25l[22;29H[K[30;79H29[22;29H[34h[?25h[?25l[22;28H[K[30;80H8[22;28H[34h[?25h[?25l[22;27H[K[30;80H7[22;27H[34h[?25h[?25l[22;26H[K[30;80H6[22;26H[34h[?25h[?25l[22;25H[K[30;80H5[22;25H[34h[?25h[?25l[22;24H[K[30;80H4[22;24H[34h[?25h[?25l[22;23H[K[30;80H3[22;23H[34h[?25h[?25l[1m[35m [0m[30;80H4[22;24H[34h[?25h[?25l[1m[35m %[0m[30;80H5[22;25H[34h[?25h[?25l[1m[31m%%[0m[30;80H6[22;26H[34h[?25h[?25l[1m[31m%[0m[1m[35mj[0m[30;80H7[22;27H[34h[?25h[?25l[1m[35mjo[0m[30;80H8[22;28H[34h[?25h[?25l[1m[35mob[0m[30;80H9[22;29H[34h[?25h[?25l[1m[35mbi[0m[30;79H30[22;30H[34h[?25h[?25l[1m[35mid[0m[30;80H1[22;31H[34h[?25h[?25l[1m[35m [0m[30;80H2[22;32H[34h[?25h[?25l[1m[35m m[0m[30;80H3[22;33H[34h[?25h[?25l[1m[35mmu[0m[30;80H4[22;34H[34h[?25h[?25l[1m[35mus[0m[30;80H5[22;35H[34h[?25h[?25l[1m[35mst[0m[30;80H6[22;36H[34h[?25h[?25l[1m[35m [0m[30;80H7[22;37H[34h[?25h[?25l[1m[35m h[0m[30;80H8[22;38H[34h[?25h[?25l[1m[35mha[0m[30;80H9[22;39H[34h[?25h[?25l[1m[35mav[0m[30;79H40[22;40H[34h[?25h[?25l[1m[35mve[0m[30;80H1[22;41H[34h[?25h[?25l[1m[35m [0m[30;80H2[22;42H[34h[?25h[?25l[1m[35m a[0m[30;80H3[22;43H[34h[?25h[?25l[1m[35man[0m[30;80H4[22;44H[34h[?25h[?25l[1m[35m [0m[30;80H5[22;45H[34h[?25h[?25l[22;44H[K[30;80H4[22;44H[34h[?25h[?25l[22;43H[K[30;80H3[22;43H[34h[?25h[?25l[22;42H[K[30;80H2[22;42H[34h[?25h[?25l[22;41H[K[30;80H1[22;41H[34h[?25h[?25l[22;40H[K[30;80H0[22;40H[34h[?25h[?25l[22;39H[K[30;79H39[22;39H[34h[?25h[?25l[22;38H[K[30;80H8[22;38H[34h[?25h[?25l[22;37H[K[30;80H7[22;37H[34h[?25h[?25l[22;36H[K[30;80H6[22;36H[34h[?25h[?25l[22;35H[K[30;80H5[22;35H[34h[?25h[?25l[22;34H[K[30;80H4[22;34H[34h[?25h[?25l[1m[35mus[0m[30;80H5[22;35H[34h[?25h[?25l[1m[35mst[0m[30;80H6[22;36H[34h[?25h[?25l[1m[35m [0m[30;80H7[22;37H[34h[?25h[?25l[1m[35m h[0m[30;80H8[22;38H[34h[?25h[?25l[1m[35mha[0m[30;80H9[22;39H[34h[?25h[?25l[1m[35mav[0m[30;79H40[22;40H[34h[?25h[?25l[1m[35mve[0m[30;80H1[22;41H[34h[?25h[?25l[1m[35m [0m[30;80H2[22;42H[34h[?25h[?25l[22;41H[K[30;80H1[22;41H[34h[?25h[?25l[22;40H[K[30;80H0[22;40H[34h[?25h[?25l[22;39H[K[30;79H39[22;39H[34h[?25h[?25l[22;38H[K[30;80H8[22;38H[34h[?25h[?25l[22;37H[K[30;80H7[22;37H[34h[?25h[?25l[22;36H[K[30;80H6[22;36H[34h[?25h[?25l[22;35H[K[30;80H5[22;35H[34h[?25h[?25l[22;34H[K[30;80H4[22;34H[34h[?25h[?25l[22;33H[K[30;80H3[22;33H[34h[?25h[?25l[22;32H[K[30;80H2[22;32H[34h[?25h[?25l[22;31H[K[30;80H1[22;31H[34h[?25h[?25l[1m[35m [0m[30;80H2[22;32H[34h[?25h[?25l[1m[35m m[0m[30;80H3[22;33H[34h[?25h[?25l[1m[35mmu[0m[30;80H4[22;34H[34h[?25h[?25l[1m[35mus[0m[30;80H5[22;35H[34h[?25h[?25l[1m[35mst[0m[30;80H6[22;36H[34h[?25h[?25l[1m[35m [0m[30;80H7[22;37H[34h[?25h[?25l[1m[35m u[0m[30;80H8[22;38H[34h[?25h[?25l[1m[35mus[0m[30;80H9[22;39H[34h[?25h[?25l[1m[35mse[0m[30;79H40[22;40H[34h[?25h[?25l[1m[35m [0m[30;80H1[22;41H[34h[?25h[?25l[1m[35m a[0m[30;80H2[22;42H[34h[?25h[?25l[1m[35man[0m[30;80H3[22;43H[34h[?25h[?25l[22;42H[K[30;80H2[22;42H[34h[?25h[?25l[1m[35m [0m[30;80H3[22;43H[34h[?25h[?25l[1m[35m r[0m[30;80H4[22;44H[34h[?25h[?25l[1m[35mre[0m[30;80H5[22;45H[34h[?25h[?25l[1m[35mea[0m[30;80H6[22;46H[34h[?25h[?25l[1m[35mal[0m[30;80H7[22;47H[34h[?25h[?25l[1m[35m [0m[30;80H8[22;48H[34h[?25h[?25l[1m[35m j[0m[30;80H9[22;49H[34h[?25h[?25l[1m[35mjo[0m[30;79H50[22;50H[34h[?25h[?25l[1m[35mob[0m[30;80H1[22;51H[34h[?25h[?25l[22;50H[K[30;80H0[22;50H[34h[?25h[?25l[22;49H[K[30;79H49[22;49H[34h[?25h[?25l[22;48H[K[30;80H8[22;48H[34h[?25h[?25l[22;47H[K[30;80H7[22;47H[34h[?25h[?25l[22;46H[K[30;80H6[22;46H[34h[?25h[?25l[22;45H[K[30;80H5[22;45H[34h[?25h[?25l[22;44H[K[30;80H4[22;44H[34h[?25h[?25l[22;43H[K[30;80H3[22;43H[34h[?25h[?25l[22;42H[K[30;80H2[22;42H[34h[?25h[?25l[22;41H[K[30;80H1[22;41H[34h[?25h[?25l[1m[35m a[0m[30;80H2[22;42H[34h[?25h[?25l[1m[35m [0m[30;80H3[22;43H[34h[?25h[?25l[22;42H[K[30;80H2[22;42H[34h[?25h[?25l[22;41H[K[30;80H1[22;41H[34h[?25h[?25l[22;40H[K[30;80H0[22;40H[34h[?25h[?25l[22;39H[K[30;79H39[22;39H[34h[?25h[?25l[22;38H[K[30;80H8[22;38H[34h[?25h[?25l[22;37H[K[30;80H7[22;37H[34h[?25h[?25l[22;36H[K[30;80H6[22;36H[34h[?25h[?25l[1m[35m [0m[30;80H7[22;37H[34h[?25h[?25l[1m[35m u[0m[30;80H8[22;38H[34h[?25h[?25l[1m[35mus[0m[30;80H9[22;39H[34h[?25h[?25l[1m[35mse[0m[30;79H40[22;40H[34h[?25h[?25l[1m[35m [0m[30;80H1[22;41H[34h[?25h[?25l[1m[35m a[0m[30;80H2[22;42H[34h[?25h[?25l[1m[35man[0m[30;80H3[22;43H[34h[?25h[?25l[1m[35m [0m[30;80H4[22;44H[34h[?25h[?25l[1m[35m u[0m[30;80H5[22;45H[34h[?25h[?25l[1m[35mus[0m[30;80H6[22;46H[34h[?25h[?25l[1m[35msi[0m[30;80H7[22;47H[34h[?25h[?25l[1m[35mig[0m[30;80H8[22;48H[34h[?25h[?25l[1m[35mgn[0m[30;80H9[22;49H[34h[?25h[?25l[1m[35mne[0m[30;79H50[22;50H[34h[?25h[?25l[22;49H[K[30;79H49[22;49H[34h[?25h[?25l[22;48H[K[30;80H8[22;48H[34h[?25h[?25l[22;47H[K[30;80H7[22;47H[34h[?25h[?25l[22;46H[K[30;80H6[22;46H[34h[?25h[?25l[22;45H[K[30;80H5[22;45H[34h[?25h[?25l[1m[35mun[0m[30;80H6[22;46H[34h[?25h[?25l[1m[35mns[0m[30;80H7[22;47H[34h[?25h[?25l[1m[35msi[0m[30;80H8[22;48H[34h[?25h[?25l[1m[35mig[0m[30;80H9[22;49H[34h[?25h[?25l[1m[35mgn[0m[30;79H50[22;50H[34h[?25h[?25l[1m[35mne[0m[30;80H1[22;51H[34h[?25h[?25l[1m[35med[0m[30;80H2[22;52H[34h[?25h[?25l[1m[35m [0m[30;80H3[22;53H[34h[?25h[?25l[1m[35m i[0m[30;80H4[22;54H[34h[?25h[?25l[1m[35min[0m[30;80H5[22;55H[34h[?25h[?25l[1m[35mnt[0m[30;80H6[22;56H[34h[?25h[?25l[1m[35mte[0m[30;80H7[22;57H[34h[?25h[?25l[1m[35meg[0m[30;80H8[22;58H[34h[?25h[?25l[1m[35mge[0m[30;80H9[22;59H[34h[?25h[?25l[1m[35mer[0m[30;79H60[22;60H[34h[?25h[?25l[1m[35m [0m[30;80H1[22;61H[34h[?25h[?25l[1m[35m j[0m[30;80H2[22;62H[34h[?25h[?25l[1m[35mjo[0m[30;80H3[22;63H[34h[?25h[?25l[1m[35mob[0m[30;80H4[22;64H[34h[?25h[?25l[1m[35m [0m[30;80H5[22;65H[34h[?25h[?25l[1m[35m i[0m[30;80H6[22;66H[34h[?25h[?25l[1m[35mid[0m[30;80H7[22;67H[34h[?25h[?25l[1m[35md.[0m[30;80H8[22;68H[34h[?25h[?25l[22;67H[K[30;80H7[22;67H[34h[?25h[?25l[1m[35md[0m[1m[31m\[0m[30;80H8[22;68H[34h[?25h[?25l[1m[31m\n[0m[30;80H9[22;69H[34h[?25h[?25l[1m[31mn[0m[1m[35m"[0m
        [1m[37m[41m}[0m

        [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jobs, jid);

        [1m[33mif[0m (job == [4C) [1m[37m[41m{[0m
            printf([1C[1m[31m%s[0m[1m[35m: No such job[0m[1C, argv[[1C]);
            [1m[33mreturn[0m;[30;79H70[22;70H[34h[?25h[?25l[1m[35m"[0m)[23;9H}[27;26H{[22;19H[46m([50C)[0m[30;80H1[22;71H[34h[?25h[?25l[30;80H0[22;70H[34h[?25h[?25l[1m[35m"[0m[46m,[0m),[46m)[0m[30;80H1[22;71H[34h[?25h[?25l,[46m [0m) [46m)[0m[30;80H2[22;72H[34h[?25h[?25l [46ma[0m)a[46m)[0m[30;80H3[22;73H[34h[?25h[?25la[46mr[0m)r[46m)[0m[30;80H4[22;74H[34h[?25h[?25lr[46mg[0m)g[46m)[0m[30;80H5[22;75H[34h[?25h[?25lg[46mv[0m)v[46m)[0m[30;80H6[22;76H[34h[?25h[?25lv[46m[[0m[1m[37m[41m)[23;9H}[25;49H;[27;26H{[28;47H;[29;19H;[0m[22;76H[[1m[37m[46m)[0m[30;80H7[22;77H[34h[?25h[?25l[[1m[35m[46m0[0m[1m[37m[41m)[0m[1m[35m0[0m[1m[37m[46m)[0m[30;80H8[22;78H[34h[?25h[?25l[1m[35m0[0m[46m][0m)[23;9H}[25;49H;[27;26H{[28;47H;[29;19H;[22;78H][46m)[0m[30;80H9[22;79H[34h[?25h[?25l[30;79H80[22;80H[34h[?25h[?25l[46m)[0m;[22;19H([59C)[30;80H1[22;81H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H309,13[8C46%[23;13H[34h[?25h[?25l r[30;80H4[23;14H[34h[?25h[?25lre[30;80H5[23;15H[34h[?25h[?25let[30;80H6[23;16H[34h[?25h[?25ltu[30;80H7[23;17H[34h[?25h[?25lur[30;80H8[23;18H[34h[?25h[?25l[1m[33mreturn[0m[30;80H9[23;19H[34h[?25h[?25l[1m[33mn[0m;[30;79H20[23;20H[34h[?25h[?25l[22;19H[46m([59C)[0m[30;77H8[22;20H[34h[?25h[?25l([59C)[30;77H7[21;20H[34h[?25h[?25l[30;77H6,1 [20;1H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[30;75H[K[30;75H307,1[9C45%[21;1H[34h[?25h[?25l[30;79H5[21;5H[34h[?25h[?25l[30;79H9[21;9H[34h[?25h[?25l /[30;79H10[21;10H[34h[?25h[?25l[1m[36m//[0m[30;80H1[21;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[21;12H[34h[?25h[?25l[1m[36m A[0m[30;80H3[21;13H[34h[?25h[?25l[1m[36mAr[0m[30;80H4[21;14H[34h[?25h[?25l[1m[36mrg[0m[30;80H5[21;15H[34h[?25h[?25l[1m[36mgu[0m[30;80H6[21;16H[34h[?25h[?25l[1m[36mum[0m[30;80H7[21;17H[34h[?25h[?25l[1m[36mme[0m[30;80H8[21;18H[34h[?25h[?25l[1m[36men[0m[30;80H9[21;19H[34h[?25h[?25l[1m[36mnt[0m[30;79H20[21;20H[34h[?25h[?25l[1m[36m [0m[30;80H1[21;21H[34h[?25h[?25l[1m[36m i[0m[30;80H2[21;22H[34h[?25h[?25l[1m[36mis[0m[30;80H3[21;23H[34h[?25h[?25l[1m[36m [0m[30;80H4[21;24H[34h[?25h[?25l[1m[36m n[0m[30;80H5[21;25H[34h[?25h[?25l[1m[36mno[0m[30;80H6[21;26H[34h[?25h[?25l[1m[36mot[0m[30;80H7[21;27H[34h[?25h[?25l[1m[36m [0m[30;80H8[21;28H[34h[?25h[?25l[1m[36m a[0m[30;80H9[21;29H[34h[?25h[?25l[1m[36m [0m[30;79H30[21;30H[34h[?25h[?25l[1m[36m n[0m[30;80H1[21;31H[34h[?25h[?25l[1m[36mnu[0m[30;80H2[21;32H[34h[?25h[?25l[1m[36mum[0m[30;80H3[21;33H[34h[?25h[?25l[1m[36mme[0m[30;80H4[21;34H[34h[?25h[?25l[1m[36mer[0m[30;80H5[21;35H[34h[?25h[?25l[1m[36mri[0m[30;80H6[21;36H[34h[?25h[?25l[1m[36mic[0m[30;80H7[21;37H[34h[?25h[?25l[1m[36mca[0m[30;80H8[21;38H[34h[?25h[?25l[1m[36mal[0m[30;80H9[21;39H[34h[?25h[?25l[21;38H[K[30;80H8[21;38H[34h[?25h[?25l[21;37H[K[30;80H7[21;37H[34h[?25h[?25l[21;36H[K[30;80H6[21;36H[34h[?25h[?25l[21;35H[K[30;80H5[21;35H[34h[?25h[?25l[21;34H[K[30;80H4[21;34H[34h[?25h[?25l[21;33H[K[30;80H3[21;33H[34h[?25h[?25l[21;32H[K[30;80H2[21;32H[34h[?25h[?25l[21;31H[K[30;80H1[21;31H[34h[?25h[?25l[21;30H[K[30;80H0[21;30H[34h[?25h[?25l[21;29H[K[30;79H29[21;29H[34h[?25h[?25l[1m[36m [0m[30;79H30[21;30H[34h[?25h[?25l[1m[36m v[0m[30;80H1[21;31H[34h[?25h[?25l[1m[36mva[0m[30;80H2[21;32H[34h[?25h[?25l[1m[36mal[0m[30;80H3[21;33H[34h[?25h[?25l[1m[36mli[0m[30;80H4[21;34H[34h[?25h[?25l[1m[36mid[0m[30;80H5[21;35H[34h[?25h[?25l[1m[36m [0m[30;80H6[21;36H[34h[?25h[?25l[1m[36m j[0m[30;80H7[21;37H[34h[?25h[?25l[1m[36mjo[0m[30;80H8[21;38H[34h[?25h[?25l[1m[36mob[0m[30;80H9[21;39H[34h[?25h[?25l[1m[36m [0m[30;79H40[21;40H[34h[?25h[?25l[1m[36m i[0m[30;80H1[21;41H[34h[?25h[?25l[1m[36mid[0m[30;80H2[21;42H[34h[?25h[?25l[22;27H[46m{[25;9H}[0m[30;77H8,28[22;28H[34h[?25h[?25l{[25;9H}[30;77H9,42[23;42H[34h[?25h[?25l[30;76H10,20[24;20H[34h[?25h[?25l[22;27H[46m{[25;9H}[0m[30;77H1,1[25;10H[34h[?25h[?25l[22;27H{[25;9H}[30;77H2,1 [26;1H[34h[?25h[?25l[30;77H3,42[27;42H[34h[?25h[?25l[30;77H4,1 [28;1H[34h[?25h[?25l[30;77H5,27[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H316,42[8C46%[29;42H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mreturn[0m;[30;75H[K[30;75H317,20[8C46%[29;20H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H318,10[8C46%[26;26H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H319,9[9C46%[25;26H{[28;9H}[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H320,13[8C46%[29;13H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mint[0m pid = [1m[35m0[0m;[30;75H[K[30;75H321,21[8C46%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H322,24[8C47%[29;24H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mint[0m success = sscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &pid, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H323,42[8C47%[29;42H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H324,9[9C47%[29;9H[34h[?25h[?25l[30;77H3,42[28;42H[34h[?25h[?25l[30;77H2,24[27;24H[34h[?25h[?25l[30;77H1,21[26;21H[34h[?25h[?25l[30;77H0,13[25;13H[34h[?25h[?25l[30;76H19,9 [24;9H[34h[?25h[?25l[20;26H[46m{[23;9H}[0m[30;77H8,10[23;10H[34h[?25h[?25l[20;26H{[23;9H}[30;77H7,2[22;20H[34h[?25h[?25l[30;77H6,42[21;42H[34h[?25h[?25l[20;26H[46m{[23;9H}[0m[30;77H5,27[20;27H[34h[?25h[?25l{[23;9H}[30;77H4,1 [19;1H[34h[?25h[?25l[30;77H3,42[18;42H[34h[?25h[?25l[30;77H2,1 [17;1H[34h[?25h[?25l[13;27H[46m{[16;9H}[0m[30;77H1,10[16;10H[34h[?25h[?25l[13;27H{[16;9H}[30;77H0,2[15;20H[34h[?25h[?25l[30;76H09,42[14;42H[34h[?25h[?25l[13;27H[46m{[16;9H}[0m[30;77H8,28[13;28H[34h[?25h[?25l{[16;9H}[30;77H7,42[12;42H[34h[?25h[?25l[30;77H6,1 [11;1H[34h[?25h[?25l[30;77H5,42[10;42H[34h[?25h[?25l[30;77H4,24[9;24H[34h[?25h[?25l[30;77H3,21[8;21H[34h[?25h[?25l[30;77H2,34[7;34H[34h[?25h[?25l[6;28H[46m{[25;5H}[0m[30;77H1,29[6;29H[34h[?25h[?25l[7;29r[7;1H[L[1;30r[30;75H[K[30;75H302,9[9C47%[6;28H{[26;5H}[7;9H[34h[?25h[?25l[8;29r[8;1H[L[1;30r[30;75H[K[30;75H303,9[9C47%[8;9H[34h[?25h[?25l[30;79H8[8;8H[34h[?25h[?25l[30;79H7[8;7H[34h[?25h[?25l[30;79H6[8;6H[34h[?25h[?25l[30;79H5[8;5H[34h[?25h[?25l[30;79H4[8;4H[34h[?25h[?25l[30;79H3[8;3H[34h[?25h[?25l[30;79H2[8;2H[34h[?25h[?25l[30;79H1[8;1H[34h[?25h[?25l[7;29r[29;1H
[1;30r[29;8H [1m[32mint[0m success = sscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &pid, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H302,1[9C47%[7;1H[34h[?25h[?25l[6;29r[29;1H
[1;30r[6;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[30;75H[K[30;75H301,29[8C47%[6;28H[46m{[25;5H}[6;29H[34h[?25h[?25l[7;29r[0m[7;1H[L[1;30r[30;75H[K[30;75H302,9[9C47%[6;28H{[26;5H}[7;9H[34h[?25h[?25l /[30;79H10[7;10H[34h[?25h[?25l[1m[36m//[0m[30;80H1[7;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[7;12H[34h[?25h[?25l[1m[36m S[0m[30;80H3[7;13H[34h[?25h[?25l[1m[36mSt[0m[30;80H4[7;14H[34h[?25h[?25l[1m[36mtr[0m[30;80H5[7;15H[34h[?25h[?25l[1m[36mri[0m[30;80H6[7;16H[34h[?25h[?25l[1m[36mip[0m[30;80H7[7;17H[34h[?25h[?25l[1m[36m [0m[30;80H8[7;18H[34h[?25h[?25l[1m[36m o[0m[30;80H9[7;19H[34h[?25h[?25l[1m[36mof[0m[30;79H20[7;20H[34h[?25h[?25l[1m[36mff[0m[30;80H1[7;21H[34h[?25h[?25l[1m[36m [0m[30;80H2[7;22H[34h[?25h[?25l[1m[36m t[0m[30;80H3[7;23H[34h[?25h[?25l[1m[36mth[0m[30;80H4[7;24H[34h[?25h[?25l[1m[36mhe[0m[30;80H5[7;25H[34h[?25h[?25l[1m[36m [0m[30;80H6[7;26H[34h[?25h[?25l[1m[36m %[0m[30;80H7[7;27H[34h[?25h[?25l[1m[36m%'[0m[30;80H8[7;28H[34h[?25h[?25l[30;80H7[7;27H[34h[?25h[?25l[30;80H6[7;26H[34h[?25h[?25l[30;80H5[7;25H[34h[?25h[?25l[1m[36me' %'[0m[30;80H6[7;26H[34h[?25h[?25l[1m[36me %'[0m[7;28H[K[30;80H5[7;25H[34h[?25h[?25l[1m[36m  %'[0m[30;80H6[7;26H[34h[?25h[?25l[30;80H7[7;27H[34h[?25h[?25l[1m[36m %'[0m[7;28H[K[30;80H6[7;26H[34h[?25h[?25l[1m[36m '%'[0m[30;80H7[7;27H[34h[?25h[?25l[8;27H[46m[[1C][0m[30;77H3[8;27H[34h[?25h[?25l[[1C][30;79H34[8;34H[34h[?25h[?25l[9;29r[9;1H[L[1;30r[30;75H[K[30;75H304,9[9C47%[9;9H[34h[?25h[?25l[10;29r[10;1H[L[1;30r[30;75H[K[30;75H305,9[9C47%[10;9H[34h[?25h[?25l /[30;79H10[10;10H[34h[?25h[?25l[1m[36m//[0m[30;80H1[10;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[10;12H[34h[?25h[?25l[1m[36m C[0m[30;80H3[10;13H[34h[?25h[?25l[1m[36mCh[0m[30;80H4[10;14H[34h[?25h[?25l[1m[36mhe[0m[30;80H5[10;15H[34h[?25h[?25l[1m[36mec[0m[30;80H6[10;16H[34h[?25h[?25l[1m[36mck[0m[30;80H7[10;17H[34h[?25h[?25l[1m[36m [0m[30;80H8[10;18H[34h[?25h[?25l[1m[36m f[0m[30;80H9[10;19H[34h[?25h[?25l[1m[36mfo[0m[30;79H20[10;20H[34h[?25h[?25l[1m[36mor[0m[30;80H1[10;21H[34h[?25h[?25l[1m[36m [0m[30;80H2[10;22H[34h[?25h[?25l[1m[36m a[0m[30;80H3[10;23H[34h[?25h[?25l[1m[36m [0m[30;80H4[10;24H[34h[?25h[?25l[1m[36m v[0m[30;80H5[10;25H[34h[?25h[?25l[1m[36mva[0m[30;80H6[10;26H[34h[?25h[?25l[1m[36mal[0m[30;80H7[10;27H[34h[?25h[?25l[1m[36mli[0m[30;80H8[10;28H[34h[?25h[?25l[1m[36mid[0m[30;80H9[10;29H[34h[?25h[?25l[1m[36m [0m[30;79H30[10;30H[34h[?25h[?25l[1m[36m i[0m[30;80H1[10;31H[34h[?25h[?25l[1m[36min[0m[30;80H2[10;32H[34h[?25h[?25l[1m[36mnt[0m[30;80H3[10;33H[34h[?25h[?25l[10;32H[K[30;80H2[10;32H[34h[?25h[?25l[10;31H[K[30;80H1[10;31H[34h[?25h[?25l[10;30H[K[30;80H0[10;30H[34h[?25h[?25l[1m[36m u[0m[30;80H1[10;31H[34h[?25h[?25l[1m[36mun[0m[30;80H2[10;32H[34h[?25h[?25l[1m[36mns[0m[30;80H3[10;33H[34h[?25h[?25l[1m[36msi[0m[30;80H4[10;34H[34h[?25h[?25l[1m[36mig[0m[30;80H5[10;35H[34h[?25h[?25l[1m[36mgn[0m[30;80H6[10;36H[34h[?25h[?25l[1m[36mne[0m[30;80H7[10;37H[34h[?25h[?25l[1m[36med[0m[30;80H8[10;38H[34h[?25h[?25l[1m[36m [0m[30;80H9[10;39H[34h[?25h[?25l[1m[36m i[0m[30;79H40[10;40H[34h[?25h[?25l[1m[36min[0m[30;80H1[10;41H[34h[?25h[?25l[1m[36mnt[0m[30;80H2[10;42H[34h[?25h[?25l[1m[36m [0m[30;80H3[10;43H[34h[?25h[?25l[1m[36m w[0m[30;80H4[10;44H[34h[?25h[?25l[1m[36mwi[0m[30;80H5[10;45H[34h[?25h[?25l[1m[36mit[0m[30;80H6[10;46H[34h[?25h[?25l[1m[36mth[0m[30;80H7[10;47H[34h[?25h[?25l[1m[36m [0m[30;80H8[10;48H[34h[?25h[?25l[1m[36m n[0m[30;80H9[10;49H[34h[?25h[?25l[1m[36mno[0m[30;79H50[10;50H[34h[?25h[?25l[1m[36m [0m[30;80H1[10;51H[34h[?25h[?25l[1m[36m t[0m[30;80H2[10;52H[34h[?25h[?25l[1m[36mtr[0m[30;80H3[10;53H[34h[?25h[?25l[1m[36mra[0m[30;80H4[10;54H[34h[?25h[?25l[1m[36mai[0m[30;80H5[10;55H[34h[?25h[?25l[1m[36mil[0m[30;80H6[10;56H[34h[?25h[?25l[1m[36mli[0m[30;80H7[10;57H[34h[?25h[?25l[1m[36min[0m[30;80H8[10;58H[34h[?25h[?25l[1m[36mng[0m[30;80H9[10;59H[34h[?25h[?25l[1m[36m [0m[30;79H60[10;60H[34h[?25h[?25l[1m[36m c[0m[30;80H1[10;61H[34h[?25h[?25l[1m[36mch[0m[30;80H2[10;62H[34h[?25h[?25l[1m[36mha[0m[30;80H3[10;63H[34h[?25h[?25l[1m[36mar[0m[30;80H4[10;64H[34h[?25h[?25l[1m[36mra[0m[30;80H5[10;65H[34h[?25h[?25l[1m[36mac[0m[30;80H6[10;66H[34h[?25h[?25l[1m[36mct[0m[30;80H7[10;67H[34h[?25h[?25l[1m[36mte[0m[30;80H8[10;68H[34h[?25h[?25l[1m[36mer[0m[30;80H9[10;69H[34h[?25h[?25l[1m[36mrs[0m[30;79H70[10;70H[34h[?25h[?25l[30;77H6,21[11;21H[34h[?25h[?25l[30;77H7,24[12;24H[34h[?25h[?25l[30;77H8,70[13;70H[34h[?25h[?25l[30;77H9,1 [14;1H[34h[?25h[?25l[30;76H10,42[15;42H[34h[?25h[?25l[16;27H[46m{[19;9H}[0m[30;77H1,28[16;28H[34h[?25h[?25l{[19;9H}[30;77H2,70[17;70H[34h[?25h[?25l[30;77H3,2[18;20H[34h[?25h[?25l[16;27H[46m{[19;9H}[0m[30;77H4,1[19;10H[34h[?25h[?25l[16;27H{[19;9H}[30;77H5,1 [20;1H[34h[?25h[?25l[30;77H6,50[21;50H[34h[?25h[?25l[30;77H7,1 [22;1H[34h[?25h[?25l[23;26H[46m{[26;9H}[0m[30;77H8,27[23;27H[34h[?25h[?25l{[26;9H}[30;77H9,48[24;48H[34h[?25h[?25l[30;76H20,20[25;20H[34h[?25h[?25l[23;26H[46m{[26;9H}[0m[30;77H1,1[26;10H[34h[?25h[?25l[23;26H{[26;9H}[30;77H2,9 [27;9H[34h[?25h[?25l[30;77H3,13[28;13H[34h[?25h[?25l[30;77H4,21[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H325,24[8C47%[29;24H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mint[0m success = sscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &pid, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H326,70[8C47%[29;70H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H327,9[9C47%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"Success: [0m[1m[31m%d\n[0m[1m[35m"[0m, success);[30;75H[K[30;75H328,42[8C47%[29;42H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H329,9[9C48%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H330,50[8C48%[29;50H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H331,1[9C48%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H332,27[8C48%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H333,52[8C48%[29;52H[34h[?25h[?25l[30;77H2,27[28;27H[34h[?25h[?25l[30;77H1,1 [27;1H[34h[?25h[?25l[30;77H0,50[26;50H[34h[?25h[?25l[30;76H29,9 [25;9H[34h[?25h[?25l[30;77H8,42[24;42H[34h[?25h[?25l[30;77H7,9 [23;9H[34h[?25h[?25l[30;77H6,70[22;70H[34h[?25h[?25l[30;77H5,24[21;24H[34h[?25h[?25l[30;77H4,21[20;21H[34h[?25h[?25l[30;77H3,13[19;13H[34h[?25h[?25l[30;77H2,9 [18;9H[34h[?25h[?25l[30;77H3,13[19;13H[34h[?25h[?25l[20;29r[20;1H[L[1;30r[30;75H[K[30;75H324,9[9C48%[20;9H[34h[?25h[?25l /[30;79H10[20;10H[34h[?25h[?25l[1m[36m//[0m[30;80H1[20;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[20;12H[34h[?25h[?25l[1m[36m C[0m[30;80H3[20;13H[34h[?25h[?25l[1m[36mCh[0m[30;80H4[20;14H[34h[?25h[?25l[1m[36mhe[0m[30;80H5[20;15H[34h[?25h[?25l[1m[36mec[0m[30;80H6[20;16H[34h[?25h[?25l[1m[36mck[0m[30;80H7[20;17H[34h[?25h[?25l[1m[36m [0m[30;80H8[20;18H[34h[?25h[?25l[1m[36m f[0m[30;80H9[20;19H[34h[?25h[?25l[1m[36mfo[0m[30;79H20[20;20H[34h[?25h[?25l[1m[36mor[0m[30;80H1[20;21H[34h[?25h[?25l[1m[36m [0m[30;80H2[20;22H[34h[?25h[?25l[1m[36m a[0m[30;80H3[20;23H[34h[?25h[?25l[1m[36m [0m[30;80H4[20;24H[34h[?25h[?25l[1m[36m v[0m[30;80H5[20;25H[34h[?25h[?25l[1m[36mva[0m[30;80H6[20;26H[34h[?25h[?25l[1m[36mal[0m[30;80H7[20;27H[34h[?25h[?25l[1m[36mli[0m[30;80H8[20;28H[34h[?25h[?25l[1m[36mid[0m[30;80H9[20;29H[34h[?25h[?25l[1m[36m [0m[30;79H30[20;30H[34h[?25h[?25l[1m[36m u[0m[30;80H1[20;31H[34h[?25h[?25l[1m[36mun[0m[30;80H2[20;32H[34h[?25h[?25l[1m[36mns[0m[30;80H3[20;33H[34h[?25h[?25l[1m[36msi[0m[30;80H4[20;34H[34h[?25h[?25l[1m[36mig[0m[30;80H5[20;35H[34h[?25h[?25l[1m[36mgn[0m[30;80H6[20;36H[34h[?25h[?25l[1m[36mne[0m[30;80H7[20;37H[34h[?25h[?25l[1m[36med[0m[30;80H8[20;38H[34h[?25h[?25l[1m[36m [0m[30;80H9[20;39H[34h[?25h[?25l[1m[36m i[0m[30;79H40[20;40H[34h[?25h[?25l[1m[36min[0m[30;80H1[20;41H[34h[?25h[?25l[1m[36mnt[0m[30;80H2[20;42H[34h[?25h[?25l[1m[36m [0m[30;80H3[20;43H[34h[?25h[?25l[1m[36m w[0m[30;80H4[20;44H[34h[?25h[?25l[1m[36mwi[0m[30;80H5[20;45H[34h[?25h[?25l[1m[36mit[0m[30;80H6[20;46H[34h[?25h[?25l[1m[36mth[0m[30;80H7[20;47H[34h[?25h[?25l[1m[36m [0m[30;80H8[20;48H[34h[?25h[?25l[1m[36m n[0m[30;80H9[20;49H[34h[?25h[?25l[1m[36mno[0m[30;79H50[20;50H[34h[?25h[?25l[1m[36m [0m[30;80H1[20;51H[34h[?25h[?25l[1m[36m t[0m[30;80H2[20;52H[34h[?25h[?25l[1m[36mtr[0m[30;80H3[20;53H[34h[?25h[?25l[1m[36mra[0m[30;80H4[20;54H[34h[?25h[?25l[1m[36mai[0m[30;80H5[20;55H[34h[?25h[?25l[1m[36mil[0m[30;80H6[20;56H[34h[?25h[?25l[1m[36mli[0m[30;80H7[20;57H[34h[?25h[?25l[1m[36min[0m[30;80H8[20;58H[34h[?25h[?25l[1m[36mng[0m[30;80H9[20;59H[34h[?25h[?25l[1m[36m [0m[30;79H60[20;60H[34h[?25h[?25l[1m[36m c[0m[30;80H1[20;61H[34h[?25h[?25l[1m[36mch[0m[30;80H2[20;62H[34h[?25h[?25l[1m[36mha[0m[30;80H3[20;63H[34h[?25h[?25l[1m[36mar[0m[30;80H4[20;64H[34h[?25h[?25l[1m[36mra[0m[30;80H5[20;65H[34h[?25h[?25l[1m[36mac[0m[30;80H6[20;66H[34h[?25h[?25l[1m[36mct[0m[30;80H7[20;67H[34h[?25h[?25l[1m[36mte[0m[30;80H8[20;68H[34h[?25h[?25l[1m[36mer[0m[30;80H9[20;69H[34h[?25h[?25l[1m[36mrs[0m[30;79H70[20;70H[34h[?25h[?25l[30;77H3,13[19;13H[34h[?25h[?25l[30;77H2,9 [18;9H[34h[?25h[?25l[14;26H[46m{[17;9H}[0m[30;77H1,10[17;10H[34h[?25h[?25l[14;26H{[17;9H}[30;77H0,2[16;20H[34h[?25h[?25l[30;76H19,48[15;48H[34h[?25h[?25l[14;26H[46m{[17;9H}[0m[30;77H8,27[14;27H[34h[?25h[?25l{[17;9H}[30;77H7,1 [13;1H[34h[?25h[?25l[30;77H6,50[12;50H[34h[?25h[?25l[30;77H5,1 [11;1H[34h[?25h[?25l[7;27H[46m{[10;9H}[0m[30;77H4,10[10;10H[34h[?25h[30;1H[K[10;9H[?25l[30;75H314,9[9C48%[10;9H[34h[?25h[?25l[7m        [1C [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H314,9[9C48%[10;9H[34h[?25h[?25l[7;27H{

[7m        [0m [7m   [0m[1m[7m[33mreturn[0m[7m; [10;9H}[0m[30;77H3[9;9H[34h[?25h[?25l[8;1H[7m        [0m [7m   printf([0m[1m[7m[35m"[0m[1m[7m[31m%s[0m[1m[7m[35m [0m[1m[7m[31m%%[0m[1m[7m[35mjobid must use an unsigned integer job id[0m[1m[7m[31m\n[0m[1m[7m[35m"[0m[7m, argv[[0m[1m[7m[35m0[0m[7m]); [9;9H [0m[30;77H2[8;9H[34h[?25h[?25l[7;1H[7m        [0m[1C[1m[7m[33mf[0m[7m (success != [0m[1m[7m[35m1[0m[7m) { [8;9H [0m[30;77H1[7;9H[34h[?25h[?25l[6;1H[7m        [0m[1C[1m[7m[36m/ Argument is not a valid job id[0m[7m [0m[7;9H[1m[7m[33mi[0m[30;77H0[6;9H[34h[?25h[?25l        [1C[1m[36m/ Argument is not a valid job id[0m[6;42H[K[7;1H        [1m[33mif[0m (success != [1m[35m1[0m) {[7;28H[K[8;1H            printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[8;81H[K[9;1H            [1m[33mreturn[0m;[9;20H[K[10;1H        }[10;10H[K[30;1H[K[30;75H310,9[9C48%5 lines yanked[30;75H[K[30;75H310,9[9C48%[6;9H[34h[?25h[?25l[30;77H1[7;9H[34h[?25h[?25l[30;77H2[8;9H[34h[?25h[?25l[30;77H3[9;9H[34h[?25h[?25l[7;27H[46m{[10;9H}[0m[30;77H4[10;9H[34h[?25h[?25l[7;27H{[10;9H}[30;77H5,0-1[11;1H[34h[?25h[?25l[30;77H6,9  [12;9H[34h[?25h[?25l[30;77H7,0-1[13;1H[34h[?25h[?25l[30;77H8,9  [14;9H[34h[?25h[?25l[30;77H9[15;9H[34h[?25h[?25l[30;76H20[16;9H[34h[?25h[?25l[14;26H[46m{[17;9H}[0m[30;77H1[17;9H[34h[?25h[?25l[14;26H{[17;9H}[30;77H2,8[18;8H[34h[?25h[?25l[30;77H3,9[19;9H[34h[?25h[?25l[30;77H4[20;9H[34h[?25h[?25l[30;77H5[21;9H[34h[?25h[?25l[30;77H6[22;9H[34h[?25h[?25l[30;77H7[23;9H[34h[?25h[?25l[30;77H8,8[24;8H[34h[?25h[?25l[30;77H9,9[25;9H[34h[?25h[?25l[7m        [0mp[7mrintf([0m[1m[7m[35m"Success: [0m[1m[7m[31m%d\n[0m[1m[7m[35m"[0m[7m, success); [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H329,9[9C48%[25;9H[34h[?25h[?25l[30;1H5 more lines[30;13H[K[25;1H        [1m[36m// Argument is not a valid job id[0m[25;42H[K[26;8H [1m[33mif[0m (success != [1m[35m1[0m) {[27;8H     printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[28;12H [1m[33mreturn[0m;[29;8H }[29;10H[K[30;75H329,9[9C48%[30;75H[K[30;75H329,9[9C48%[25;9H[34h[?25h[?25l[30;76H30[26;9H[34h[?25h[?25l[30;77H1[27;9H[34h[?25h[?25l[30;77H2[28;9H[34h[?25h[?25l[26;27H[46m{[29;9H}[0m[30;77H3[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[25;27H{[28;9H}[30;1H[K[30;75H334,8[9C48%[29;8H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H335,9[9C48%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H336,0-1[7C48%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H337,9[9C48%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H338,9[9C49%[29;9H[34h[?25h[?25l[30;77H7[28;9H[34h[?25h[?25l[30;77H6,0-1[27;1H[34h[?25h[?25l[30;77H5,9  [26;9H[34h[?25h[?25l[30;77H4,8[25;8H[34h[?25h[?25l[21;27H[46m{[24;9H}[0m[30;77H3,9[24;9H[34h[?25h[?25l[21;27H{[24;9H}[30;77H2[23;9H[34h[?25h[?25l[30;77H1[22;9H[34h[?25h[?25l[30;79H10[22;10H[34h[?25h[?25l[30;80H1[22;11H[34h[?25h[?25l[30;80H2[22;12H[34h[?25h[?25l[30;80H3[22;13H[34h[?25h[?25l[30;80H4[22;14H[34h[?25h[?25l[30;80H5[22;15H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25l[30;80H7[22;17H[34h[?25h[?25l[30;80H8[22;18H[34h[?25h[?25lf[46m([59C)[0m[30;80H9[22;19H[34h[?25h[?25l([59C)[30;79H20[22;20H[34h[?25h[?25l[30;80H1[22;21H[34h[?25h[?25l[30;80H2[22;22H[34h[?25h[?25l[30;80H3[22;23H[34h[?25h[?25l[30;80H4[22;24H[34h[?25h[?25l[1m[31m%jo[0m[1m[35mbid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;80H[K[22;24H[34h[?25h[?25l[1m[35m jobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;79H[K[22;24H[34h[?25h[?25l[1m[35m obid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;78H[K[22;24H[34h[?25h[?25l[1m[35m bid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;77H[K[22;24H[34h[?25h[?25l[1m[35m id must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;76H[K[22;24H[34h[?25h[?25l[1m[35m d must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;75H[K[22;24H[34h[?25h[?25l[1m[35m  must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;74H[K[22;24H[34h[?25h[?25l[1m[35m dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[22;25H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H331,25[8C49%[22;25H[34h[?25h[?25l[1m[35mddmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[22;26H[34h[?25h[?25l[1m[35mdmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;75H[K[30;80H5[22;25H[34h[?25h[?25l[1m[35m dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;74H[K[30;80H4[22;24H[34h[?25h[?25l[1m[35m pdmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[22;25H[34h[?25h[?25l[1m[35mpidmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[22;26H[34h[?25h[?25l[1m[35mddmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[22;27H[34h[?25h[?25l[1m[35md dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[22;28H[34h[?25h[?25l[21;27H[46m{[24;9H}[0m[30;77H0[21;28H[34h[?25h[?25l{[24;9H}[30;76H29[20;28H[34h[?25h[?25l[30;77H8,9 [19;9H[34h[?25h[?25l[30;77H7,28[18;28H[34h[?25h[?25l[30;77H6,24[17;24H[34h[?25h[?25l[30;77H5,21[16;21H[34h[?25h[?25l[30;77H4,28[15;28H[34h[?25h[?25l[30;77H3,13[14;13H[34h[?25h[?25l[30;77H2,9 [13;9H[34h[?25h[?25l[9;26H[46m{[12;9H}[0m[30;77H1,10[12;10H[34h[?25h[?25l[9;26H{[12;9H}[30;77H0,2[11;20H[34h[?25h[?25l[30;76H19,28[10;28H[34h[?25h[?25l[9;26H[46m{[12;9H}[0m[30;77H8,27[9;27H[34h[?25h[?25l{[12;9H}[30;77H7,1 [8;1H[34h[?25h[?25l[30;77H6,28[7;28H[34h[?25h[?25l[30;77H5,1 [6;1H[34h[?25h[?25l[2;27H[46m{[5;9H}[0m[30;77H4,10[5;10H[34h[?25h[?25l[2;27H{[5;9H}[30;77H3,2[4;20H[34h[?25h[?25l[30;77H2,28[3;28H[34h[?25h[?25l[2;27H[46m{[5;9H}[0m[30;77H1[2;28H[34h[?25h[?25l{[5;9H}[30;77H0[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H309,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mint[0m success = sscanf(rest, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &jid, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H308,28[8C48%[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H307,24[8C48%[1;24H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mint[0m jid = [1m[35m0[0m;[30;75H[K[30;75H306,21[8C48%[1;21H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Check for a valid unsigned int with no trailing characters[0m[30;75H[K[30;75H305,28[8C48%[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H304,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mchar[0m *rest = &argv[[1m[35m1[0m][[1m[35m1[0m];[30;75H[K[30;75H303,28[8C47%[1;27H[46m[[1C][34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[1;8H [1m[36m// Strip off the '%'[0m[30;75H[K[30;75H302,28[8C47%[2;27H[[1C][1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[30;75H[K[30;75H301,28[8C47%[1;28H[46m{[23;5H}[1;28H[34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[30;75H[K[30;75H300,1[9C47%[2;28H{[24;5H}[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H299,6[9C47%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H298,16[8C47%[1;16H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m command requires PID or [0m[1m[31m%%[0m[1m[35mjobid argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H297,28[8C46%[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (argv[[1m[35m1[0m] == [1m[35m0[0m || argv[[1m[35m2[0m] != [1m[35m0[0m) {[30;75H[K[30;75H296,28[8C46%[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Bad arguments: No args or too many[0m[30;75H[K[30;75H295,28[8C46%[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H294,5[9C46%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H293,6[9C46%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H292,16[8C46%[1;16H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"Bad do_bgfg call."[0m);[30;75H[K[30;75H291,28[8C46%[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (bg == -[1m[35m1[0m) {[30;75H[K[30;75H290,20[8C45%[1;19H[46m{[4;5H}[1;20H[34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[1;4H [1m[36m//Assert, command is either bg or fg.[0m[30;75H[K[30;75H289,28[8C45%[2;19H{[5;5H}[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H288,5[9C45%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H bg = (c == [1m[35m'f'[0m) ? [1m[35m0[0m : ((c == [1m[35m'b'[0m) ? [1m[35m1[0m : -[1m[35m1[0m); [1m[36m// FG -> 0, BG -> 1, else -1[0m[30;75H[K[30;75H287,28[8C45%[1;28H[46m([8C)[1;28H[34h[?25h[?25l[0m([8C)[30;77H8,5 [2;5H[34h[?25h[?25l[30;77H9,28[3;28H[34h[?25h[?25l[4;19H[46m{[7;5H}[0m[30;76H90,20[4;20H[34h[?25h[?25l{[7;5H}[30;77H1,28[5;28H[34h[?25h[?25l[30;77H2,16[6;16H[34h[?25h[?25l[4;19H[46m{[7;5H}[0m[30;77H3,6 [7;6H[34h[?25h[?25l[4;19H{[7;5H}[30;77H4,5[8;5H[34h[?25h[?25l[30;77H5,28[9;28H[34h[?25h[?25l[30;77H6[10;28H[34h[?25h[?25l[30;77H7[11;28H[34h[?25h[?25l[30;77H8,16[12;16H[34h[?25h[?25l[10;39H[46m{[13;5H}[0m[30;77H9,6 [13;6H[34h[?25h[?25l[10;39H{[13;5H}[30;75H300,1[14;1H[34h[?25h[?25l[30;77H1,28[15;28H[34h[?25h[?25l[30;77H2[16;28H[34h[?25h[?25l[17;27H[46m[[1C][0m[30;77H3[17;28H[34h[?25h[?25l[[1C][30;77H4,1 [18;1H[34h[?25h[?25l[30;77H5,28[19;28H[34h[?25h[?25l[30;77H6,21[20;21H[34h[?25h[?25l[30;77H7,24[21;24H[34h[?25h[?25l[30;77H8,28[22;28H[34h[?25h[?25l[30;77H9,1 [23;1H[34h[?25h[?25l[30;76H10,28[24;28H[34h[?25h[?25l[25;27H[46m{[28;9H}[0m[30;77H1[25;28H[34h[?25h[?25l{[28;9H}[30;77H2[26;28H[34h[?25h[?25l[30;77H3,20[27;20H[34h[?25h[?25l[25;27H[46m{[28;9H}[0m[30;77H4,1[28;10H[34h[?25h[?25l[25;27H{[28;9H}[30;77H5,1 [29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jobs, jid);[30;75H[K[30;75H316,28[8C45%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H317,1[9C45%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H318,27[8C45%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H319,28[8C46%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mreturn[0m;[30;75H[K[30;75H320,20[8C46%[29;20H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H321,10[8C46%[26;26H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H322,9[9C46%[25;26H{[28;9H}[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H323,13[8C46%[29;13H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Check for a valid unsigned int with no trailing characters[0m[30;75H[K[30;75H324,28[8C46%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mint[0m pid = [1m[35m0[0m;[30;75H[K[30;75H325,21[8C46%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H326,24[8C47%[29;24H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mint[0m success = sscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &pid, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H327,28[8C47%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H328,9[9C47%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Argument is not a valid job id[0m[30;75H[K[30;75H329,28[8C47%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H330,28[8C47%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m pid dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H331,28[8C47%[29;28H[34h[?25h[?25l[30;77H0[28;28H[34h[?25h[?25l[30;76H29[27;28H[34h[?25h[?25l[30;77H8,9 [26;9H[34h[?25h[?25l[30;77H7,28[25;28H[34h[?25h[?25l[30;77H6,24[24;24H[34h[?25h[?25l[30;77H5,21[23;21H[34h[?25h[?25l[30;77H4,28[22;28H[34h[?25h[?25l[30;77H3,13[21;13H[34h[?25h[?25l[30;77H2,9 [20;9H[34h[?25h[?25l[16;26H[46m{[19;9H}[0m[30;77H1,10[19;10H[34h[?25h[?25l[16;26H{[19;9H}[30;77H0,2[18;20H[34h[?25h[?25l[30;76H19,28[17;28H[34h[?25h[?25l[16;26H[46m{[19;9H}[0m[30;77H8,27[16;27H[34h[?25h[?25l{[19;9H}[30;77H7,1 [15;1H[34h[?25h[?25l[16;26H[46m{[19;9H}[0m[30;77H8,27[16;27H[34h[?25h[?25l{[19;9H}[30;77H9,28[17;28H[34h[?25h[?25l[30;76H20,20[18;20H[34h[?25h[?25l[16;26H[46m{[19;9H}[0m[30;77H1,1[19;10H[34h[?25h[?25l[16;26H{[19;9H}[30;77H2,9 [20;9H[34h[?25h[?25l[30;77H3,13[21;13H[34h[?25h[?25l[30;77H4,28[22;28H[34h[?25h[?25l[30;77H5,21[23;21H[34h[?25h[?25l[30;77H6,24[24;24H[34h[?25h[?25l[30;77H7,28[25;28H[34h[?25h[?25l[30;77H8,9 [26;9H[34h[?25h[?25l[30;77H9,28[27;28H[34h[?25h[?25l[30;76H30[28;28H[34h[?25h[?25l[30;77H1[29;28H[34h[?25h[?25l[30;80H7[29;27H[34h[?25h[?25l[1m[35mi dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;77H[K[30;80H6[29;26H[34h[?25h[?25l[1m[35mp dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;76H[K[30;80H5[29;25H[34h[?25h[?25l[1m[35m  dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;75H[K[30;80H4[29;24H[34h[?25h[?25l[1m[35m P dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[29;25H[34h[?25h[?25l[1m[35mPI dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[29;26H[34h[?25h[?25l[1m[35mID dmust use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[29;27H[34h[?25h[?25l[30;80H8[29;28H[34h[?25h[?25l[30;80H9[29;29H[34h[?25h[?25l[30;80H8[29;28H[34h[?25h[?25l[1m[35m must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;77H[K[29;28H[34h[?25h[?25l[30;80H9[29;29H[34h[?25h[?25l[30;79H30[29;30H[34h[?25h[?25l[30;80H1[29;31H[34h[?25h[?25l[30;80H2[29;32H[34h[?25h[?25l[30;80H3[29;33H[34h[?25h[?25l[30;80H4[29;34H[34h[?25h[?25l[30;80H5[29;35H[34h[?25h[?25l[30;80H6[29;36H[34h[?25h[?25l[30;80H7[29;37H[34h[?25h[?25l[30;80H8[29;38H[34h[?25h[?25l[30;80H9[29;39H[34h[?25h[?25l[30;79H40[29;40H[34h[?25h[?25l[30;80H1[29;41H[34h[?25h[?25l[30;80H2[29;42H[34h[?25h[?25l[30;80H3[29;43H[34h[?25h[?25l[30;80H4[29;44H[34h[?25h[?25l[30;80H5[29;45H[34h[?25h[?25l[30;80H6[29;46H[34h[?25h[?25l[30;80H7[29;47H[34h[?25h[?25l[30;80H8[29;48H[34h[?25h[?25l[30;80H9[29;49H[34h[?25h[?25l[30;79H50[29;50H[34h[?25h[?25l[30;80H1[29;51H[34h[?25h[?25l[30;80H2[29;52H[34h[?25h[?25l[30;80H3[29;53H[34h[?25h[?25l[30;80H4[29;54H[34h[?25h[?25l[30;80H5[29;55H[34h[?25h[?25l[30;80H6[29;56H[34h[?25h[?25l[30;80H7[29;57H[34h[?25h[?25l[30;80H8[29;58H[34h[?25h[?25l[30;80H7[29;57H[34h[?25h[?25l[1m[35m ob id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;76H[K[29;57H[34h[?25h[?25l[1m[35m b id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;75H[K[29;57H[34h[?25h[?25l[1m[35m  id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;74H[K[29;57H[34h[?25h[?25l[1m[35m id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;73H[K[29;57H[34h[?25h[?25l[1m[35m d[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;72H[K[29;57H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;71H[K[29;57H[34h[?25h[?25l[1m[35m P[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[29;58H[34h[?25h[?25l[1m[35mPI[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[29;59H[34h[?25h[?25l[1m[35mID[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H60[29;60H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mreturn[0m;[30;75H[K[30;75H332,20[8C48%[29;20H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H333,10[8C48%[26;27H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H334,9[9C48%[25;27H{[28;9H}[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H335,50[8C48%[29;50H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H336,1[9C48%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H337,27[8C48%[29;27H[34h[?25h[?25l[30;77H6,1 [28;1H[34h[?25h[?25l[30;77H5,50[27;50H[34h[?25h[?25l[30;77H4,9 [26;9H[34h[?25h[?25l[22;27H[46m{[25;9H}[0m[30;77H3,10[25;10H[34h[?25h[?25l[22;27H{[25;9H}[30;77H4,9 [26;9H[34h[?25h[?25l[30;77H5,50[27;50H[34h[?25h[?25l[30;77H6,1 [28;1H[34h[?25h[?25l[30;77H7,27[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H338,52[8C49%[29;52H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H339,10[8C49%[27;26H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H }[30;75H[K[30;75H340,6[9C49%[12;12H[46m{[0m[26;26H{[28;9H}
    [46m}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H341,1[9C49%[11;12H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H342,12[8C49%[29;12H[34h[?25h[?25l[30;77H1,1 [28;1H[34h[?25h[?25l[10;12H[46m{[27;5H}[0m[30;77H0,6[27;6H[34h[?25h[?25l[10;12H{[24;26H[46m{[26;9H}[0m
    }[30;76H39,10[26;10H[34h[?25h[?25l[24;26H{[26;9H}[30;77H8,52[25;52H[34h[?25h[?25l[24;26H[46m{[26;9H}[0m[30;77H7,27[24;27H[34h[?25h[?25l{[26;9H}[30;77H6,1 [23;1H[34h[?25h[?25l[30;77H5,50[22;50H[34h[?25h[?25l[30;77H4,9 [21;9H[34h[?25h[?25l[17;27H[46m{[20;9H}[0m[30;77H3,10[20;10H[34h[?25h[?25l[17;27H{[20;9H}[30;77H4,9 [21;9H[34h[?25h[?25l[30;77H5,50[22;50H[34h[?25h[30;1H[K[22;49H[?25l[30;75H335,49[8C49%[22;49H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 659L, 17332C written[46C335,49[8C49%[30;75H[K[30;75H335,49[8C49%[22;49H[34h[?25h[?25l[30;77H6,0-1[23;1H[34h[?25h[?25l[24;26H[46m{[26;9H}[0m[30;77H7,26 [24;26H[34h[?25h[?25l{[26;9H}[30;77H6,0-1[23;1H[34h[?25h[?25l[24;26H[46m{[26;9H}[0m[30;77H7,26 [24;26H[34h[?25h[?25l{[25;47H[46m[[1C][0m[26;9H}[30;77H8,49[25;49H[34h[?25h[?25l[24;26H[46m{[0m[25;47H[[1C][26;9H[46m}[0m[30;77H7,26[24;26H[34h[?25h[?25l{[25;47H[46m[[1C][0m[26;9H}[30;77H8,49[25;49H[34h[?25h[?25l[[1C][30;80H8[25;48H[34h[?25h[?25l[46m[[1C][0m[30;80H7[25;47H[34h[?25h[?25l[[1C][30;80H6[25;46H[34h[?25h[?25l[30;80H5[25;45H[34h[?25h[?25l[30;80H4[25;44H[34h[?25h[?25l[30;80H3[25;43H[34h[?25h[?25l[30;80H2[25;42H[34h[?25h[?25l[30;80H1[25;41H[34h[?25h[?25l[30;80H0[25;40H[34h[?25h[?25l[30;79H39[25;39H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H338,39[8C49%[25;39H[34h[?25h[?25l[30;79H40[25;40H[34h[?25h[?25l[1m[35ms[0m[1m[31m\"[0m[1m[35m, argv[1]);
        }
    }

    return;[0m[30;80H1[25;41H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);
        }
    }

    [1m[33mreturn[0m;[30;80H2[25;42H[34h[?25h[?25l[24;26H[46m{[26;9H}[0m[30;77H7,27[24;27H[34h[?25h[?25l{[26;9H}[30;77H6,1 [23;1H[34h[?25h[?25l[30;77H5,42[22;42H[34h[?25h[?25l[30;77H4,9 [21;9H[34h[?25h[?25l[17;27H[46m{[20;9H}[0m[30;77H3,10[20;10H[34h[?25h[?25l[17;27H{[20;9H}[30;77H2,2[19;20H[34h[?25h[?25l[30;77H1,42[18;42H[34h[?25h[?25l[17;27H[46m{[20;9H}[0m[30;77H0,28[17;28H[34h[?25h[?25l{[20;9H}[30;76H29,42[16;42H[34h[?25h[?25l[30;77H8,9 [15;9H[34h[?25h[?25l[30;77H7,42[14;42H[34h[?25h[?25l[30;77H6,24[13;24H[34h[?25h[?25l[30;77H5,21[12;21H[34h[?25h[?25l[30;77H4,42[11;42H[34h[?25h[?25l[10;12H[46m{[27;5H}[0m[30;77H3,13[10;13H[34h[?25h[?25l{[27;5H}[30;77H2,9 [9;9H[34h[?25h[?25l[5;26H[46m{[8;9H}[0m[30;77H1,10[8;10H[34h[?25h[?25l[5;26H{[8;9H}[30;77H0,2[7;20H[34h[?25h[?25l[30;76H19,42[6;42H[34h[?25h[?25l[30;80H1[6;41H[34h[?25h[?25l[30;80H0[6;40H[34h[?25h[?25l[30;79H39[6;39H[34h[?25h[?25l[30;80H8[6;38H[34h[?25h[?25l[30;80H7[6;37H[34h[?25h[?25l[30;80H6[6;36H[34h[?25h[?25l[1m[35mb[0m[1m[31m\"[0m[1m[35m, argv[1]);
            return;
        }
        
    } else {
        // Check for a valid unsigned int with no trailing characters
        int pid = 0;
        char trash = 0;
        int success = sscanf(argv[1], [0m[1C%u%c[1C[1m[35m, &pid, &trash); // Unsigned integer
        
        // Argument is not a valid job id
        if (success != 1) {
            printf([0m[1C%s PID must use an [1m[32munsigned[0m integer PID\n[1C[1m[35m, argv[0]);
            return;
        }
        
        struct job_t *job = getjobpid(jobs, pid);

        if (job == NULL) {
            printf([0m[1C%s: No such process\n[1C[1m[35m, argv[1]);
        }
    }

    return;[0m[30;80H7[6;37H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);
            [1m[33mreturn[0m;
        }
        
    } [1m[33melse[0m {
        [1m[36m// Check for a valid unsigned int with no trailing characters[0m
        [1m[32mint[0m pid = [1C;
        [1m[32mchar[0m trash = [1C;
        [1m[32mint[0m success = sscanf(argv[[1C], [1C[1m[31m%u%c[0m[1C, &pid, &trash); [1m[36m// Unsigned integer[0m
        
        [1m[36m// Argument is not a valid job id[0m
        [1m[33mif[0m (success != [1C) {
            printf([1C[1m[31m%s[0m[1m[35m PID must use an unsigned integer PID[0m[1m[31m\n[0m[1C, argv[[1C]);
            [1m[33mreturn[0m;
        }
        
        [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);

        [1m[33mif[0m (job == [4C) {
            printf([1C[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1C, argv[[1C]);
        }
    }

    [1m[33mreturn[0m;[30;80H8[6;38H[34h[?25h[?25l[5;26H[46m{[8;9H}[0m[30;77H8,27[5;27H[34h[?25h[?25l{[8;9H}[30;77H7,1 [4;1H[34h[?25h[?25l[3;38H[46m([9C)[0m[30;77H6,38[3;38H[34h[?25h[?25l([9C)[30;77H7,1 [4;1H[34h[?25h[?25l[5;29r[5;1H[L[1;30r[30;75H[K[30;75H318,1[9C49%[5;1H[34h[?25h[?25l[30;79H5[5;5H[34h[?25h[?25l[30;79H9[5;9H[34h[?25h[?25l /[30;79H10[5;10H[34h[?25h[?25l[1m[36m//[0m[30;80H1[5;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[5;12H[34h[?25h[?25l[1m[36m J[0m[30;80H3[5;13H[34h[?25h[?25l[1m[36mJo[0m[30;80H4[5;14H[34h[?25h[?25l[1m[36mob[0m[30;80H5[5;15H[34h[?25h[?25l[1m[36m [0m[30;80H6[5;16H[34h[?25h[?25l[1m[36m d[0m[30;80H7[5;17H[34h[?25h[?25l[1m[36mdo[0m[30;80H8[5;18H[34h[?25h[?25l[1m[36moe[0m[30;80H9[5;19H[34h[?25h[?25l[1m[36mes[0m[30;79H20[5;20H[34h[?25h[?25l[1m[36m [0m[30;80H1[5;21H[34h[?25h[?25l[1m[36m n[0m[30;80H2[5;22H[34h[?25h[?25l[1m[36mno[0m[30;80H3[5;23H[34h[?25h[?25l[1m[36mot[0m[30;80H4[5;24H[34h[?25h[?25l[1m[36m [0m[30;80H5[5;25H[34h[?25h[?25l[1m[36m e[0m[30;80H6[5;26H[34h[?25h[?25l[1m[36mex[0m[30;80H7[5;27H[34h[?25h[?25l[1m[36mxi[0m[30;80H8[5;28H[34h[?25h[?25l[1m[36mit[0m[30;80H9[5;29H[34h[?25h[?25l[5;28H[K[30;80H8[5;28H[34h[?25h[?25l[1m[36mis[0m[30;80H9[5;29H[34h[?25h[?25l[1m[36mst[0m[30;79H30[5;30H[34h[?25h[?25l[30;79H29[5;29H[34h[?25h[?25l[30;80H8[5;28H[34h[?25h[?25l[30;80H7[5;27H[34h[?25h[?25l[30;80H6[5;26H[34h[?25h[?25l[30;80H5[5;25H[34h[?25h[?25l[30;80H4[5;24H[34h[?25h[?25l[30;80H3[5;23H[34h[?25h[?25l[30;80H2[5;22H[34h[?25h[?25l[30;80H1[5;21H[34h[?25h[?25l[30;80H0[5;20H[34h[?25h[?25l[30;79H19[5;19H[34h[?25h[?25l[30;80H8[5;18H[34h[?25h[?25l[30;80H7[5;17H[34h[?25h[?25l[30;80H6[5;16H[34h[?25h[?25l[30;80H5[5;15H[34h[?25h[?25l[30;80H4[5;14H[34h[?25h[?25l[30;80H3[5;13H[34h[?25h[?25l[30;80H2[5;12H[34h[?25h[?25l[30;80H1[5;11H[34h[?25h[?25l[30;80H0[5;10H[34h[?25h[?25l[30;80H1[5;11H[34h[?25h[?25l[30;80H2[5;12H[34h[?25h[?25l[1m[36m CJob does not exist[0m[30;80H3[5;13H[34h[?25h[?25l[1m[36mChJob does not exist[0m[30;80H4[5;14H[34h[?25h[?25l[1m[36mheJob does not exist[0m[30;80H5[5;15H[34h[?25h[?25l[1m[36mecJob does not exist[0m[30;80H6[5;16H[34h[?25h[?25l[1m[36mckJob does not exist[0m[30;80H7[5;17H[34h[?25h[?25l[1m[36mk Job does not exist[0m[30;80H8[5;18H[34h[?25h[?25l[1m[36m fJob does not exist[0m[30;80H9[5;19H[34h[?25h[?25l[1m[36mfoJob does not exist[0m[30;79H20[5;20H[34h[?25h[?25l[1m[36morJob does not exist[0m[30;80H1[5;21H[34h[?25h[?25l[1m[36mr Job does not exist[0m[30;80H2[5;22H[34h[?25h[?25l[1m[36m ob does not exist[0m[5;39H[K[5;22H[34h[?25h[?25l[1m[36m job does not exist[0m[30;80H3[5;23H[34h[?25h[?25l[1m[36m ob does not exist[0m[5;39H[K[30;80H2[5;22H[34h[?25h[?25l[1m[36mrob does not exist[0m[5;38H[K[30;80H1[5;21H[34h[?25h[?25l[1m[36moob does not exist[0m[5;37H[K[30;80H0[5;20H[34h[?25h[?25l[1m[36mob does not exist[0m[5;36H[K[30;79H19[5;19H[34h[?25h[?25l[1m[36m ob does not exist[0m[5;35H[K[30;80H8[5;18H[34h[?25h[?25l[1m[36mkob does not exist[0m[5;34H[K[30;80H7[5;17H[34h[?25h[?25l[1m[36mcob does not exist[0m[5;33H[K[30;80H6[5;16H[34h[?25h[?25l[1m[36meob does not exist[0m[5;32H[K[30;80H5[5;15H[34h[?25h[?25l[1m[36mhob does not exist[0m[5;31H[K[30;80H4[5;14H[34h[?25h[?25l[1m[36mCob does not exist[0m[5;30H[K[30;80H3[5;13H[34h[?25h[?25l[1m[36m ob does not exist[0m[5;29H[K[30;80H2[5;12H[34h[?25h[?25l[1m[36m Iob does not exist[0m[30;80H3[5;13H[34h[?25h[?25l[1m[36mIfob does not exist[0m[30;80H4[5;14H[34h[?25h[?25l[1m[36mIob does not exist[0m[5;30H[K[30;80H3[5;13H[34h[?25h[?25l[1m[36m ob does not exist[0m[5;29H[K[30;80H2[5;12H[34h[?25h[?25l[1m[36m Job does not exist[0m[30;80H3[5;13H[34h[?25h[?25l[30;77H7,1 [4;1H[34h[?25h[?25l[30;77H6,13[3;13H[34h[?25h[?25l[30;77H5,1 [2;1H[34h[?25h[?25l[30;77H4,10[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H [1m[33mreturn[0m;[30;75H[K[30;75H313,13[8C49%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H312,13[8C49%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H311,13[8C49%[1;12H[46m([12C)[1;13H[34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[1;8H [1m[36m// Argument is not a valid job id[0m[30;75H[K[30;75H310,13[8C48%[2;12H([12C)[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H309,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mint[0m success = sscanf(rest, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &jid, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H308,13[8C48%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H307,13[8C48%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mint[0m jid = [1m[35m0[0m;[30;75H[K[30;75H306,13[8C48%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Check for a valid unsigned int with no trailing characters[0m[30;75H[K[30;75H305,13[8C48%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H304,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mchar[0m *rest = &argv[[1m[35m1[0m][[1m[35m1[0m];[30;75H[K[30;75H303,13[8C47%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Strip off the '%'[0m[30;75H[K[30;75H302,13[8C47%[1;13H[34h[?25h[?25l[30;77H3[2;13H[34h[?25h[?25l[30;77H4,1 [3;1H[34h[?25h[?25l[30;77H5,13[4;13H[34h[?25h[?25l[30;77H6[5;13H[34h[?25h[?25l[30;77H7[6;13H[34h[?25h[?25l[30;77H8[7;13H[34h[?25h[?25l[30;77H9,1 [8;1H[34h[?25h[?25l[30;76H10,13[9;13H[34h[?25h[?25l[10;12H[46m([12C)[0m[30;77H1[10;13H[34h[?25h[?25l([12C)[30;77H0[9;13H[34h[?25h[?25l[30;80H2[9;12H[34h[?25h[?25l[1m[36m CArgument is not a valid job id[0m[30;80H3[9;13H[34h[?25h[?25l[1m[36mChArgument is not a valid job id[0m[30;80H4[9;14H[34h[?25h[?25l[1m[36mheArgument is not a valid job id[0m[30;80H5[9;15H[34h[?25h[?25l[1m[36mecArgument is not a valid job id[0m[30;80H6[9;16H[34h[?25h[?25l[1m[36mckArgument is not a valid job id[0m[30;80H7[9;17H[34h[?25h[?25l[1m[36mk Argument is not a valid job id[0m[30;80H8[9;18H[34h[?25h[?25l[1m[36m iArgument is not a valid job id[0m[30;80H9[9;19H[34h[?25h[?25l[1m[36mifArgument is not a valid job id[0m[30;79H20[9;20H[34h[?25h[?25l[1m[36mf Argument is not a valid job id[0m[30;80H1[9;21H[34h[?25h[?25l[1m[36m rgument is not a valid job id[0m[9;50H[K[9;21H[34h[?25h[?25l[1m[36m argument is not a valid job id[0m[30;80H2[9;22H[34h[?25h[?25l[30;77H1[10;22H[34h[?25h[?25l[30;77H2[11;22H[34h[?25h[?25l[30;77H3,20[12;20H[34h[?25h[?25l[10;27H[46m{[13;9H}[0m[30;77H4,1[13;10H[34h[?25h[?25l[10;27H{[13;9H}[30;77H5,1 [14;1H[34h[?25h[?25l[30;77H6,22[15;22H[34h[?25h[?25l[30;77H7,1 [16;1H[34h[?25h[?25l[30;77H8,22[17;22H[34h[?25h[?25l[30;77H9[18;22H[34h[?25h[?25l[30;76H20[19;22H[34h[?25h[?25l[30;77H1,20[20;20H[34h[?25h[?25l[18;26H[46m{[21;9H}[0m[30;77H2,1[21;10H[34h[?25h[?25l[18;26H{[21;9H}[30;77H1,2[20;20H[34h[?25h[?25l[30;77H0,22[19;22H[34h[?25h[?25l[30;76H19[18;22H[34h[?25h[?25l[30;77H8[17;22H[34h[?25h[?25l[30;77H7,1 [16;1H[34h[?25h[?25l[30;77H6,22[15;22H[34h[?25h[?25l[30;77H5,1 [14;1H[34h[?25h[?25l[10;27H[46m{[13;9H}[0m[30;77H4,10[13;10H[34h[?25h[?25l[10;27H{[13;9H}[30;77H3,2[12;20H[34h[?25h[?25l[30;77H2,22[11;22H[34h[?25h[?25l[30;77H1[10;22H[34h[?25h[?25l[30;77H0[9;22H[34h[?25h[?25l[30;80H3[9;23H[34h[?25h[?25l[30;80H4[9;24H[34h[?25h[?25l[30;80H5[9;25H[34h[?25h[?25l[30;80H6[9;26H[34h[?25h[?25l[30;80H7[9;27H[34h[?25h[?25l[30;80H8[9;28H[34h[?25h[?25l[30;80H9[9;29H[34h[?25h[?25l[30;79H30[9;30H[34h[?25h[?25l[30;80H1[9;31H[34h[?25h[?25l[30;80H2[9;32H[34h[?25h[?25l[30;80H3[9;33H[34h[?25h[?25l[30;80H4[9;34H[34h[?25h[?25l[30;80H5[9;35H[34h[?25h[?25l[30;80H4[9;34H[34h[?25h[?25l[30;80H3[9;33H[34h[?25h[?25l[1m[36m ot a valid job id[0m[9;50H[K[9;33H[34h[?25h[?25l[1m[36m t a valid job id[0m[9;49H[K[9;33H[34h[?25h[?25l[1m[36m  a valid job id[0m[9;48H[K[9;33H[34h[?25h[?25l[1m[36m a valid job id[0m[9;47H[K[9;33H[34h[?25h[?25l[10;27H[46m{[13;9H}[0m[30;77H1,28[10;28H[34h[?25h[?25l{[13;9H}[30;77H2,33[11;33H[34h[?25h[?25l[30;77H3,20[12;20H[34h[?25h[?25l[10;27H[46m{[13;9H}[0m[30;77H4,1[13;10H[34h[?25h[?25l[10;27H{[13;9H}[30;77H5,1 [14;1H[34h[?25h[?25l[30;77H6,33[15;33H[34h[?25h[?25l[30;77H7,1 [16;1H[34h[?25h[?25l[30;77H8,30[17;30H[34h[?25h[?25l[18;26H[46m{[21;9H}[0m[30;77H9,27[18;27H[34h[?25h[?25l{[21;9H}[30;76H20,33[19;33H[34h[?25h[?25l[30;77H1,20[20;20H[34h[?25h[?25l[18;26H[46m{[21;9H}[0m[30;77H2,1[21;10H[34h[?25h[?25l[18;26H{[21;9H}[30;77H3,9 [22;9H[34h[?25h[?25l[30;77H4,13[23;13H[34h[?25h[?25l[30;77H5,3[24;33H[34h[?25h[?25l[30;77H6,21[25;21H[34h[?25h[?25l[30;77H7,24[26;24H[34h[?25h[?25l[30;77H8,33[27;33H[34h[?25h[?25l[30;77H9,9 [28;9H[34h[?25h[?25l[30;79H8[28;8H[34h[?25h[?25l[30;76H30[29;8H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H331,8[9C47%[29;8H[34h[?25h[?25l[30;77H0[28;8H[34h[?25h[?25l[30;79H9[28;9H[34h[?25h[?25l[30;79H10[28;10H[34h[?25h[?25l[30;80H1[28;11H[34h[?25h[?25l[30;80H2[28;12H[34h[?25h[?25l[1m[36m CArgument is not a valid job id[0m[30;80H3[28;13H[34h[?25h[?25l[1m[36mChArgument is not a valid job id[0m[30;80H4[28;14H[34h[?25h[?25l[1m[36mheArgument is not a valid job id[0m[30;80H5[28;15H[34h[?25h[?25l[1m[36mecArgument is not a valid job id[0m[30;80H6[28;16H[34h[?25h[?25l[1m[36mckArgument is not a valid job id[0m[30;80H7[28;17H[34h[?25h[?25l[1m[36mk Argument is not a valid job id[0m[30;80H8[28;18H[34h[?25h[?25l[1m[36m iArgument is not a valid job id[0m[30;80H9[28;19H[34h[?25h[?25l[1m[36mifArgument is not a valid job id[0m[30;79H20[28;20H[34h[?25h[?25l[1m[36mf Argument is not a valid job id[0m[30;80H1[28;21H[34h[?25h[?25l[1m[36m rgument is not a valid job id[0m[28;50H[K[28;21H[34h[?25h[?25l[1m[36m argument is not a valid job id[0m[30;80H2[28;22H[34h[?25h[?25l[30;80H3[28;23H[34h[?25h[?25l[30;80H4[28;24H[34h[?25h[?25l[30;80H5[28;25H[34h[?25h[?25l[30;80H6[28;26H[34h[?25h[?25l[30;80H7[28;27H[34h[?25h[?25l[30;80H8[28;28H[34h[?25h[?25l[30;80H9[28;29H[34h[?25h[?25l[30;79H30[28;30H[34h[?25h[?25l[30;80H1[28;31H[34h[?25h[?25l[30;80H2[28;32H[34h[?25h[?25l[30;80H3[28;33H[34h[?25h[?25l[1m[36m ot a valid job id[0m[28;50H[K[28;33H[34h[?25h[?25l[1m[36m t a valid job id[0m[28;49H[K[28;33H[34h[?25h[?25l[1m[36m  a valid job id[0m[28;48H[K[28;33H[34h[?25h[?25l[1m[36m a valid job id[0m[28;47H[K[28;33H[34h[?25h[?25l[30;80H4[28;34H[34h[?25h[?25l[30;80H5[28;35H[34h[?25h[?25l[30;80H6[28;36H[34h[?25h[?25l[30;80H7[28;37H[34h[?25h[?25l[30;80H6[28;36H[34h[?25h[?25l[30;80H5[28;35H[34h[?25h[?25l[1m[36m alid job id[0m[28;46H[K[28;35H[34h[?25h[?25l[1m[36m lid job id[0m[28;45H[K[28;35H[34h[?25h[?25l[1m[36m id job id[0m[28;44H[K[28;35H[34h[?25h[?25l[1m[36m d job id[0m[28;43H[K[28;35H[34h[?25h[?25l[1m[36m  job id[0m[28;42H[K[28;35H[34h[?25h[?25l[1m[36m job id[0m[28;41H[K[28;35H[34h[?25h[?25l[1m[36m ob id[0m[28;40H[K[28;35H[34h[?25h[?25l[1m[36m b id[0m[28;39H[K[28;35H[34h[?25h[?25l[1m[36m  id[0m[28;38H[K[28;35H[34h[?25h[?25l[1m[36m b id[0m[30;80H6[28;36H[34h[?25h[?25l[1m[36m  id[0m[28;38H[K[30;80H5[28;35H[34h[?25h[?25l[1m[36m v id[0m[30;80H6[28;36H[34h[?25h[?25l[1m[36mva id[0m[30;80H7[28;37H[34h[?25h[?25l[1m[36mal id[0m[30;80H8[28;38H[34h[?25h[?25l[1m[36mli id[0m[30;80H9[28;39H[34h[?25h[?25l[1m[36mid id[0m[30;79H40[28;40H[34h[?25h[?25l[30;80H1[28;41H[34h[?25h[?25l[1m[36m pid[0m[30;80H2[28;42H[34h[?25h[?25l[30;77H1,28[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integer PID[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H332,42[8C48%[29;42H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mreturn[0m;[30;75H[K[30;75H333,20[8C48%[29;20H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H334,10[8C48%[26;27H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H335,9[9C48%[25;27H{[28;9H}[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H336,42[8C48%[29;42H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H337,1[9C48%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H338,27[8C48%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H339,42[8C49%[29;42H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H340,10[8C49%[27;26H[46m{[29;9H}[34h[?25h[?25l[0m[27;26H{[29;9H}[30;76H39,42[28;42H[34h[?25h[?25l[27;26H[46m{[29;9H}[0m[30;77H8,27[27;27H[34h[?25h[?25l{[29;9H}[30;77H7,1 [26;1H[34h[?25h[?25l[30;77H6,42[25;42H[34h[?25h[?25l[30;77H5,9 [24;9H[34h[?25h[?25l[20;27H[46m{[23;9H}[0m[30;77H4,10[23;10H[34h[?25h[?25l[20;27H{[23;9H}[30;77H3,2[22;20H[34h[?25h[?25l[30;77H2,42[21;42H[34h[?25h[?25l[20;27H[46m{[23;9H}[0m[30;77H1,28[20;28H[34h[?25h[?25l{[23;9H}[30;77H0,42[19;42H[34h[?25h[?25l[30;76H29,9 [18;9H[34h[?25h[?25l[30;77H8,42[17;42H[34h[?25h[?25l[30;77H7,24[16;24H[34h[?25h[?25l[30;77H6,21[15;21H[34h[?25h[?25l[30;77H5,42[14;42H[34h[?25h[?25l[30;77H4,13[13;13H[34h[?25h[?25l[30;77H3,9 [12;9H[34h[?25h[?25l[8;26H[46m{[11;9H}[0m[30;77H2,10[11;10H[34h[?25h[?25l[8;26H{[11;9H}[30;77H1,2[10;20H[34h[?25h[?25l[30;77H0,42[9;42H[34h[?25h[?25l[8;26H[46m{[11;9H}[0m[30;76H19,27[8;27H[34h[?25h[?25l{[11;9H}[30;77H8,30[7;30H[34h[?25h[?25l[30;77H7,1 [6;1H[34h[?25h[?25l[30;77H6,42[5;42H[34h[?25h[?25l[30;77H5,1 [4;1H[34h[?25h[?25l[30;77H4,10[3;10H[34h[?25h[?25l[30;77H3,2[2;20H[34h[?25h[?25l[30;77H2,42[1;42H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H311,28[8C49%[1;27H[46m{[4;9H}[1;28H[34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[1;8H [1m[36m// Check if argument is a valid job id[0m[30;75H[K[30;75H310,42[8C48%[2;27H{[5;9H}[1;42H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H309,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mint[0m success = sscanf(rest, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &jid, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H308,42[8C48%[1;42H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H307,24[8C48%[1;24H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mint[0m jid = [1m[35m0[0m;[30;75H[K[30;75H306,21[8C48%[1;21H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Check for a valid unsigned int with no trailing characters[0m[30;75H[K[30;75H305,42[8C48%[1;42H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H304,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[32mchar[0m *rest = &argv[[1m[35m1[0m][[1m[35m1[0m];[30;75H[K[30;75H303,34[8C47%[1;34H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Strip off the '%'[0m[30;75H[K[30;75H302,29[8C47%[1;29H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[30;75H[K[30;75H301,29[8C47%[1;28H[46m{[24;5H}[1;29H[34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[30;75H[K[30;75H300,1[9C47%[2;28H{[25;5H}[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H299,6[9C47%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H298,16[8C47%[1;16H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m command requires PID or [0m[1m[31m%%[0m[1m[35mjobid argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H297,42[8C46%[1;42H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (argv[[1m[35m1[0m] == [1m[35m0[0m || argv[[1m[35m2[0m] != [1m[35m0[0m) {[30;75H[K[30;75H296,40[8C46%[1;39H[46m{[4;5H}[1;40H[34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[1;4H [1m[36m// Bad arguments: No args or too many[0m[30;75H[K[30;75H295,42[8C46%[2;39H{[5;5H}[1;42H[34h[?25h[?25l[2;39H[46m{[5;5H}[0m[30;77H6,40[2;40H[34h[?25h[?25l{[5;5H}[30;77H7,42[3;42H[34h[?25h[?25l[30;77H8,16[4;16H[34h[?25h[?25l[2;39H[46m{[5;5H}[0m[30;77H9,6 [5;6H[34h[?25h[?25l[2;39H{[5;5H}[30;75H300,1[6;1H[34h[?25h[?25l[30;79H5[6;5H[34h[?25h[?25l[7;29r[7;1H[L[1;30r[30;75H[K[30;75H301,5[9C46%[7;5H[34h[?25h[?25l[30;77H0[6;5H[34h[?25h[?25l[7;29r[7;1H[L[1;30r[30;75H[K[30;75H301,5[9C46%[7;5H[34h[?25h[?25l i[30;79H6[7;6H[34h[?25h[?25lin[30;79H7[7;7H[34h[?25h[?25l[1m[32mint[0m[30;79H8[7;8H[34h[?25h[?25l[30;79H9[7;9H[34h[?25h[?25l p[30;79H10[7;10H[34h[?25h[?25l[7;9H[K[30;79H9 [7;9H[34h[?25h[?25l j[30;79H10[7;10H[34h[?25h[?25ljo[30;80H1[7;11H[34h[?25h[?25lob[30;80H2[7;12H[34h[?25h[?25l[30;80H3[7;13H[34h[?25h[?25l =[30;80H4[7;14H[34h[?25h[?25l[30;80H5[7;15H[34h[?25h[?25l [1m[35m0[0m[30;80H6[7;16H[34h[?25h[?25l[1m[35m0[0m;[30;80H7[7;17H[34h[?25h[?25l[30;77H2,1 [8;1H[34h[?25h[?25l[9;15H[46m[[1C][0m[30;77H3,17[9;17H[34h[?25h[?25l[[1C][30;77H2,1 [8;1H[34h[?25h[?25l[9;29r[9;1H[L[1;30r[30;75H[K[30;75H303,1[9C46%[9;1H[34h[?25h[?25l[30;77H2[8;1H[34h[?25h[?25l[30;79H5[8;5H[34h[?25h[?25l i[30;79H6[8;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[8;7H[34h[?25h[?25l[30;79H8[8;8H[34h[?25h[?25l ([10;28H[1m[37m[41m{[20;27H{[23;9H}[28;26H{[0m[30;79H9[8;9H[34h[?25h[?25l(*[30;79H10[8;10H[34h[?25h[?25l*a[30;80H1[8;11H[34h[?25h[?25lar[30;80H2[8;12H[34h[?25h[?25lrg[30;80H3[8;13H[34h[?25h[?25l[8;12H[K[30;80H2[8;12H[34h[?25h[?25l[8;11H[K[30;80H1[8;11H[34h[?25h[?25l[8;10H[K[30;80H0[8;10H[34h[?25h[?25l*([30;80H1[8;11H[34h[?25h[?25l(a[30;80H2[8;12H[34h[?25h[?25lar[30;80H3[8;13H[34h[?25h[?25lrg[30;80H4[8;14H[34h[?25h[?25lg[[12;33H[1m[37m[41m;[15;20H;[16;23H;[17;57H;[21;80H;[22;19H;[25;49H;[29;49H;[0m[30;80H5[8;15H[34h[?25h[?25l[v[30;80H6[8;16H[34h[?25h[?25l[8;15H[K[30;80H5[8;15H[34h[?25h[?25l[8;14H[K[12;33H;[15;20H;[16;23H;[17;57H;[21;80H;[22;19H;[25;49H;[29;49H;[30;80H4[8;14H[34h[?25h[?25lgv[30;80H5[8;15H[34h[?25h[?25lv[[12;33H[1m[37m[41m;[15;20H;[16;23H;[17;57H;[21;80H;[22;19H;[25;49H;[29;49H;[0m[30;80H6[8;16H[34h[?25h[?25l[[1m[35m1[0m[30;80H7[8;17H[34h[?25h[?25l[1m[35m1[0m][12;33H;[15;20H;[16;23H;[17;57H;[21;80H;[22;19H;[25;49H;[29;49H;[8;15H[46m[[1C][0m[30;80H8[8;18H[34h[?25h[?25l[46m][0m)[8;10H[46m([0margv[[1C][46m)[0m[30;80H9[8;19H[34h[?25h[?25l[8;10H([7C)[30;79H20[8;20H[34h[?25h[?25l =[30;80H1[8;21H[34h[?25h[?25l==[30;80H2[8;22H[34h[?25h[?25l[30;80H3[8;23H[34h[?25h[?25l '[30;80H4[8;24H[34h[?25h[?25l'%[30;80H5[8;25H[34h[?25h[?25l[1m[35m'%'[0m[30;80H6[8;26H[34h[?25h[?25l[1m[35m'[0m)[10;28H{[20;27H{[23;9H}[28;26H{[8;8H[46m([17C)[0m[30;80H7[8;27H[34h[?25h[?25l[8;8H([17C)[30;80H8[8;28H[34h[?25h[?25l {[30;80H9[8;29H[34h[?25h[?25l[9;29r[9;1H[L[1;30r[30;75H[K[30;75H303,9[9C46%[9;9H[34h[?25h[?25l    }[8;28H[46m{
[0m    [46m}[0m[30;79H6[9;6H[34h[?25h[?25l[8;28H{
    }[30;77H2[8;6H[34h[?25h[?25l[22C[46m{
[0m    [46m}[0m[30;79H29[8;29H[34h[?25h[?25l[9;29r[9;1H[L[1;30r[9;5H[46m [0m
    }[30;75H[K[30;75H303,9[9C46%[8;28H{
        [34h[?25h[?25l[8;8H[46m([17C)[0m[30;77H2[8;9H[34h[?25h[?25l([17C)[30;77H1[7;9H[34h[?25h[?25l[30;79H17[7;17H[34h[?25h[?25l[8;29r[8;1H[L[1;30r[30;75H[K[30;75H302,5[9C46%[8;5H[34h[?25h[?25l c[30;79H6[8;6H[34h[?25h[?25lch[30;79H7[8;7H[34h[?25h[?25lha[30;79H8[8;8H[34h[?25h[?25l[1m[32mchar[0m[30;79H9[8;9H[34h[?25h[?25l[1m[32mr[0m*[30;79H10[8;10H[34h[?25h[?25l[30;80H1[8;11H[34h[?25h[?25l[30;80H0[8;10H[34h[?25h[?25l[8;9H[K[30;79H9 [8;9H[34h[?25h[?25l[30;79H10[8;10H[34h[?25h[?25l *[30;80H1[8;11H[34h[?25h[?25l*n[30;80H2[8;12H[34h[?25h[?25lnu[30;80H3[8;13H[34h[?25h[?25lum[30;80H4[8;14H[34h[?25h[?25lmb[30;80H5[8;15H[34h[?25h[?25lbe[30;80H6[8;16H[34h[?25h[?25ler[30;80H7[8;17H[34h[?25h[?25l[30;80H8[8;18H[34h[?25h[?25l =[30;80H9[8;19H[34h[?25h[?25l[30;79H20[8;20H[34h[?25h[?25l [1m[35m0[0m[30;80H1[8;21H[34h[?25h[?25l[1m[35m0[0m;[30;80H2[8;22H[34h[?25h[?25l[30;80H1[8;21H[34h[?25h[?25l[30;80H0[8;20H[34h[?25h[?25l[30;77H3[9;20H[34h[?25h[?25l[30;77H4,1 [10;1H[34h[?25h[?25l[30;79H5[10;5H[34h[?25h[?25l[30;79H9[10;9H[34h[?25h[?25l[9;8H[46m([17C)[0m[30;77H3[9;9H[34h[?25h[?25l([17C)[30;77H2[8;9H[34h[?25h[?25l[30;79H22[8;22H[34h[?25h[?25l[30;80H1[8;21H[34h[?25h[?25l ;[8;21H[K[30;80H0[8;20H[34h[?25h[?25l a;[30;80H1[8;21H[34h[?25h[?25lar;[30;80H2[8;22H[34h[?25h[?25lrg;[30;80H3[8;23H[34h[?25h[?25lgv;[30;80H4[8;24H[34h[?25h[?25lv[[1m[37m[41m;[9;28H{[11;5H}[13;28H{[15;33H;[18;20H;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[0m[30;80H5[8;25H[34h[?25h[?25l[[1m[35m1[0m[1m[37m[41m;[0m[30;80H6[8;26H[34h[?25h[?25l[1m[35m1[0m];[9;28H{[11;5H}[13;28H{[15;33H;[18;20H;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[8;24H[46m[[1C][0m[30;80H7[8;27H[34h[?25h[?25l[[1C][9;8H[46m([17C)[0m[30;77H3[9;27H[34h[?25h[?25l[9;8H([17C)[30;77H4,9 [10;9H[34h[?25h[?25l[9;8H[46m([17C)[0m[30;77H3,27[9;27H[34h[?25h[?25l[8;24H[46m[[1C][0m[9;8H([17C)[30;77H2[8;27H[34h[?25h[?25l[30;80H6[8;26H[34h[?25h[?25l[30;80H5[8;25H[34h[?25h[?25l[30;80H4[8;24H[34h[?25h[?25l[[1C][30;80H3[8;23H[34h[?25h[?25l[30;80H2[8;22H[34h[?25h[?25l[30;80H1[8;21H[34h[?25h[?25l[30;80H0[8;20H[34h[?25h[?25l[30;79H19[8;19H[34h[?25h[?25l[30;80H8[8;18H[34h[?25h[?25l[30;80H7[8;17H[34h[?25h[?25l[30;80H8[8;18H[34h[?25h[?25l[30;80H9[8;19H[34h[?25h[?25l[30;79H20[8;20H[34h[?25h[?25l &argv[[1m[35m1[0m];[30;80H1[8;21H[34h[?25h[?25l argv[[1m[35m1[0m];[8;28H[K[30;80H0[8;20H[34h[?25h[?25l[30;77H3[9;20H[34h[?25h[?25l[30;77H4,9 [10;9H[34h[?25h[?25l n[30;79H10[10;10H[34h[?25h[?25lnu[30;80H1[10;11H[34h[?25h[?25lum[30;80H2[10;12H[34h[?25h[?25lmb[30;80H3[10;13H[34h[?25h[?25lbe[30;80H4[10;14H[34h[?25h[?25ler[30;80H5[10;15H[34h[?25h[?25l[30;80H6[10;16H[34h[?25h[?25l =[30;80H7[10;17H[34h[?25h[?25l[30;80H8[10;18H[34h[?25h[?25l &[30;80H9[10;19H[34h[?25h[?25l&a[30;79H20[10;20H[34h[?25h[?25lar[30;80H1[10;21H[34h[?25h[?25lrg[30;80H2[10;22H[34h[?25h[?25lgv[30;80H3[10;23H[34h[?25h[?25lv[
    [1m[37m[41m}[13;28H{[15;33H;[18;20H;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[0m[30;80H4[10;24H[34h[?25h[?25l[[1m[35m1[0m[30;80H5[10;25H[34h[?25h[?25l[1m[35m1[0m]
    }[13;28H{[15;33H;[18;20H;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[10;23H[46m[[1C][0m[30;80H6[10;26H[34h[?25h[?25l[46m][0m[
    [1m[37m[41m}[13;28H{[15;33H;[18;20H;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[0m[10;23H[[1C][30;80H7[10;27H[34h[?25h[?25l[[1m[35m1[0m[30;80H8[10;28H[34h[?25h[?25l[1m[35m1[0m]
    }[13;28H{[15;33H;[18;20H;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[10;26H[46m[[1C][0m[30;80H9[10;29H[34h[?25h[?25l[46m][0m;[[1C][30;79H30[10;30H[34h[?25h[?25l[30;80H1[10;31H[34h[?25h[?25l /[30;80H2[10;32H[34h[?25h[?25l[1m[36m//[0m[30;80H3[10;33H[34h[?25h[?25l[1m[36m [0m[30;80H4[10;34H[34h[?25h[?25l[1m[36m R[0m[30;80H5[10;35H[34h[?25h[?25l[1m[36mRe[0m[30;80H6[10;36H[34h[?25h[?25l[1m[36mem[0m[30;80H7[10;37H[34h[?25h[?25l[1m[36mmo[0m[30;80H8[10;38H[34h[?25h[?25l[1m[36mov[0m[30;80H9[10;39H[34h[?25h[?25l[1m[36mve[0m[30;79H40[10;40H[34h[?25h[?25l[1m[36m [0m[30;80H1[10;41H[34h[?25h[?25l[1m[36m l[0m[30;80H2[10;42H[34h[?25h[?25l[1m[36mle[0m[30;80H3[10;43H[34h[?25h[?25l[1m[36mea[0m[30;80H4[10;44H[34h[?25h[?25l[1m[36mad[0m[30;80H5[10;45H[34h[?25h[?25l[1m[36mdi[0m[30;80H6[10;46H[34h[?25h[?25l[1m[36min[0m[30;80H7[10;47H[34h[?25h[?25l[1m[36mng[0m[30;80H8[10;48H[34h[?25h[?25l[1m[36m [0m[30;80H9[10;49H[34h[?25h[?25l[1m[36m '[0m[30;79H50[10;50H[34h[?25h[?25l[1m[36m'%[0m[30;80H1[10;51H[34h[?25h[?25l[1m[36m%'[0m[30;80H2[10;52H[34h[?25h[?25l[9;28H[46m{[11;5H}[0m[30;77H3,29[9;29H[34h[?25h[?25l[10;29r[10;1H[L[1;30r[11;5H[46m [0m[30;75H[K[30;75H304,9[9C46%[9;28H{[11;5H 
    }[10;9H[34h[?25h[?25l j[30;79H10[10;10H[34h[?25h[?25ljo[30;80H1[10;11H[34h[?25h[?25lob[30;80H2[10;12H[34h[?25h[?25l[30;80H3[10;13H[34h[?25h[?25l =[30;80H4[10;14H[34h[?25h[?25l[30;80H5[10;15H[34h[?25h[?25l [1m[35m1[0m[30;80H6[10;16H[34h[?25h[?25l[1m[35m1[0m;[30;80H7[10;17H[34h[?25h[?25l[9;15H[46m[[1C][0m[30;77H3[9;17H[34h[?25h[?25l[[1C][30;77H2[8;17H[34h[?25h[?25l[30;77H1[7;17H[34h[?25h[?25l[30;80H6[7;16H[34h[?25h[?25l[30;80H5[7;15H[34h[?25h[?25l[30;80H4[7;14H[34h[?25h[?25l[30;80H3[7;13H[34h[?25h[?25l[30;80H2[7;12H[34h[?25h[?25l[30;80H1[7;11H[34h[?25h[?25l[30;80H0[7;10H[34h[?25h[?25l[30;79H9 [7;9H[34h[?25h[?25l ijob = [1m[35m0[0m;[30;79H10[7;10H[34h[?25h[?25lisjob = [1m[35m0[0m;[30;80H1[7;11H[34h[?25h[?25lsJjob = [1m[35m0[0m;[30;80H2[7;12H[34h[?25h[?25lJob = [1m[35m0[0m;[7;19H[K[7;12H[34h[?25h[?25l[30;77H2[8;12H[34h[?25h[?25l[30;77H3[9;12H[34h[?25h[?25l[30;77H4[10;12H[34h[?25h[?25l[30;80H1[10;11H[34h[?25h[?25l[30;80H0[10;10H[34h[?25h[?25l[30;79H9 [10;9H[34h[?25h[?25l ijob = [1m[35m1[0m;[30;79H10[10;10H[34h[?25h[?25lisjob = [1m[35m1[0m;[30;80H1[10;11H[34h[?25h[?25lsJjob = [1m[35m1[0m;[30;80H2[10;12H[34h[?25h[?25lJob = [1m[35m1[0m;[10;19H[K[10;12H[34h[?25h[?25l[30;77H5[11;12H[34h[?25h[?25l[9;28H[46m{[12;5H}[0m[30;77H6,6 [12;6H[34h[?25h[?25l[9;28H{[12;5H}[30;77H7,1[13;1H[34h[?25h[?25l[30;77H8,12[14;12H[34h[?25h[?25l[30;77H9[15;12H[34h[?25h[?25l[30;76H10[16;12H[34h[?25h[?25l[30;77H1,1 [17;1H[34h[?25h[?25l[16;29r[29;1H
[1;30r[16;8H [1m[32mchar[0m *rest = &argv[[1m[35m1[0m][[1m[35m1[0m];[30;75H[K[30;75H310,34[8C46%[16;34H[34h[?25h[?25l[16;33H[K[16;30H[46m[[1C][0m[30;80H3[16;33H[34h[?25h[?25l[16;32H[K[18;20H[1m[37m[41m;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[0m[16;30H[[30;80H2[16;32H[34h[?25h[?25l[16;31H[K[30;80H1[16;31H[34h[?25h[?25l[16;30H[K[18;20H;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[16;27H[46m[[1C][0m[30;80H0[16;30H[34h[?25h[?25l[16;29H[K[18;20H[1m[37m[41m;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[0m[16;27H[[30;79H29[16;29H[34h[?25h[?25l[16;28H[K[30;80H8[16;28H[34h[?25h[?25l[16;27H[K[18;20H;[19;23H;[20;57H;[23;27H{[24;80H;[25;19H;[26;9H}[28;49H;[30;80H7[16;27H[34h[?25h[?25l[16;26H[K[30;80H6[16;26H[34h[?25h[?25l[16;25H[K[30;80H5[16;25H[34h[?25h[?25l[16;24H[K[30;80H4[16;24H[34h[?25h[?25l[16;23H[K[30;80H3[16;23H[34h[?25h[?25l[16;22H[K[30;80H2[16;22H[34h[?25h[?25l[30;80H1[16;21H[34h[?25h[?25l[16;20H[K[30;80H0[16;20H[34h[?25h[?25l[30;79H19[16;19H[34h[?25h[?25l[16;18H[K[30;80H8[16;18H[34h[?25h[?25l[16;17H[K[30;80H7[16;17H[34h[?25h[?25l[16;16H[K[30;80H6[16;16H[34h[?25h[?25l[16;15H[K[30;80H5[16;15H[34h[?25h[?25l[16;14H[K[30;80H4[16;14H[34h[?25h[?25l[30;80H3[16;13H[34h[?25h[?25lcha[16;12H[K[30;80H2[16;12H[34h[?25h[?25l[16;11H[K[30;80H1[16;11H[34h[?25h[?25l[16;10H[K[30;80H0[16;10H[34h[?25h[?25l[16;9H[K[30;79H9 [16;9H[34h[?25h[?25l[30;79H8[16;8H[34h[?25h[?25l[30;79H7[16;7H[34h[?25h[?25l[30;79H6[16;6H[34h[?25h[?25l[30;79H5[16;5H[34h[?25h[?25l[30;79H4[16;4H[34h[?25h[?25l[30;79H3[16;3H[34h[?25h[?25l[30;79H2[16;2H[34h[?25h[?25l[30;79H1[16;1H[34h[?25h[?25l[15;29r[29;1H
[1;30r[15;8H [1m[36m// Strip off the '%'[0m[29;8H [1m[36m// Job does not exist[0m[30;75H[K[30;75H309,29[8C46%[15;29H[34h[?25h[?25l[15;28H[K[30;80H8[15;28H[34h[?25h[?25l[15;27H[K[30;80H7[15;27H[34h[?25h[?25l[15;26H[K[30;80H6[15;26H[34h[?25h[?25l[15;25H[K[30;80H5[15;25H[34h[?25h[?25l[15;24H[K[30;80H4[15;24H[34h[?25h[?25l[15;23H[K[30;80H3[15;23H[34h[?25h[?25l[15;22H[K[30;80H2[15;22H[34h[?25h[?25l[15;21H[K[30;80H1[15;21H[34h[?25h[?25l[15;20H[K[30;80H0[15;20H[34h[?25h[?25l[15;19H[K[30;79H19[15;19H[34h[?25h[?25l[15;18H[K[30;80H8[15;18H[34h[?25h[?25l[15;17H[K[30;80H7[15;17H[34h[?25h[?25l[15;16H[K[30;80H6[15;16H[34h[?25h[?25l[15;15H[K[30;80H5[15;15H[34h[?25h[?25l[15;14H[K[30;80H4[15;14H[34h[?25h[?25l[15;13H[K[30;80H3[15;13H[34h[?25h[?25l[15;12H[K[30;80H2[15;12H[34h[?25h[?25l[15;11H[K[30;80H1[15;11H[34h[?25h[?25l/[15;10H[K[30;80H0[15;10H[34h[?25h[?25l[15;9H[K[30;79H9 [15;9H[34h[?25h[?25l[30;79H8[15;8H[34h[?25h[?25l[30;79H7[15;7H[34h[?25h[?25l[30;79H6[15;6H[34h[?25h[?25l[30;79H5[15;5H[34h[?25h[?25l[30;79H4[15;4H[34h[?25h[?25l[30;79H3[15;3H[34h[?25h[?25l[30;79H2[15;2H[34h[?25h[?25l[30;79H1[15;1H[34h[?25h[?25l[14;29r[29;1H
[1;30r[14;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[29;8H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H308,29[8C46%[14;29H[34h[?25h[?25l[14;28H[K[30;80H8[14;28H[34h[?25h[?25l[14;8H[46m([17C)[0m[30;80H7[14;27H[34h[?25h[?25l[14;26H[K[21;27H[1m[37m[41m{[24;9H}[29;26H{[0m[14;8H([30;80H6[14;26H[34h[?25h[?25l'%[14;25H[K[30;80H5[14;25H[34h[?25h[?25l[14;24H[K[30;80H4[14;24H[34h[?25h[?25l[14;23H[K[30;80H3[14;23H[34h[?25h[?25l[30;80H2[14;22H[34h[?25h[?25l[14;21H[K[30;80H1[14;21H[34h[?25h[?25l[14;20H[K[30;80H0[14;20H[34h[?25h[?25l[14;10H[46m([7C)[0m[30;79H19[14;19H[34h[?25h[?25l[14;18H[K[14;10H(argv[46m[[1C][0m[30;80H8[14;18H[34h[?25h[?25l[14;17H[K[16;20H[1m[37m[41m;[17;23H;[18;57H;[22;80H;[23;19H;[26;49H;[0m[14;15H[[30;80H7[14;17H[34h[?25h[?25l[14;16H[K[30;80H6[14;16H[34h[?25h[?25l[14;15H[K[16;20H;[17;23H;[18;57H;[22;80H;[23;19H;[26;49H;[30;80H5[14;15H[34h[?25h[?25l[14;14H[K[30;80H4[14;14H[34h[?25h[?25l[14;13H[K[30;80H3[14;13H[34h[?25h[?25l[14;12H[K[30;80H2[14;12H[34h[?25h[?25l[14;11H[K[30;80H1[14;11H[34h[?25h[?25l[14;10H[K[30;80H0[14;10H[34h[?25h[?25l[14;9H[K[30;79H9 [14;9H[34h[?25h[?25l[14;8H[K[21;27H{[24;9H}[29;26H{[30;79H8[14;8H[34h[?25h[?25l[30;79H7[14;7H[34h[?25h[?25li[14;6H[K[30;79H6[14;6H[34h[?25h[?25l[14;5H[K[30;79H5[14;5H[34h[?25h[?25l[30;79H4[14;4H[34h[?25h[?25l[30;79H3[14;3H[34h[?25h[?25l[30;79H2[14;2H[34h[?25h[?25l[30;79H1[14;1H[34h[?25h[?25l[13;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H307,1[9C46%[13;1H[34h[?25h[?25l[30;77H8[14;1H[34h[?25h[?25l[30;79H2[14;2H[34h[?25h[?25l[30;77H9[15;2H[34h[?25h[?25l[30;79H3[15;3H[34h[?25h[?25l[30;79H4[15;4H[34h[?25h[?25l[30;79H5[15;5H[34h[?25h[?25l[30;79H6[15;6H[34h[?25h[?25l[30;79H7[15;7H[34h[?25h[?25l[30;79H8[15;8H[34h[?25h[?25l[30;79H9[15;9H[34h[?25h[?25l[30;79H10[15;10H[34h[?25h[?25l[30;80H1[15;11H[34h[?25h[?25l[30;80H2[15;12H[34h[?25h[?25l[30;80H3[15;13H[34h[?25h[?25l[30;80H4[15;14H[34h[?25h[?25l[30;80H5[15;15H[34h[?25h[?25l[30;80H4[15;14H[34h[?25h[?25ljpid = [1m[35m0[0m;[30;80H5[15;15H[34h[?25h[?25ljid = [1m[35m0[0m;[15;21H[K[30;80H4[15;14H[34h[?25h[?25l id = [1m[35m0[0m;[15;20H[K[30;80H3[15;13H[34h[?25h[?25l jid = [1m[35m0[0m;[30;80H4[15;14H[34h[?25h[?25l id = [1m[35m0[0m;[15;20H[K[30;80H3[15;13H[34h[?25h[?25l pid = [1m[35m0[0m;[30;80H4[15;14H[34h[?25h[?25l id = [1m[35m0[0m;[15;20H[K[30;80H3[15;13H[34h[?25h[?25l[30;77H8[14;13H[34h[?25h[?25l[30;80H2[14;12H[34h[?25h[?25l[30;80H1[14;11H[34h[?25h[?25l[30;80H0[14;10H[34h[?25h[?25l[30;79H9 [14;9H[34h[?25h[?25l [1m[36m// Check for a valid unsigned int with no trailing characters[0m[14;69H[K[30;79H8[14;8H[34h[?25h[?25l [1m[36m// Check for a valid unsigned int with no trailing characters[0m[14;68H[K[30;79H7[14;7H[34h[?25h[?25l [1m[36m// Check for a valid unsigned int with no trailing characters[0m[14;67H[K[30;79H6[14;6H[34h[?25h[?25l [1m[36m// Check for a valid unsigned int with no trailing characters[0m[14;66H[K[30;79H5[14;5H[34h[?25h[?25l[30;77H9[15;5H[34h[?25h[?25l   [1m[32mint[0m id = [1m[35m0[0m;[15;19H[K[15;5H[34h[?25h[?25l  [1m[32mint[0m id = [1m[35m0[0m;[15;18H[K[15;5H[34h[?25h[?25l [1m[32mint[0m id = [1m[35m0[0m;[15;17H[K[15;5H[34h[?25h[?25l [1m[32mint[0m id = [1m[35m0[0m;[15;16H[K[15;5H[34h[?25h[?25l[30;77H8[14;5H[34h[?25h[?25l[30;77H7,1[13;1H[34h[?25h[?25l[9;28H[46m{[12;5H}[0m[30;77H6,5[12;5H[34h[?25h[?25l[9;28H{[12;5H}[30;77H5[11;5H[34h[?25h[?25l[30;77H4[10;5H[34h[?25h[?25l[30;77H3[9;5H[34h[?25h[?25l[30;77H2[8;5H[34h[?25h[?25l[30;77H1[7;5H[34h[?25h[?25l[30;77H0[6;5H[34h[?25h[?25l[7;29r[7;1H[L[1;30r[30;75H[K[30;75H301,5[9C46%[7;5H[34h[?25h[?25l /[30;79H6[7;6H[34h[?25h[?25l[1m[36m//[0m[30;79H7[7;7H[34h[?25h[?25l[1m[36m [0m[30;79H8[7;8H[34h[?25h[?25l[1m[36m C[0m[30;79H9[7;9H[34h[?25h[?25l[1m[36mCh[0m[30;79H10[7;10H[34h[?25h[?25l[1m[36mhe[0m[30;80H1[7;11H[34h[?25h[?25l[1m[36mec[0m[30;80H2[7;12H[34h[?25h[?25l[1m[36mck[0m[30;80H3[7;13H[34h[?25h[?25l[1m[36m [0m[30;80H4[7;14H[34h[?25h[?25l[1m[36m i[0m[30;80H5[7;15H[34h[?25h[?25l[1m[36mif[0m[30;80H6[7;16H[34h[?25h[?25l[1m[36m [0m[30;80H7[7;17H[34h[?25h[?25l[1m[36m u[0m[30;80H8[7;18H[34h[?25h[?25l[1m[36mus[0m[30;80H9[7;19H[34h[?25h[?25l[1m[36msi[0m[30;79H20[7;20H[34h[?25h[?25l[1m[36min[0m[30;80H1[7;21H[34h[?25h[?25l[1m[36mng[0m[30;80H2[7;22H[34h[?25h[?25l[1m[36m [0m[30;80H3[7;23H[34h[?25h[?25l[1m[36m j[0m[30;80H4[7;24H[34h[?25h[?25l[1m[36mjo[0m[30;80H5[7;25H[34h[?25h[?25l[1m[36mob[0m[30;80H6[7;26H[34h[?25h[?25l[1m[36m [0m[30;80H7[7;27H[34h[?25h[?25l[1m[36m s[0m[30;80H8[7;28H[34h[?25h[?25l[1m[36msy[0m[30;80H9[7;29H[34h[?25h[?25l[1m[36myn[0m[30;79H30[7;30H[34h[?25h[?25l[1m[36mnt[0m[30;80H1[7;31H[34h[?25h[?25l[1m[36mta[0m[30;80H2[7;32H[34h[?25h[?25l[1m[36max[0m[30;80H3[7;33H[34h[?25h[?25l[1m[36mx,[0m[30;80H4[7;34H[34h[?25h[?25l[1m[36m [0m[30;80H5[7;35H[34h[?25h[?25l[1m[36m i[0m[30;80H6[7;36H[34h[?25h[?25l[1m[36mif[0m[30;80H7[7;37H[34h[?25h[?25l[1m[36m [0m[30;80H8[7;38H[34h[?25h[?25l[1m[36m s[0m[30;80H9[7;39H[34h[?25h[?25l[1m[36mso[0m[30;79H40[7;40H[34h[?25h[?25l[1m[36mo,[0m[30;80H1[7;41H[34h[?25h[?25l[1m[36m [0m[30;80H2[7;42H[34h[?25h[?25l[7;41H[K[30;80H1[7;41H[34h[?25h[?25l[7;40H[K[30;80H0[7;40H[34h[?25h[?25l[7;39H[K[30;79H39[7;39H[34h[?25h[?25l[7;38H[K[30;80H8[7;38H[34h[?25h[?25l[7;37H[K[30;80H7[7;37H[34h[?25h[?25l[7;36H[K[30;80H6[7;36H[34h[?25h[?25l[7;35H[K[30;80H5[7;35H[34h[?25h[?25l[7;34H[K[30;80H4[7;34H[34h[?25h[?25l[7;33H[K[30;80H3[7;33H[34h[?25h[?25l[1m[36mx.[0m[30;80H4[7;34H[34h[?25h[?25l[7;33H[K[30;80H3[7;33H[34h[?25h[?25l[30;77H2,19[8;19H[34h[?25h[?25l[30;77H3,28[9;28H[34h[?25h[?25l[10;28H[46m{[13;5H}[0m[30;77H4,29[10;29H[34h[?25h[?25l{[13;5H}[30;77H5,1[11;19H[34h[?25h[?25l[30;77H6,33[12;33H[34h[?25h[?25l[30;77H5,19[11;19H[34h[?25h[?25l[30;77H6,33[12;33H[34h[?25h[?25l[10;28H[46m{[13;5H}[0m[30;77H7,6 [13;6H[34h[?25h[?25l[10;28H{[13;5H}[30;77H8,1[14;1H[34h[?25h[?25l[30;77H9,33[15;33H[34h[?25h[?25l[30;76H10,16[16;16H[34h[?25h[?25l[30;77H1,24[17;24H[34h[?25h[?25l[30;79H1 [17;1H[34h[?25h[?25l       [1m[32mchar[0m trash = [1m[35m0[0m;[17;23H[K[17;1H[34h[?25h[?25l      [1m[32mchar[0m trash = [1m[35m0[0m;[17;22H[K[17;1H[34h[?25h[?25l     [1m[32mchar[0m trash = [1m[35m0[0m;[17;21H[K[17;1H[34h[?25h[?25l    [1m[32mchar[0m trash = [1m[35m0[0m;[17;20H[K[17;1H[34h[?25h[?25l[30;77H2[18;1H[34h[?25h[?25l       [1m[32mint[0m success = sscanf(rest, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &jid, &trash); [1m[36m// Unsigned integer[0m[18;77H[K[18;1H[34h[?25h[?25l      [1m[32mint[0m success = sscanf(rest, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &jid, &trash); [1m[36m// Unsigned integer[0m[18;76H[K[18;1H[34h[?25h[?25l     [1m[32mint[0m success = sscanf(rest, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &jid, &trash); [1m[36m// Unsigned integer[0m[18;75H[K[18;1H[34h[?25h[?25l    [1m[32mint[0m success = sscanf(rest, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &jid, &trash); [1m[36m// Unsigned integer[0m[18;74H[K[18;1H[34h[?25h[?25l[30;79H2[18;2H[34h[?25h[?25l[30;79H3[18;3H[34h[?25h[?25l[30;79H4[18;4H[34h[?25h[?25l[30;79H5[18;5H[34h[?25h[?25l[30;79H6[18;6H[34h[?25h[?25l[30;79H7[18;7H[34h[?25h[?25l[30;79H8[18;8H[34h[?25h[?25l[30;79H9[18;9H[34h[?25h[?25l[30;79H10[18;10H[34h[?25h[?25l[30;80H1[18;11H[34h[?25h[?25l[30;80H2[18;12H[34h[?25h[?25l[30;80H3[18;13H[34h[?25h[?25l[30;80H4[18;14H[34h[?25h[?25l[30;80H5[18;15H[34h[?25h[?25l[30;80H6[18;16H[34h[?25h[?25l[30;80H7[18;17H[34h[?25h[?25l[30;80H8[18;18H[34h[?25h[?25l[30;80H9[18;19H[34h[?25h[?25l[30;79H20[18;20H[34h[?25h[?25l[30;80H1[18;21H[34h[?25h[?25l[30;80H2[18;22H[34h[?25h[?25l[30;80H3[18;23H[34h[?25h[?25l[30;80H4[18;24H[34h[?25h[?25lf[46m([26C)[0m[30;80H5[18;25H[34h[?25h[?25l[30;80H6[18;26H[34h[?25h[?25l([26C)[30;80H7[18;27H[34h[?25h[?25l[30;80H8[18;28H[34h[?25h[?25l[30;80H9[18;29H[34h[?25h[?25l[30;79H30[18;30H[34h[?25h[?25l[30;80H1[18;31H[34h[?25h[?25l[30;80H2[18;32H[34h[?25h[?25l[30;80H3[18;33H[34h[?25h[?25l[30;80H4[18;34H[34h[?25h[?25l[30;80H5[18;35H[34h[?25h[?25l[30;80H6[18;36H[34h[?25h[?25l[30;80H7[18;37H[34h[?25h[?25l[30;80H8[18;38H[34h[?25h[?25l[30;80H9[18;39H[34h[?25h[?25l[30;79H40[18;40H[34h[?25h[?25l[30;80H1[18;41H[34h[?25h[?25l[30;80H2[18;42H[34h[?25h[?25l&id, &trash); [1m[36m// Unsigned integer[0m[18;73H[K[30;80H1[18;41H[34h[?25h[?25l[30;77H3,1 [19;1H[34h[?25h[?25l[30;77H4,41[20;41H[34h[?25h[?25l[1m[36m ob id[0m[20;46H[K[20;41H[34h[?25h[?25l[1m[36m b id[0m[20;45H[K[20;41H[34h[?25h[?25l[1m[36m  id[0m[20;44H[K[20;41H[34h[?25h[?25l[1m[36m id[0m[20;43H[K[20;41H[34h[?25h[?25l[1m[36m d[0m[20;42H[K[20;41H[34h[?25h[?25l[20;41H[K[20;41H[34h[?25h[?25l[1m[36m n[0m[30;80H2[20;42H[34h[?25h[?25l[1m[36mnu[0m[30;80H3[20;43H[34h[?25h[?25l[1m[36mum[0m[30;80H4[20;44H[34h[?25h[?25l[1m[36mmb[0m[30;80H5[20;45H[34h[?25h[?25l[1m[36mbe[0m[30;80H6[20;46H[34h[?25h[?25l[1m[36mer[0m[30;80H7[20;47H[34h[?25h[?25l[30;79H1 [20;1H[34h[?25h[?25l       [1m[36m// Check if argument is a valid number[0m[20;46H[K[20;1H[34h[?25h[?25l      [1m[36m// Check if argument is a valid number[0m[20;45H[K[20;1H[34h[?25h[?25l     [1m[36m// Check if argument is a valid number[0m[20;44H[K[20;1H[34h[?25h[?25l    [1m[36m// Check if argument is a valid number[0m[20;43H[K[20;1H[34h[?25h[?25l[30;77H3[19;1H[34h[?25h[?25l[30;77H2[18;1H[34h[?25h[?25l[30;79H2[18;2H[34h[?25h[?25l[30;79H3[18;3H[34h[?25h[?25l[30;79H4[18;4H[34h[?25h[?25l[30;79H5[18;5H[34h[?25h[?25l[30;79H6[18;6H[34h[?25h[?25l[30;79H7[18;7H[34h[?25h[?25l[30;79H8[18;8H[34h[?25h[?25l[30;79H9[18;9H[34h[?25h[?25l[30;79H10[18;10H[34h[?25h[?25l[30;80H1[18;11H[34h[?25h[?25l[30;80H2[18;12H[34h[?25h[?25l[30;80H3[18;13H[34h[?25h[?25l[30;80H4[18;14H[34h[?25h[?25l[30;80H5[18;15H[34h[?25h[?25l[30;80H6[18;16H[34h[?25h[?25l[30;80H7[18;17H[34h[?25h[?25l[30;80H8[18;18H[34h[?25h[?25l[30;80H9[18;19H[34h[?25h[?25l[30;79H20[18;20H[34h[?25h[?25l[30;80H1[18;21H[34h[?25h[?25l[30;80H2[18;22H[34h[?25h[?25l[30;80H3[18;23H[34h[?25h[?25l[30;80H4[18;24H[34h[?25h[?25lf[46m([25C)[0m[30;80H5[18;25H[34h[?25h[?25l[30;80H6[18;26H[34h[?25h[?25l([25C)[30;80H7[18;27H[34h[?25h[?25l[30;80H8[18;28H[34h[?25h[?25l[30;80H9[18;29H[34h[?25h[?25l[30;79H30[18;30H[34h[?25h[?25ls, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[18;72H[K[30;79H29[18;29H[34h[?25h[?25le, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[18;71H[K[30;80H8[18;28H[34h[?25h[?25le=, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;80H9[18;29H[34h[?25h[?25le, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[18;71H[K[30;80H8[18;28H[34h[?25h[?25lr, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[18;70H[K[30;80H7[18;27H[34h[?25h[?25l(, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[18;69H[K[18;25H[46m([21C)[0m[30;80H6[18;26H[34h[?25h[?25l[46m([0mn, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &tras[46mh[0m); [1m[36m// Unsigned integer[0m[18;25H([21Ch[30;80H7[18;27H[34h[?25h[?25lnu, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;80H8[18;28H[34h[?25h[?25lum, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;80H9[18;29H[34h[?25h[?25lmb, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;79H30[18;30H[34h[?25h[?25lbe, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;80H1[18;31H[34h[?25h[?25ler, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;80H2[18;32H[34h[?25h[?25l[30;77H3,1 [19;1H[34h[?25h[?25l[30;77H4,32[20;32H[34h[?25h[?25l[21;27H[46m{[24;9H}[0m[30;77H5,28[21;28H[34h[?25h[?25l[30;80H7[21;27H[34h[?25h[?25l[21;12H[46m([12C)[0m {[24;9H}[30;80H6[21;26H[34h[?25h[?25l[30;80H5[21;25H[34h[?25h[?25l[21;12H([12C)[30;80H4[21;24H[34h[?25h[?25l[30;80H3[21;23H[34h[?25h[?25l[30;80H2[21;22H[34h[?25h[?25l[30;80H1[21;21H[34h[?25h[?25l[30;80H0[21;20H[34h[?25h[?25l[30;79H19[21;19H[34h[?25h[?25l[30;80H8[21;18H[34h[?25h[?25l[30;80H7[21;17H[34h[?25h[?25l[30;80H6[21;16H[34h[?25h[?25l[30;80H5[21;15H[34h[?25h[?25l[30;80H4[21;14H[34h[?25h[?25l[46m([12C)[0m[30;80H3[21;13H[34h[?25h[?25l[30;80H2[21;12H[34h[?25h[?25l([12C)[30;80H1[21;11H[34h[?25h[?25l[30;80H0[21;10H[34h[?25h[?25l[30;79H9 [21;9H[34h[?25h[?25l[30;79H8[21;8H[34h[?25h[?25l[30;79H7[21;7H[34h[?25h[?25l[30;79H6[21;6H[34h[?25h[?25l[30;79H5[21;5H[34h[?25h[?25l   [1m[33mif[0m (success != [1m[35m1[0m) {[21;27H[K[21;5H[34h[?25h[?25l  [1m[33mif[0m (success != [1m[35m1[0m) {[21;26H[K[21;5H[34h[?25h[?25l [1m[33mif[0m (success != [1m[35m1[0m) {[21;25H[K[21;5H[34h[?25h[?25l [1m[33mif[0m (success != [1m[35m1[0m) {[21;24H[K[21;5H[34h[?25h[?25l[30;77H6[22;5H[34h[?25h3 [?25l       printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;80H[K[22;5H[34h[?25h[?25l      printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;79H[K[22;5H[34h[?25h[?25l     printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;78H[K[22;5H[34h[?25h[?25l    printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;77H[K[22;5H[34h[?25h[?25l[30;77H7[23;5H[34h[?25h[?25l       [1m[33mreturn[0m;[23;19H[K[23;5H[34h[?25h[?25l      [1m[33mreturn[0m;[23;18H[K[23;5H[34h[?25h[?25l     [1m[33mreturn[0m;[23;17H[K[23;5H[34h[?25h[?25l    [1m[33mreturn[0m;[23;16H[K[23;5H[34h[?25h[?25l[30;77H8[24;5H[34h[?25h[?25l   }[24;9H[K[24;5H[34h[?25h[?25l  }[24;8H[K[24;5H[34h[?25h[?25l }[24;7H[K[24;5H[34h[?25h[?25l }[24;6H[K[21;23H[46m{[24;5H}[34h[?25h[?25l[0m[21;23H{[24;5H}[30;77H7[23;5H[34h[?25h[?25l[30;77H6[22;5H[34h[?25h[?25l[30;79H6[22;6H[34h[?25h[?25l[30;79H7[22;7H[34h[?25h[?25l[30;79H8[22;8H[34h[?25h[?25l[30;79H9[22;9H[34h[?25h[?25l[30;79H10[22;10H[34h[?25h[?25l[30;79H9 [22;9H[34h[?25h[?25l iprintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H10[22;10H[34h[?25h[?25lifprintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[22;11H[34h[?25h[?25l[1m[33mif[0m printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[22;12H[34h[?25h[?25l (printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[24;5H[1m[37m[41m}[29;26H{[0m[30;80H3[22;13H[34h[?25h[?25l(iprintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[22;14H[34h[?25h[?25lisprintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[22;15H[34h[?25h[?25lsJprintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[22;16H[34h[?25h[?25lJoprintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[22;17H[34h[?25h[?25lobprintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[22;18H[34h[?25h[?25lb)printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[24;5H}[29;26H{[22;12H[46m([0misJob[46m)[0m[30;80H9[22;19H[34h[?25h[?25l[30;80H8[22;18H[34h[?25h[?25l(isJob)[30;80H7[22;17H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25lsob)printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;86H[K[30;80H5[22;15H[34h[?25h[?25lsjob)printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[22;16H[34h[?25h[?25l[30;80H5[22;15H[34h[?25h[?25ls_job)printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[22;16H[34h[?25h[?25l[30;77H5[21;16H[34h[?25h[?25l[30;77H4[20;16H[34h[?25h[?25l[30;77H3,1 [19;1H[34h[?25h[?25l[30;77H2,16[18;16H[34h[?25h[?25l[30;77H1[17;16H[34h[?25h[?25l[30;77H0[16;16H[34h[?25h[?25l[30;76H09[15;16H[34h[?25h[?25l[30;77H8,1 [14;1H[34h[?25h[?25l[10;28H[46m{[13;5H}[0m[30;77H7,6[13;6H[34h[?25h[?25l[10;28H{[13;5H}[30;77H6,16[12;16H[34h[?25h[?25l[30;77H5[11;16H[34h[?25h[?25l[10;15H[46m[[1C][0m[30;77H4[10;16H[34h[?25h[?25l[[1C][30;77H3[9;16H[34h[?25h[?25l[30;77H2[8;16H[34h[?25h[?25l[30;77H1[7;16H[34h[?25h[?25l[30;80H5[7;15H[34h[?25h[?25l[30;77H2[8;15H[34h[?25h[?25l[30;80H4[8;14H[34h[?25h[?25l[30;80H3[8;13H[34h[?25h[?25l[30;80H2[8;12H[34h[?25h[?25lsob = [1m[35m0[0m;[8;18H[K[30;80H1[8;11H[34h[?25h[?25ls_ob = [1m[35m0[0m;[30;80H2[8;12H[34h[?25h[?25l_job = [1m[35m0[0m;[30;80H3[8;13H[34h[?25h[?25l[30;77H3[9;13H[34h[?25h[?25l[30;77H4[10;13H[34h[?25h[?25l[30;77H5[11;13H[34h[?25h[?25l[30;80H2[11;12H[34h[?25h[?25l[30;80H1[11;11H[34h[?25h[?25ls_Job = [1m[35m1[0m;[30;80H2[11;12H[34h[?25h[?25l_jJob = [1m[35m1[0m;[30;80H3[11;13H[34h[?25h[?25ljob = [1m[35m1[0m;[11;20H[K[11;13H[34h[?25h[?25l[30;77H6[12;13H[34h[?25h[?25l[30;77H5[11;13H[34h[?25h[?25l[30;80H2[11;12H[34h[?25h[?25l[30;77H6[12;12H[34h[?25h[?25l[10;28H[46m{[13;5H}[0m[30;77H7,6 [13;6H[34h[?25h[?25l[10;28H{[13;5H}[30;77H8,1[14;1H[34h[?25h[?25l[30;77H9,12[15;12H[34h[?25h[?25l[30;76H10[16;12H[34h[?25h[?25l[30;77H1[17;12H[34h[?25h[?25l[30;77H2[18;12H[34h[?25h[?25l[30;77H3,1 [19;1H[34h[?25h[?25l[30;77H2,12[18;12H[34h[?25h[?25l[30;77H1[17;12H[34h[?25h[?25l[30;77H0[16;12H[34h[?25h[?25l[30;76H09[15;12H[34h[?25h[?25l[30;77H8,1 [14;1H[34h[?25h[?25l[10;28H[46m{[13;5H}[0m[30;77H7,6[13;6H[34h[?25h[?25l[10;28H{[13;5H}[30;77H6,12[12;12H[34h[?25h[?25l[30;77H5[11;12H[34h[?25h[?25l[30;77H4[10;12H[34h[?25h[?25l[30;77H3[9;12H[34h[?25h[?25l[30;77H2[8;12H[34h[?25h[?25lsjob = [1m[35m0[0m;[8;19H[K[30;80H1[8;11H[34h[?25h[?25l[30;77H3[9;11H[34h[?25h[?25l[10;10H[46m([7C)[0m[30;77H4[10;11H[34h[?25h[?25l([7C)[30;77H5[11;11H[34h[?25h[?25l[30;80H2[11;12H[34h[?25h[?25lsjob = [1m[35m1[0m;[11;19H[K[30;80H1[11;11H[34h[?25h[?25l[30;77H6[12;11H[34h[?25h[?25l[10;28H[46m{[13;5H}[0m[30;77H7,6 [13;6H[34h[?25h[?25l[10;28H{[13;5H}[30;77H8,1[14;1H[34h[?25h[?25l[30;77H9,11[15;11H[34h[?25h[?25l[30;76H10[16;11H[34h[?25h[?25l[30;77H1[17;11H[34h[?25h[?25l[30;77H2[18;11H[34h[?25h[?25l[30;77H3,1 [19;1H[34h[?25h[?25l[30;77H4,11[20;11H[34h[?25h[?25l[30;77H5[21;11H[34h[?25h[?25l[30;77H6[22;11H[34h[?25h[?25l [46m([0mis_job[46m)[0m[30;80H2[22;12H[34h[?25h[?25l[30;80H3[22;13H[34h[?25h[?25l(is_job)[30;80H4[22;14H[34h[?25h[?25l[30;80H5[22;15H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25lsjob)printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;87H[K[30;80H5[22;15H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25l[30;80H7[22;17H[34h[?25h[?25l[46m([0misjob[46m)[0m[30;80H8[22;18H[34h[?25h[?25l[30;80H9[22;19H[34h[?25h[?25l[46m)[0m printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;12H(isjob)[30;79H20[22;20H[34h[?25h[?25l {printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[22;20H[46m{[24;5H}[0m[30;80H1[22;21H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[22;21H[K[23;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer job id[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);
    [46m [0m[30;75H[K[30;75H317,13[8C46%[22;20H{[24;5H 
    }[23;13H[34h[?25h[?25l[30;79H81[23;81H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H318,13[8C46%[24;13H[34h[?25h[?25l }[22;20H[46m{[24;9H}[0m[30;80H0[24;10H[34h[?25h[?25l[22;20H{[24;9H}[30;80H1[24;11H[34h[?25h[?25l e[30;80H2[24;12H[34h[?25h[?25lel[30;80H3[24;13H[34h[?25h[?25lls[30;80H4[24;14H[34h[?25h[?25l[1m[33melse[0m[30;80H5[24;15H[34h[?25h[?25l[30;80H6[24;16H[34h[?25h[?25l {[46m{[26;5H}[0m[30;80H7[24;17H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[26;5H[46m [0m[30;75H[K[30;75H319,13[8C46%[24;16H{[26;5H 
    }[25;13H[34h[?25h[?25l }[24;16H[46m{[25;9H}[0m[30;80H0[25;10H[34h[?25h[?25l[22;20H[46m{[24;9H}[0m[6C{[25;9H}[30;77H8[24;10H[34h[?25h[?25l[22;20H{[24;9H}[6C[46m{[25;9H}[0m[30;80H7[24;17H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[25;9H[46m [0m[26;9H}[30;75H[K[30;75H319,13[8C46%[24;16H{[25;9H    [34h[?25h[?25l p[30;80H4[25;14H[34h[?25h[?25lpr[30;80H5[25;15H[34h[?25h[?25lri[30;80H6[25;16H[34h[?25h[?25lin[30;80H7[25;17H[34h[?25h[?25lnt[30;80H8[25;18H[34h[?25h[?25ltf[30;80H9[25;19H[34h[?25h[?25lf([26;9H[1m[37m[41m}[28;5H}[0m[30;79H20[25;20H[34h[?25h[?25l()[26;9H}[28;5H}[25;19H[46m()[0m[30;80H1[25;21H[34h[?25h[?25l[30;80H0[25;20H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m)
        }
        return;
    }[25;20H"[0m[1m[35m[46m)[0m[30;80H1[25;21H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m"[0m)
        }
        [1m[33mreturn[0m;
    }[25;21H[1m[35m"[0m[46m)[0m[30;80H2[25;22H[34h[?25h[?25l([2C)[30;80H1[25;21H[34h[?25h[?25l[1m[35m"%"[0m)[30;80H2[25;22H[34h[?25h[?25l[1m[31m%s[0m[1m[35m"[0m)[30;80H3[25;23H[34h[?25h[?25l[1m[31ms[0m[1m[35m "[0m)[30;80H4[25;24H[34h[?25h[?25l[1m[35m %"[0m)[30;80H5[25;25H[34h[?25h[?25l[1m[31m%%[0m[1m[35m"[0m)[30;80H6[25;26H[34h[?25h[?25l[1m[35m%"[0m)[25;27H[K[30;80H5[25;25H[34h[?25h[?25l[1m[35m "[0m)[25;26H[K[30;80H4[25;24H[34h[?25h[?25l[1m[35m P"[0m)[30;80H5[25;25H[34h[?25h[?25l[1m[35mPI"[0m)[30;80H6[25;26H[34h[?25h[?25l[1m[35mID"[0m)[30;80H7[25;27H[34h[?25h[?25l[1m[35mD "[0m)[30;80H8[25;28H[34h[?25h[?25l[1m[35m m"[0m)[30;80H9[25;29H[34h[?25h[?25l[1m[35mmu"[0m)[30;79H30[25;30H[34h[?25h[?25l[1m[35mus"[0m)[30;80H1[25;31H[34h[?25h[?25l[1m[35mst"[0m)[30;80H2[25;32H[34h[?25h[?25l[1m[35mt "[0m)[30;80H3[25;33H[34h[?25h[?25l[1m[35m u"[0m)[30;80H4[25;34H[34h[?25h[?25l[1m[35mus"[0m)[30;80H5[25;35H[34h[?25h[?25l[1m[35mse"[0m)[30;80H6[25;36H[34h[?25h[?25l[1m[35me "[0m)[30;80H7[25;37H[34h[?25h[?25l[1m[35m a"[0m)[30;80H8[25;38H[34h[?25h[?25l[1m[35man"[0m)[30;80H9[25;39H[34h[?25h[?25l[1m[35mn "[0m)[30;79H40[25;40H[34h[?25h[?25l[1m[35m u"[0m)[30;80H1[25;41H[34h[?25h[?25l[1m[35mun"[0m)[30;80H2[25;42H[34h[?25h[?25l[1m[35mns"[0m)[30;80H3[25;43H[34h[?25h[?25l[1m[35msi"[0m)[30;80H4[25;44H[34h[?25h[?25l[1m[35mig"[0m)[30;80H5[25;45H[34h[?25h[?25l[1m[35mgn"[0m)[30;80H6[25;46H[34h[?25h[?25l[1m[35mne"[0m)[30;80H7[25;47H[34h[?25h[?25l[1m[35med"[0m)[30;80H8[25;48H[34h[?25h[?25l[1m[35md "[0m)[30;80H9[25;49H[34h[?25h[?25l[1m[35m i"[0m)[30;79H50[25;50H[34h[?25h[?25l[1m[35min"[0m)[30;80H1[25;51H[34h[?25h[?25l[1m[35mnt"[0m)[30;80H2[25;52H[34h[?25h[?25l[1m[35mte"[0m)[30;80H3[25;53H[34h[?25h[?25l[1m[35meg"[0m)[30;80H4[25;54H[34h[?25h[?25l[1m[35mge"[0m)[30;80H5[25;55H[34h[?25h[?25l[1m[35mer"[0m)[30;80H6[25;56H[34h[?25h[?25l[1m[35mr "[0m)[30;80H7[25;57H[34h[?25h[?25l[1m[35m a"[0m)[30;80H8[25;58H[34h[?25h[?25l[1m[35mar"[0m)[30;80H9[25;59H[34h[?25h[?25l[1m[35mrg"[0m)[30;79H60[25;60H[34h[?25h[?25l[1m[35mgu"[0m)[30;80H1[25;61H[34h[?25h[?25l[1m[35mum"[0m)[30;80H2[25;62H[34h[?25h[?25l[1m[35mme"[0m)[30;80H3[25;63H[34h[?25h[?25l[1m[35men"[0m)[30;80H4[25;64H[34h[?25h[?25l[1m[35mnt"[0m)[30;80H5[25;65H[34h[?25h[?25l[24;16H[46m{[26;9H}[0m[30;77H8,17[24;17H[34h[?25h[?25l{[26;9H}[30;77H7,65[23;65H[34h[?25h[?25l[30;80H6[23;66H[34h[?25h[?25l[30;80H7[23;67H[34h[?25h[?25l[1m[35mi[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[23;80H[K[30;80H6[23;66H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[23;79H[K[30;80H5[23;65H[34h[?25h[?25l[1m[35mb[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[23;78H[K[30;80H4[23;64H[34h[?25h[?25l[1m[35mo[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[23;77H[K[30;80H3[23;63H[34h[?25h[?25l[1m[35mj[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[23;76H[K[30;80H2[23;62H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[23;75H[K[30;80H1[23;61H[34h[?25h[?25l[1m[35m a[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[23;62H[34h[?25h[?25l[1m[35mar[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[23;63H[34h[?25h[?25l[1m[35mrg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[23;64H[34h[?25h[?25l[1m[35mgu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[23;65H[34h[?25h[?25l[1m[35mum[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[23;66H[34h[?25h[?25l[1m[35mme[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[23;67H[34h[?25h[?25l[1m[35men[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[23;68H[34h[?25h[?25l[1m[35mnt[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[23;69H[34h[?25h[?25l[24;16H[46m{[26;9H}[0m[30;77H8,17[24;17H[34h[?25h[?25l{[25;19H[46m([46C)[0m[26;9H}[30;77H9,6[25;67H[34h[?25h[?25l[24;16H[46m{[0m[25;19H([46C)[26;9H[46m}[0m[30;76H20,10[26;10H[34h[?25h[?25l[30;79H9 [26;9H[34h[?25h[?25l[24;16H{[26;9H}[30;76H19[25;9H[34h[?25h[?25l[22;20H[46m{[24;9H}[0m[30;77H8[24;9H[34h[?25h[?25l[22;20H{[24;9H}[6C[46m{[26;9H}[0m[30;79H17[24;17H[34h[?25h[?25l{[25;19H[46m([46C)[0m[26;9H}[30;77H9,6[25;67H[34h[?25h[?25l[30;80H6[25;66H[34h[?25h[?25l[25;19H([46C)[30;80H5[25;65H[34h[?25h[?25l[1m[35mt[0m[1m[31m\"[0m[1m[35m)
        }
        return;
    }[0m[30;80H6[25;66H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m)
        }
        [1m[33mreturn[0m;
    }[30;80H7[25;67H[34h[?25h[?25l[25;19H[46m([48C)[0m[30;80H8[25;68H[34h[?25h[?25l[1m[35m"[0m[46m,[0m),[46m)[0m[30;80H9[25;69H[34h[?25h[?25l,[46m [0m) [46m)[0m[30;79H70[25;70H[34h[?25h[?25l [46ma[0m)a[46m)[0m[30;80H1[25;71H[34h[?25h[?25la[46mr[0m)r[46m)[0m[30;80H2[25;72H[34h[?25h[?25lr[46mg[0m)g[46m)[0m[30;80H3[25;73H[34h[?25h[?25lg[46mv[0m)v[46m)[0m[30;80H4[25;74H[34h[?25h[?25lv[46m[[0m[1m[37m[41m)[26;9H}[27;15H;
[0m    [1m[37m[41m}[0m[25;74H[[1m[37m[46m)[0m[30;80H5[25;75H[34h[?25h[?25l[[1m[35m[46m0[0m[1m[37m[41m)[0m[1m[35m0[0m[1m[37m[46m)[0m[30;80H6[25;76H[34h[?25h[?25l[1m[35m0[0m[46m][0m)[26;9H}[27;15H;
    }[25;76H][46m)[0m[30;80H7[25;77H[34h[?25h[?25l[30;80H8[25;78H[34h[?25h[?25l[46m)[0m;[25;19H([57C)[30;80H9[25;79H[34h[?25h[?25l[24;16H[46m{[26;9H}[0m[30;76H20,10[26;10H[34h[?25h[?25l[24;16H{[26;9H}[30;77H1,16[27;16H[34h[?25h[?25l[21;23H[46m{[28;5H}[0m[30;77H2,6 [28;6H[34h[?25h[?25l[21;23H{[28;5H}[30;77H3,1[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jobs, jid);[30;75H[K[30;75H324,50[8C46%[29;50H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H325,1[9C46%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Job does not exist[0m[30;75H[K[30;75H326,30[8C46%[29;30H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H327,27[8C46%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H328,50[8C46%[29;50H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mreturn[0m;[30;75H[K[30;75H329,20[8C46%[29;20H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H330,10[8C47%[26;26H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H331,9[9C47%[25;26H{[28;9H}[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H332,13[8C47%[29;13H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Check for a valid unsigned int with no trailing characters[0m[30;75H[K[30;75H333,70[8C47%[29;70H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mint[0m pid = [1m[35m0[0m;[30;75H[K[30;75H334,21[8C47%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H335,24[8C47%[29;24H[34h[?25h[?25l[30;77H4,21[28;21H[34h[?25h[?25l[30;77H3,70[27;70H[34h[?25h[?25l[30;77H2,13[26;13H[34h[?25h[?25l[30;77H1,9 [25;9H[34h[?25h[?25l[21;26H[46m{[24;9H}[0m[30;77H0,10[24;10H[34h[?25h[?25l[21;26H{[24;9H}[30;76H29,2[23;20H[34h[?25h[?25l[30;77H8,5[22;50H[34h[?25h[?25l[21;26H[46m{[24;9H}[0m[30;77H7,27[21;27H[34h[?25h[?25l{[24;9H}[30;77H6,30[20;30H[34h[?25h[?25l[30;77H5,1 [19;1H[34h[?25h[?25l[30;77H4,50[18;50H[34h[?25h[?25l[30;77H3,1 [17;1H[34h[?25h[?25l[9;23H[46m{[16;5H}[0m[30;77H2,6[16;6H[34h[?25h[?25l[9;23H{[16;5H}[30;77H3,1[17;1H[34h[?25h[?25l[30;77H4,50[18;50H[34h[?25h[?25l[30;77H5,1 [19;1H[34h[?25h[?25l[30;77H6,30[20;30H[34h[?25h[?25l[21;26H[46m{[24;9H}[0m[30;77H7,27[21;27H[34h[?25h[?25l{[24;9H}[30;77H8,50[22;50H[34h[?25h[?25l[30;77H9,2[23;20H[34h[?25h[?25l[30;77H8,5[22;50H[34h[?25h[?25l[21;26H[46m{[24;9H}[0m[30;77H7,27[21;27H[34h[?25h[?25l{[24;9H}[30;77H6,30[20;30H[34h[?25h[?25l[30;77H5,1 [19;1H[34h[?25h[?25l[30;77H4,50[18;50H[34h[?25h[?25l[30;79H1 [18;1H[34h[?25h[?25l       [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jobs, jid);[18;49H[K[18;1H[34h[?25h[?25l      [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jobs, jid);[18;48H[K[18;1H[34h[?25h[?25l     [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jobs, jid);[18;47H[K[18;1H[34h[?25h[?25l    [1m[32mstruct[0m job_t *job = [30m[43mgetjobjid[0m(jobs, jid);[18;46H[K[18;1H[34h[?25h[?25l[30;77H5[19;1H[34h[?25h[?25l[30;77H6[20;1H[34h[?25h[?25l[30;77H5[19;1H[34h[?25h[?25l[30;77H6[20;1H[34h[?25h[?25l       [1m[36m// Job does not exist[0m[20;29H[K[20;1H[34h[?25h[?25l      [1m[36m// Job does not exist[0m[20;28H[K[20;1H[34h[?25h[?25l     [1m[36m// Job does not exist[0m[20;27H[K[20;1H[34h[?25h[?25l    [1m[36m// Job does not exist[0m[20;26H[K[20;1H[34h[?25h[?25l[30;77H7[21;1H[34h[?25h[?25l       [1m[33mif[0m (job == [1m[35mNULL[0m) {[21;26H[K[21;1H[34h[?25h[?25l      [1m[33mif[0m (job == [1m[35mNULL[0m) {[21;25H[K[21;1H[34h[?25h[?25l     [1m[33mif[0m (job == [1m[35mNULL[0m) {[21;24H[K[21;1H[34h[?25h[?25l    [1m[33mif[0m (job == [1m[35mNULL[0m) {[21;23H[K[21;1H[34h[?25h[?25l[30;77H8[22;1H[34h[?25h[?25l[10C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[22;49H[K[22;1H[34h[?25h[?25l[9C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[22;48H[K[22;1H[34h[?25h[?25l[8C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[22;47H[K[22;1H[34h[?25h[?25l[7C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[22;46H[K[22;1H[34h[?25h[?25l[30;77H9[23;1H[34h[?25h[?25l[10C [1m[33mreturn[0m;[23;19H[K[23;1H[34h[?25h[?25l[9C [1m[33mreturn[0m;[23;18H[K[23;1H[34h[?25h[?25l[8C [1m[33mreturn[0m;[23;17H[K[23;1H[34h[?25h[?25l[7C [1m[33mreturn[0m;[23;16H[K[23;1H[34h[?25h[?25l[30;76H30[24;1H[34h[?25h[?25l       }[24;9H[K[24;1H[34h[?25h[?25l      }[24;8H[K[24;1H[34h[?25h[?25l     }[24;7H[K[24;1H[34h[?25h[?25l    }[24;6H[K[24;1H[34h[?25h[?25l[30;76H29[23;1H[34h[?25h[?25l[30;77H8[22;1H[34h[?25h[?25l[30;77H7[21;1H[34h[?25h[?25l[30;77H6[20;1H[34h[?25h[?25l[30;77H5[19;1H[34h[?25h[?25l[30;77H4[18;1H[34h[?25h[?25l[30;77H3[17;1H[34h[?25h[?25l[30;77H4[18;1H[34h[?25h[?25l[30;79H2[18;2H[34h[?25h[?25l[30;79H3[18;3H[34h[?25h[?25l[30;79H4[18;4H[34h[?25h[?25l[30;79H5[18;5H[34h[?25h[?25l[30;79H6[18;6H[34h[?25h[?25l[30;79H7[18;7H[34h[?25h[?25l[30;79H8[18;8H[34h[?25h[?25l[30;79H9[18;9H[34h[?25h[?25l[30;79H10[18;10H[34h[?25h[?25l[30;80H1[18;11H[34h[?25h[?25l[30;80H2[18;12H[34h[?25h[?25l[30;80H3[18;13H[34h[?25h[?25l[30;80H4[18;14H[34h[?25h[?25l[30;80H5[18;15H[34h[?25h[?25l[30;80H6[18;16H[34h[?25h[?25l[30;80H7[18;17H[34h[?25h[?25l[30;80H8[18;18H[34h[?25h[?25l[30;80H9[18;19H[34h[?25h[?25l[30;79H20[18;20H[34h[?25h[?25l[30;80H1[18;21H[34h[?25h[?25l[30;80H2[18;22H[34h[?25h[?25l[30;80H3[18;23H[34h[?25h[?25l[30;80H4[18;24H[34h[?25h[?25l[30;80H5[18;25H[34h[?25h[?25l 0[30m[43mgetjobjid[0m(jobs, jid);[30;80H6[18;26H[34h[?25h[?25l[1m[35m0[0m;[30m[43mgetjobjid[0m(jobs, jid);[30;80H7[18;27H[34h[?25h[?25l[19;29r[19;1H[L[1;30r[18;27H[K[19;4H [30m[43mgetjobjid[0m(jobs, jid);[30;75H[K[30;75H325,5[9C47%[19;5H[34h[?25h[?25l[20;29r[20;1H[L[1;30r[19;5H[K[20;4H [30m[43mgetjobjid[0m(jobs, jid);[30;75H[K[30;75H326,5[9C47%[20;5H[34h[?25h[?25l[30;77H5[19;5H[34h[?25h[?25l[30;77H4[18;5H[34h[?25h[?25l[30;79H27[18;27H[34h[?25h[?25l[30;80H6[18;26H[34h[?25h[?25l ;[18;26H[K[30;80H5[18;25H[34h[?25h[?25l N;[30;80H6[18;26H[34h[?25h[?25lNU;[30;80H7[18;27H[34h[?25h[?25lUL;[30;80H8[18;28H[34h[?25h[?25l[1m[35mNULL[0m;[30;80H9[18;29H[34h[?25h[?25l[30;77H5,5 [19;5H[34h[?25h[?25l[19;29r[29;1H
[1;30r[19;4H     [30m[43mgetjobjid[0m(jobs, jid);[29;8H [1m[32mint[0m pid = [1m[35m0[0m;[30;75H[K[30;75H325,5[9C47%[19;5H[34h[?25h[?25l   [30m[43mgetjobjid[0m(jobs, jid);[19;29H[K[19;5H[34h[?25h[?25l  [30m[43mgetjobjid[0m(jobs, jid);[19;28H[K[19;5H[34h[?25h[?25l [30m[43mgetjobjid[0m(jobs, jid);[19;27H[K[19;5H[34h[?25h[?25l [30m[43mgetjobjid[0m(jobs, jid);[19;26H[K[19;5H[34h[?25h[?25l i[30m[43mgetjobjid[0m(jobs, jid);[30;79H6[19;6H[34h[?25h[?25lif[30m[43mgetjobjid[0m(jobs, jid);[30;79H7[19;7H[34h[?25h[?25l[1m[33mif[0m [30m[43mgetjobjid[0m(jobs, jid);[30;79H8[19;8H[34h[?25h[?25l ([30m[43mgetjobjid[0m(jobs, jid);[22;22H[1m[37m[41m{[25;5H}[27;5H}[6C{[0m[30;79H9[19;9H[34h[?25h[?25l(i[30m[43mgetjobjid[0m(jobs, jid);[30;79H10[19;10H[34h[?25h[?25lis[30m[43mgetjobjid[0m(jobs, jid);[30;80H1[19;11H[34h[?25h[?25lsj[30m[43mgetjobjid[0m(jobs, jid);[30;80H2[19;12H[34h[?25h[?25ljo[30m[43mgetjobjid[0m(jobs, jid);[30;80H3[19;13H[34h[?25h[?25lob[30m[43mgetjobjid[0m(jobs, jid);[30;80H4[19;14H[34h[?25h[?25lb)[30m[43mgetjobjid[0m(jobs, jid);[22;22H{[25;5H}[27;5H}[6C{[19;8H[46m([0misjob[46m)[0m[30;80H5[19;15H[34h[?25h[?25l[46m)[0m [30m[43mgetjobjid[0m(jobs, jid);[19;8H(isjob)[30;80H6[19;16H[34h[?25h[?25l[30;79H37[19;37H[34h[?25h[?25l[20;29r[20;1H[L[1;30r[30;75H[K[30;75H326,5[9C47%[20;5H[34h[?25h[?25l e[30;79H6[20;6H[34h[?25h[?25lel[30;79H7[20;7H[34h[?25h[?25lls[30;79H8[20;8H[34h[?25h[?25l[1m[33melse[0m[30;79H9[20;9H[34h[?25h[?25l[30;79H10[20;10H[34h[?25h[?25l[30;77H5[19;10H[34h[?25h[?25l[30;80H1[19;11H[34h[?25h[?25l[30;80H2[19;12H[34h[?25h[?25l[30;80H3[19;13H[34h[?25h[?25l[46m([0misjob[46m)[0m[30;80H4[19;14H[34h[?25h[?25l[30;80H5[19;15H[34h[?25h[?25l[19;8H(isjob)[30;80H6[19;16H[34h[?25h[?25l j[30m[43mgetjobjid[0m(jobs, jid);[30;80H7[19;17H[34h[?25h[?25ljo[30m[43mgetjobjid[0m(jobs, jid);[30;80H8[19;18H[34h[?25h[?25lob[30m[43mgetjobjid[0m(jobs, jid);[30;80H9[19;19H[34h[?25h[?25lb [30m[43mgetjobjid[0m(jobs, jid);[30;79H20[19;20H[34h[?25h[?25l =[30m[43mgetjobjid[0m(jobs, jid);[30;80H1[19;21H[34h[?25h[?25l= [30m[43mgetjobjid[0m(jobs, jid);[30;80H2[19;22H[34h[?25h[?25l[30;80H1[19;21H[34h[?25h[?25l[30;80H0[19;20H[34h[?25h[?25l[30;79H19[19;19H[34h[?25h[?25l[30;80H8[19;18H[34h[?25h[?25l[30;80H7[19;17H[34h[?25h[?25l[30;80H6[19;16H[34h[?25h[?25l {job = [30m[43mgetjobjid[0m(jobs, jid);[19;16H[46m{[28;5H}[0m[30;80H7[19;17H[34h[?25h[?25l[46m{[0m job = [30m[43mgetjobjid[0m(jobs, jid);[19;16H{[28;5H}[30;80H8[19;18H[34h[?25h[?25l[30;79H45[19;45H[34h[?25h[?25l[30;80H6[19;46H[34h[?25h[?25l }[19;16H[46m{[29C}[0m[30;80H7[19;47H[34h[?25h[?25l[19;16H{[29C}[30;77H6,10[20;10H[34h[?25h[?25l[30;80H1[20;11H[34h[?25h[?25l[30;80H0[20;10H[34h[?25h[?25l {[46m{[28;5H}[0m[30;80H1[20;11H[34h[?25h[?25l[46m{[0m}[46m}[0m[28;5H}[30;80H2[20;12H[34h[?25h[?25l[30;80H1[20;11H[34h[?25h[?25l[46m{ [0m} [46m}[0m[30;80H2[20;12H[34h[?25h[?25l [46mj[0m}j[46m}[0m[30;80H3[20;13H[34h[?25h[?25lj[46mo[0m}o[46m}[0m[30;80H4[20;14H[34h[?25h[?25lo[46mb[0m}b[46m}[0m[30;80H5[20;15H[34h[?25h[?25lb[46m [0m} [46m}[0m[30;80H6[20;16H[34h[?25h[?25l [46m=[0m}=[46m}[0m[30;80H7[20;17H[34h[?25h[?25l=[46m [0m} [46m}[0m[30;80H8[20;18H[34h[?25h[?25l [46mg[0m}g[46m}[0m[30;80H9[20;19H[34h[?25h[?25lg[46me[0m}e[46m}[0m[30;79H20[20;20H[34h[?25h[?25le[46mt[0m}t[46m}[0m[30;80H1[20;21H[34h[?25h[?25lt[46mj[0m}j[46m}[0m[30;80H2[20;22H[34h[?25h[?25lj[46mo[0m}o[46m}[0m[30;80H3[20;23H[34h[?25h[?25lo[46mb[0m}b[46m}[0m[30;80H4[20;24H[34h[?25h[?25lb[46mp[0m}p[46m}[0m[30;80H5[20;25H[34h[?25h[?25lp[46mi[0m}i[46m}[0m[30;80H6[20;26H[34h[?25h[?25li[46md[0m}d[46m}[0m[30;80H7[20;27H[34h[?25h[?25ld[46m([0m[1m[37m[41m}[23;22H{[26;5H}[28;5H}[6C{[0m[20;27H([1m[37m[46m}[0m[30;80H8[20;28H[34h[?25h[?25l([46mj[0m[1m[37m[41m}[0mj[1m[37m[46m}[0m[30;80H9[20;29H[34h[?25h[?25lj[46mo[0m[1m[37m[41m}[0mo[1m[37m[46m}[0m[30;79H30[20;30H[34h[?25h[?25lo[46mb[0m[1m[37m[41m}[0mb[1m[37m[46m}[0m[30;80H1[20;31H[34h[?25h[?25lb[46ms[0m[1m[37m[41m}[0ms[1m[37m[46m}[0m[30;80H2[20;32H[34h[?25h[?25ls[46m,[0m[1m[37m[41m}[0m,[1m[37m[46m}[0m[30;80H3[20;33H[34h[?25h[?25l,[46m [0m[1m[37m[41m}[0m [1m[37m[46m}[0m[30;80H4[20;34H[34h[?25h[?25l [46mp[0m[1m[37m[41m}[0mp[1m[37m[46m}[0m[30;80H5[20;35H[34h[?25h[?25lp[46mi[0m[1m[37m[41m}[0mi[1m[37m[46m}[0m[30;80H6[20;36H[34h[?25h[?25lp[1m[37m[41m}[0m[46m [0m[1m[37m[46m}[0m[20;36H[K[30;80H5[20;35H[34h[?25h[?25l [1m[37m[41m}[0m[46m [0m[1m[37m[46m}[0m[20;35H[K[30;80H4[20;34H[34h[?25h[?25l [46mi[0m[1m[37m[41m}[0mi[1m[37m[46m}[0m[30;80H5[20;35H[34h[?25h[?25li[46md[0m[1m[37m[41m}[0md[1m[37m[46m}[0m[30;80H6[20;36H[34h[?25h[?25ld[46m)[0m}[23;22H{[26;5H}[28;5H}[6C{[20;36H)[46m}[0m[30;80H7[20;37H[34h[?25h[?25l)[46m [0m} [46m}[0m[30;80H8[20;38H[34h[?25h[?25l[20;10H{[16C[46m([8C)[0m }[30;80H7[20;37H[34h[?25h[?25l[46m)[0m; }[20;27H([8C)[30;80H8[20;38H[34h[?25h[?25l[30;77H5[19;38H[34h[?25h[?25l[30;80H9[19;39H[34h[?25h[?25l[30;79H40[19;40H[34h[?25h[?25l[30;80H1[19;41H[34h[?25h[?25l id); }[19;46H[K[30;80H0[19;40H[34h[?25h[?25l[20;10H[46m{[28C}[0m[30;77H6[20;40H[34h[?25h[?25l[20;10H{[28C}[30;77H7,1 [21;1H[34h[?25h[?25l[30;77H8,26[22;26H[34h[?25h[?25l[23;22H[46m{[26;5H}[0m[30;77H9,23[23;23H[34h[?25h[?25l{[26;5H}[30;76H30,46[24;46H[34h[?25h[?25l[30;77H1,1[25;16H[34h[?25h[?25l[23;22H[46m{[26;5H}[0m[30;77H2,6 [26;6H[34h[?25h[?25l[23;22H{[26;5H}[30;77H3,9[27;9H[34h[?25h[?25l[30;77H4,13[28;13H[34h[?25h[?25l[30;77H5,70[29;70H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mint[0m pid = [1m[35m0[0m;[30;75H[K[30;75H336,21[8C47%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H337,24[8C48%[29;24H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mint[0m success = sscanf(argv[[1m[35m1[0m], [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &pid, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H338,81[8C48%[29;81H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H339,9[9C48%[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Check if argument is a valid pid[0m[30;75H[K[30;75H340,44[8C48%[29;44H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H341,28[8C48%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integer PID[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H342,74[8C48%[29;74H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mreturn[0m;[30;75H[K[30;75H343,20[8C48%[29;20H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H344,10[8C49%[26;27H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H345,9[9C49%[25;27H{[28;9H}[29;9H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H346,50[8C49%[29;50H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H347,1[9C49%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H348,27[8C49%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H349,54[8C49%[29;54H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H350,10[8C50%[27;26H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;4H }[30;75H[K[30;75H351,6[9C50%[12;12H[46m{[0m[26;26H{[28;9H}
    [46m}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H352,1[9C50%[11;12H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H353,12[8C50%[29;12H[34h[?25h[?25l[30;77H2,1 [28;1H[34h[?25h[?25l[10;12H[46m{[27;5H}[0m[30;77H1,6[27;6H[34h[?25h[?25l[10;12H{[24;26H[46m{[26;9H}[0m
    }[30;77H0,10[26;10H[34h[?25h[?25l[10;12H[46m{[0m[24;26H{[26;9H}
    [46m}[0m[30;77H1,6 [27;6H[34h[?25h[?25l[27;5H[K[10;12H{[30;79H5[27;5H[34h[?25h[?25l[30;79H4[27;4H[34h[?25h[?25l[30;79H3[27;3H[34h[?25h[?25l[30;79H2[27;2H[34h[?25h[?25l[30;79H1[27;1H[34h[?25h[?25l[26;29r[29;1H
[1;30r[26;8H }


}[30;75H[K[30;75H350,10[8C50%[24;26H[46m{[26;9H}[34h[?25h[?25l[0m[26;9H[K[24;26H{[30;79H9 [26;9H[34h[?25h[?25l[30;79H8[26;8H[34h[?25h[?25l[30;79H7[26;7H[34h[?25h[?25l[30;79H6[26;6H[34h[?25h[?25l[30;79H5[26;5H[34h[?25h[?25l[30;79H4[26;4H[34h[?25h[?25l[30;79H3[26;3H[34h[?25h[?25l[30;79H2[26;2H[34h[?25h[?25l[30;79H1[26;1H[34h[?25h[?25l[25;29r[29;1H
[1;30r[25;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H349,54[8C50%[25;54H[34h[?25h[?25l[25;53H[K[25;19H[46m([32C)[0m[30;80H3[25;53H[34h[?25h[?25l[25;52H[K[28;1H[1m[37m[41m}[0m[25;19H([29C[46m[[1C][0m[30;80H2[25;52H[34h[?25h[?25l[25;51H[K[27;11H[1m[37m[41m;[0m[25;49H[[30;80H1[25;51H[34h[?25h[?25l[25;50H[K[30;80H0[25;50H[34h[?25h[?25l[25;49H[K[27;11H;[30;79H49[25;49H[34h[?25h[?25l[25;48H[K[30;80H8[25;48H[34h[?25h[?25l[25;47H[K[30;80H7[25;47H[34h[?25h[?25l[25;46H[K[30;80H6[25;46H[34h[?25h[?25l[25;45H[K[30;80H5[25;45H[34h[?25h[?25l[30;80H4[25;44H[34h[?25h[?25l[25;43H[K[30;80H3[25;43H[34h[?25h[?25l[25;42H[K[27;1H[1m[35m    return;
}[0m[30;80H2[25;42H[34h[?25h[?25l[25;41H[K[30;80H1[25;41H[34h[?25h[?25l[25;40H[K[30;80H0[25;40H[34h[?25h[?25l[25;39H[K[30;79H39[25;39H[34h[?25h[?25l[25;38H[K[30;80H8[25;38H[34h[?25h[?25l[25;37H[K[30;80H7[25;37H[34h[?25h[?25l[25;36H[K[30;80H6[25;36H[34h[?25h[?25l[25;35H[K[30;80H5[25;35H[34h[?25h[?25l[25;34H[K[30;80H4[25;34H[34h[?25h[?25l[25;33H[K[30;80H3[25;33H[34h[?25h[?25l[25;32H[K[30;80H2[25;32H[34h[?25h[?25l[25;31H[K[30;80H1[25;31H[34h[?25h[?25l[25;30H[K[30;80H0[25;30H[34h[?25h[?25l[25;29H[K[30;79H29[25;29H[34h[?25h[?25l[25;28H[K[30;80H8[25;28H[34h[?25h[?25l[25;27H[K[30;80H7[25;27H[34h[?25h[?25l[25;26H[K[30;80H6[25;26H[34h[?25h[?25l[25;25H[K[30;80H5[25;25H[34h[?25h[?25l[25;24H[K[30;80H4[25;24H[34h[?25h[?25l[25;23H[K[30;80H3[25;23H[34h[?25h[?25l[1m[35m%[0m[25;22H[K[30;80H2[25;22H[34h[?25h[?25l[25;21H[K[30;80H1[25;21H[34h[?25h[?25l[25;20H[K[27;1H    [1m[33mreturn[0m;
[1m[37m[41m}[0m[30;80H0[25;20H[34h[?25h[?25l[25;19H[K[28;1H}[30;79H19[25;19H[34h[?25h[?25l[25;18H[K[30;80H8[25;18H[34h[?25h[?25l[25;17H[K[30;80H7[25;17H[34h[?25h[?25l[25;16H[K[30;80H6[25;16H[34h[?25h[?25l[25;15H[K[30;80H5[25;15H[34h[?25h[?25l[25;14H[K[30;80H4[25;14H[34h[?25h[?25l[25;13H[K[30;80H3[25;13H[34h[?25h[?25l[30;80H2[25;12H[34h[?25h[?25l[30;80H1[25;11H[34h[?25h[?25l[30;80H0[25;10H[34h[?25h[?25l[30;79H9 [25;9H[34h[?25h[?25l[30;79H8[25;8H[34h[?25h[?25l[30;79H7[25;7H[34h[?25h[?25l[30;79H6[25;6H[34h[?25h[?25l[30;79H5[25;5H[34h[?25h[?25l[30;79H4[25;4H[34h[?25h[?25l[30;79H3[25;3H[34h[?25h[?25l[30;79H2[25;2H[34h[?25h[?25l[30;79H1[25;1H[34h[?25h[?25l[24;29r[29;1H
[1;30r[24;8H [1m[33mif[0m (job == [1m[35mNULL[0m) {[29;1H[1m[36m/* [0m[30;75H[K[30;75H348,27[8C50%[24;26H[46m{


}[24;27H[34h[?25h[?25l[0m[24;26H[K[27;1H}[30;80H6[24;26H[34h[?25h[?25l[24;12H[46m([11C)[0m[30;80H5[24;25H[34h[?25h[?25l[24;24H[K[27;1H[1m[37m[41m}[0m[24;12H([30;80H4[24;24H[34h[?25h[?25lNUL[24;23H[K[30;80H3[24;23H[34h[?25h[?25l[24;22H[K[30;80H2[24;22H[34h[?25h[?25l[24;21H[K[30;80H1[24;21H[34h[?25h[?25l[24;20H[K[30;80H0[24;20H[34h[?25h[?25l[30;79H19[24;19H[34h[?25h[?25l[24;18H[K[30;80H8[24;18H[34h[?25h[?25l[24;17H[K[30;80H7[24;17H[34h[?25h[?25l[30;80H6[24;16H[34h[?25h[?25l[24;15H[K[30;80H5[24;15H[34h[?25h[?25l[24;14H[K[30;80H4[24;14H[34h[?25h[?25l[24;13H[K[30;80H3[24;13H[34h[?25h[?25l[24;12H[K[27;1H}[30;80H2[24;12H[34h[?25h[?25l[30;80H1[24;11H[34h[?25h[?25li[24;10H[K[30;80H0[24;10H[34h[?25h[?25l[24;9H[K[30;79H9 [24;9H[34h[?25h[?25l[30;79H8[24;8H[34h[?25h[?25l[30;79H7[24;7H[34h[?25h[?25l[30;79H6[24;6H[34h[?25h[?25l[30;79H5[24;5H[34h[?25h[?25l[30;79H4[24;4H[34h[?25h[?25l[30;79H3[24;3H[34h[?25h[?25l[30;79H2[24;2H[34h[?25h[?25l[30;79H1[24;1H[34h[?25h[?25l[23;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H347,1[9C50%[23;1H[34h[?25h[?25l[22;29r[29;1H
[1;30r[22;8H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[29;1H[1m[36m */[0m[30;75H[K[30;75H346,50[8C50%[22;50H[34h[?25h[?25l[22;49H[K[22;38H[46m([9C)[0m[30;79H49[22;49H[34h[?25h[?25l[22;48H[K[25;1H[1m[37m[41m}[0m[22;38H([30;80H8[22;48H[34h[?25h[?25l[22;47H[K[30;80H7[22;47H[34h[?25h[?25l[22;46H[K[30;80H6[22;46H[34h[?25h[?25l[22;45H[K[30;80H5[22;45H[34h[?25h[?25l[30;80H4[22;44H[34h[?25h[?25l[22;43H[K[30;80H3[22;43H[34h[?25h[?25l[22;42H[K[30;80H2[22;42H[34h[?25h[?25l[22;41H[K[30;80H1[22;41H[34h[?25h[?25l[22;40H[K[30;80H0[22;40H[34h[?25h[?25l[22;39H[K[30;79H39[22;39H[34h[?25h[?25l[22;38H[K[25;1H}[30;80H8[22;38H[34h[?25h[?25l[22;37H[K[30;80H7[22;37H[34h[?25h[?25l[22;36H[K[30;80H6[22;36H[34h[?25h[?25l[22;35H[K[30;80H5[22;35H[34h[?25h[?25l[22;34H[K[30;80H4[22;34H[34h[?25h[?25l[22;33H[K[30;80H3[22;33H[34h[?25h[?25l[22;32H[K[30;80H2[22;32H[34h[?25h[?25l[22;31H[K[30;80H1[22;31H[34h[?25h[?25l[22;30H[K[30;80H0[22;30H[34h[?25h[?25l[22;29H[K[30;79H29[22;29H[34h[?25h[?25l[30;80H8[22;28H[34h[?25h[?25l[22;27H[K[30;80H7[22;27H[34h[?25h[?25l[30;80H6[22;26H[34h[?25h[?25l[22;25H[K[30;80H5[22;25H[34h[?25h[?25l[22;24H[K[30;80H4[22;24H[34h[?25h[?25l[22;23H[K[30;80H3[22;23H[34h[?25h[?25l[22;22H[K[30;80H2[22;22H[34h[?25h[?25l[30;80H1[22;21H[34h[?25h[?25l[22;20H[K[30;80H0[22;20H[34h[?25h[?25l[22;19H[K[30;79H19[22;19H[34h[?25h[?25l[22;18H[K[30;80H8[22;18H[34h[?25h[?25l[22;17H[K[30;80H7[22;17H[34h[?25h[?25l[22;16H[K[30;80H6[22;16H[34h[?25h[?25l[30;80H5[22;15H[34h[?25h[?25lstruc[22;14H[K[30;80H4[22;14H[34h[?25h[?25l[22;13H[K[30;80H3[22;13H[34h[?25h[?25l[22;12H[K[30;80H2[22;12H[34h[?25h[?25l[22;11H[K[30;80H1[22;11H[34h[?25h[?25l[22;10H[K[30;80H0[22;10H[34h[?25h[?25l[22;9H[K[30;79H9 [22;9H[34h[?25h[?25l[30;79H8[22;8H[34h[?25h[?25l[30;79H7[22;7H[34h[?25h[?25l[30;79H6[22;6H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l[30;79H4[22;4H[34h[?25h[?25l[30;79H3[22;3H[34h[?25h[?25l[30;79H2[22;2H[34h[?25h[?25l[30;79H1[22;1H[34h[?25h[?25l[21;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H345,9[9C51%[21;9H[34h[?25h[?25l[30;79H8[21;8H[34h[?25h[?25l[30;79H7[21;7H[34h[?25h[?25l[30;79H6[21;6H[34h[?25h[?25l[30;79H5[21;5H[34h[?25h[?25l[30;79H4[21;4H[34h[?25h[?25l[30;79H3[21;3H[34h[?25h[?25l[30;79H2[21;2H[34h[?25h[?25l[30;79H1[21;1H[34h[?25h[?25l[20;29r[29;1H
[1;30r[20;8H }[29;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H344,10[8C51%[17;27H[46m{[20;9H}[34h[?25h[?25l[0m[20;9H[K[17;27H{[30;79H9 [20;9H[34h[?25h[?25l[30;79H8[20;8H[34h[?25h[?25l[30;79H7[20;7H[34h[?25h[?25l[30;79H6[20;6H[34h[?25h[?25l[30;79H5[20;5H[34h[?25h[?25l[30;79H4[20;4H[34h[?25h[?25l[30;79H3[20;3H[34h[?25h[?25l[30;79H2[20;2H[34h[?25h[?25l[30;79H1[20;1H[34h[?25h[?25l[19;29r[29;1H
[1;30r[19;12H [1m[33mreturn[0m;[29;4H [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H343,20[8C51%[19;20H[34h[?25h[?25l[19;19H[K[30;79H19[19;19H[34h[?25h[?25lretur[19;18H[K[30;80H8[19;18H[34h[?25h[?25l[19;17H[K[30;80H7[19;17H[34h[?25h[?25l[19;16H[K[30;80H6[19;16H[34h[?25h[?25l[19;15H[K[30;80H5[19;15H[34h[?25h[?25l[19;14H[K[30;80H4[19;14H[34h[?25h[?25l[19;13H[K[30;80H3[19;13H[34h[?25h[?25l[30;80H2[19;12H[34h[?25h[?25l[30;80H1[19;11H[34h[?25h[?25l[30;80H0[19;10H[34h[?25h[?25l[30;79H9 [19;9H[34h[?25h[?25l[30;79H8[19;8H[34h[?25h[?25l[30;79H7[19;7H[34h[?25h[?25l[30;79H6[19;6H[34h[?25h[?25l[30;79H5[19;5H[34h[?25h[?25l[30;79H4[19;4H[34h[?25h[?25l[30;79H3[19;3H[34h[?25h[?25l[30;79H2[19;2H[34h[?25h[?25l[30;79H1[19;1H[34h[?25h[?25l[18;29r[29;1H
[1;30r[18;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integer PID[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;75H[K[30;75H342,74[8C51%[18;74H[34h[?25h[?25l[18;73H[K[18;19H[46m([52C)[0m[30;80H3[18;73H[34h[?25h[?25l[18;72H[K[21;1H[1m[37m[41m}[26;24H{[28;30H{[0m[18;19H([49C[46m[[1C][0m[30;80H2[18;72H[34h[?25h[?25l[18;71H[K[20;11H[1m[37m[41m;[27;45H;[29;17H;[0m[18;69H[[30;80H1[18;71H[34h[?25h[?25l[18;70H[K[30;80H0[18;70H[34h[?25h[?25l[18;69H[K[20;11H;[27;45H;[29;17H;[30;79H69[18;69H[34h[?25h[?25l[18;68H[K[30;80H8[18;68H[34h[?25h[?25l[18;67H[K[30;80H7[18;67H[34h[?25h[?25l[18;66H[K[30;80H6[18;66H[34h[?25h[?25l[18;65H[K[30;80H5[18;65H[34h[?25h[?25l[30;80H4[18;64H[34h[?25h[?25l[18;63H[K[30;80H3[18;63H[34h[?25h[?25l[18;62H[K[20;1H[1m[35m    return;
}

/* 
 * waitfg - Block until process pid is no longer the foreground process
 */
void waitfg(pid_t pid) {
    struct job_t *job = getjobpid(jobs, pid);
    while (job->state == FG) {
        sleep(1); // Note signals stop this immediately. No performance problem[0m[30;80H2[18;62H[34h[?25h[?25l[18;61H[K[30;80H1[18;61H[34h[?25h[?25l[18;60H[K[30;80H0[18;60H[34h[?25h[?25l[18;59H[K[30;79H59[18;59H[34h[?25h[?25l[18;58H[K[30;80H8[18;58H[34h[?25h[?25l[18;57H[K[30;80H7[18;57H[34h[?25h[?25l[18;56H[K[30;80H6[18;56H[34h[?25h[?25l[18;55H[K[30;80H5[18;55H[34h[?25h[?25l[18;54H[K[30;80H4[18;54H[34h[?25h[?25l[18;53H[K[30;80H3[18;53H[34h[?25h[?25l[18;52H[K[30;80H2[18;52H[34h[?25h[?25l[18;51H[K[30;80H1[18;51H[34h[?25h[?25l[18;50H[K[30;80H0[18;50H[34h[?25h[?25l[18;49H[K[30;79H49[18;49H[34h[?25h[?25l[18;48H[K[30;80H8[18;48H[34h[?25h[?25l[18;47H[K[30;80H7[18;47H[34h[?25h[?25l[18;46H[K[30;80H6[18;46H[34h[?25h[?25l[18;45H[K[30;80H5[18;45H[34h[?25h[?25l[18;44H[K[30;80H4[18;44H[34h[?25h[?25l[18;43H[K[30;80H3[18;43H[34h[?25h[?25l[18;42H[K[30;80H2[18;42H[34h[?25h[?25l[18;41H[K[30;80H1[18;41H[34h[?25h[?25l[18;40H[K[30;80H0[18;40H[34h[?25h[?25l[18;39H[K[30;79H39[18;39H[34h[?25h[?25l[18;38H[K[30;80H8[18;38H[34h[?25h[?25l[18;37H[K[30;80H7[18;37H[34h[?25h[?25l[18;36H[K[30;80H6[18;36H[34h[?25h[?25l[18;35H[K[30;80H5[18;35H[34h[?25h[?25l[18;34H[K[30;80H4[18;34H[34h[?25h[?25l[18;33H[K[30;80H3[18;33H[34h[?25h[?25l[18;32H[K[30;80H2[18;32H[34h[?25h[?25l[18;31H[K[30;80H1[18;31H[34h[?25h[?25l[18;30H[K[30;80H0[18;30H[34h[?25h[?25l[18;29H[K[30;79H29[18;29H[34h[?25h[?25l[18;28H[K[30;80H8[18;28H[34h[?25h[?25l[18;27H[K[30;80H7[18;27H[34h[?25h[?25l[18;26H[K[30;80H6[18;26H[34h[?25h[?25l[18;25H[K[30;80H5[18;25H[34h[?25h[?25l[18;24H[K[30;80H4[18;24H[34h[?25h[?25l[18;23H[K[30;80H3[18;23H[34h[?25h[?25l[1m[35m%[0m[18;22H[K[30;80H2[18;22H[34h[?25h[?25l[18;21H[K[30;80H1[18;21H[34h[?25h[?25l[18;20H[K[20;1H    [1m[33mreturn[0m;
[1m[37m[41m}[0m

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m
[1m[32mvoid[0m waitfg(pid_t pid) [1m[37m[41m{[0m
    [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);
    [1m[33mwhile[0m (job->state == FG) [1m[37m[41m{[0m
        sleep([1C); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;80H0[18;20H[34h[?25h[?25l[18;19H[K[21;1H}[26;24H{[28;30H{[30;79H19[18;19H[34h[?25h[?25l[18;18H[K[30;80H8[18;18H[34h[?25h[?25l[18;17H[K[30;80H7[18;17H[34h[?25h[?25l[18;16H[K[30;80H6[18;16H[34h[?25h[?25l[18;15H[K[30;80H5[18;15H[34h[?25h[?25l[18;14H[K[30;80H4[18;14H[34h[?25h[?25l[18;13H[K[30;80H3[18;13H[34h[?25h[?25l[30;80H2[18;12H[34h[?25h[?25l[30;80H1[18;11H[34h[?25h[?25l[30;80H0[18;10H[34h[?25h[?25l[30;79H9 [18;9H[34h[?25h[?25l[30;79H8[18;8H[34h[?25h[?25l[30;79H7[18;7H[34h[?25h[?25l[30;79H6[18;6H[34h[?25h[?25l[30;79H5[18;5H[34h[?25h[?25l[30;79H4[18;4H[34h[?25h[?25l[30;79H3[18;3H[34h[?25h[?25l[30;79H2[18;2H[34h[?25h[30;1H[K[18;1H[?25l[30;75H342,1[9C51%[18;1H[34h[?25h[?25l [7m [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H342,1[9C51%[18;1H[34h[?25h[?25l[17;2H[7m       [0m[1m[7m[33mif[0m[7m (success != [0m[1m[7m[35m1[0m[7m) { 
 [0m[30;77H1[17;1H[34h[?25h[?25l[16;2H[7m       [0m[1m[7m[36m// Check if argument is a valid pid[0m[7m 
 [0m[30;77H0[16;1H[34h[?25h[?25l[15;2H[7m        
 [0m[30;76H39[15;1H[34h[?25h[?25l[14;2H[7m       [0m[1m[7m[32mint[0m[7m success = sscanf(argv[[0m[1m[7m[35m1[0m[7m], [0m[1m[7m[35m"[0m[1m[7m[31m%u%c[0m[1m[7m[35m"[0m[7m, &pid, &trash); [0m[1m[7m[36m// Unsigned integer[0m[7m 
 [0m[30;77H8[14;1H[34h[?25h[?25l[13;2H[7m       [0m[1m[7m[32mchar[0m[7m trash = [0m[1m[7m[35m0[0m[7m; 
 [0m[30;77H7[13;1H[34h[?25h[?25l[12;2H[7m       [0m[1m[7m[32mint[0m[7m pid = [0m[1m[7m[35m0[0m[7m; 
 [0m[30;77H6[12;1H[34h[?25h[?25l[11;2H[7m       [0m[1m[7m[36m// Check for a valid unsigned int with no trailing characters[0m[7m 
 [0m[30;77H5[11;1H[34h[?25h[?25l[10;2H[7m   } [0m[1m[7m[33melse[0m[7m { 
 [0m[30;77H4[10;1H[34h[?25h[?25l[30;1H9 fewer lines[30;14H[K[10;29r[10;1H[9M[1;30r[21;4H }
    [1m[33mreturn[0m;
}

[1m[36m/*****************
 * Signal handlers
 *****************/

/* [0m[30;1H[K[30;75H334,0-1[7C52%9 fewer lines[30;75H[K[30;75H334,0-1[7C52%[10;1H[34h[?25h[?25l[30;77H3,1  [9;1H[34h[?25h[?25l[5;22H[46m{[8;5H}[0m[30;77H2,5[8;5H[34h[?25h[?25l[5;22H{[8;5H}[30;77H3[9;5H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;13H[K[30;75H333,5[9C52%[9;5H[34h[?25h[?25l[30;79H4[9;4H[34h[?25h[?25l[30;79H3[9;3H[34h[?25h[?25l[30;79H2[9;2H[34h[?25h[?25l[30;79H1[9;1H[34h[?25h[?25l[8;29r[29;1H
[1;30r[8;4H }[29;1H[1m[36m * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever[0m[30;75H[K[30;75H332,6[9C52%[5;22H[46m{[8;5H}[34h[?25h[?25l[0m[5;22H{[8;5H}[30;77H1[7;6H[34h[?25h[?25l[30;77H0[6;6H[34h[?25h[?25l[30;76H29[5;6H[34h[?25h[?25l[30;77H8[4;6H[34h[?25h[?25l[30;77H7,1[3;1H[34h[?25h[?25l[30;77H6,6[2;6H[34h[?25h[?25l[30;77H5[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job = [1m[35mNULL[0m;[30;75H[K[30;75H324,6[9C51%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H323,1[9C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H322,6[9C51%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H321,6[9C51%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H320,6[9C51%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H319,6[9C51%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H318,6[9C50%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H317,6[9C50%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (isjob) {[30;75H[K[30;75H316,6[9C50%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H315,6[9C50%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check if argument is a valid number[0m[30;75H[K[30;75H314,6[9C50%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H313,1[9C50%[1;1H[34h[?25h[?25l[30;77H4,6[2;6H[34h[?25h[?25l[30;77H5[3;6H[34h[?25h[?25l[30;77H6[4;6H[34h[?25h[?25l[14C[46m{[6;9H}[0m[30;79H21[4;21H[34h[?25h[?25l{[6;9H}[30;77H7,83[5;83H[34h[?25h[?25l[6;16H[46m{[8;9H}[0m[30;77H8,17[6;17H[34h[?25h[?25l{[8;9H}[30;77H9,79[7;79H[34h[?25h[?25l[6;16H[46m{[8;9H}[0m[30;76H20,10[8;10H[34h[?25h[?25l[6;16H{[8;9H}[30;77H1,16[9;16H[34h[?25h[?25l[3;23H[46m{[10;5H}[0m[30;77H2,6 [10;6H[34h[?25h[?25l[3;23H{[10;5H}[30;77H3,1[11;1H[34h[?25h[?25l[30;77H4,30[12;30H[34h[?25h[?25l[13;16H[46m{[28C}[0m[30;77H5,46[13;46H[34h[?25h[?25l[13;16H{[28C}[14;10H[46m{[28C}[0m[30;77H6,40[14;40H[34h[?25h[?25l[14;10H{[28C}[30;77H7,1 [15;1H[34h[?25h[?25l[30;77H8,26[16;26H[34h[?25h[?25l[17;22H[46m{[20;5H}[0m[30;77H9,23[17;23H[34h[?25h[?25l{[20;5H}[30;76H30,46[18;46H[34h[?25h[?25l[30;77H1,1[19;16H[34h[?25h[?25l[30;77H2,10[20;10H[34h[?25h[?25l[30;77H3,1 [21;1H[34h[?25h[?25l[30;77H2,10[20;10H[34h[?25h[?25l[30;77H1,16[19;16H[34h[?25h[?25l[30;77H0,4[18;46H[34h[?25h[?25l[17;22H[46m{[20;5H}[0m[30;76H29,23[17;23H[34h[?25h[?25l{[20;5H}[30;77H8,26[16;26H[34h[?25h[?25l[30;77H7,1 [15;1H[34h[?25h[?25l[14;10H[46m{[28C}[0m[30;77H6,40[14;40H[34h[?25h[?25l[13;16H[46m{[28C}[0m[14;10H{[28C}[30;77H5,46[13;46H[34h[?25h[?25l[30;80H5[13;45H[34h[?25h[?25l[13;16H{[28C}[30;80H4[13;44H[34h[?25h[?25l[13;33H[46m([8C)[0m[30;80H3[13;43H[34h[?25h[?25l[30;80H2[13;42H[34h[?25h[?25l[13;33H([8C)[30;80H1[13;41H[34h[?25h[?25l[30;80H0[13;40H[34h[?25h[?25l[30;79H39[13;39H[34h[?25h[?25l[30;80H8[13;38H[34h[?25h[?25l[30;80H7[13;37H[34h[?25h[?25l[30;80H6[13;36H[34h[?25h[?25l[30;80H5[13;35H[34h[?25h[?25l[46m([8C)[0m[30;80H4[13;34H[34h[?25h[?25l[30;80H3[13;33H[34h[?25h[?25l([8C)[30;80H2[13;32H[34h[?25h[?25l[30;80H1[13;31H[34h[?25h[?25l[30;80H0[13;30H[34h[?25h[?25l[30;79H29[13;29H[34h[?25h[?25l[30;80H8[13;28H[34h[?25h[?25l[30;80H7[13;27H[34h[?25h[?25l[30;80H6[13;26H[34h[?25h[?25l[30;80H5[13;25H[34h[?25h[?25l[30;80H4[13;24H[34h[?25h[?25l[30;80H3[13;23H[34h[?25h[?25l[30;80H2[13;22H[34h[?25h[?25l[30;80H1[13;21H[34h[?25h[?25l[30;80H0[13;20H[34h[?25h[?25l[30;79H19[13;19H[34h[?25h[?25l[30;80H8[13;18H[34h[?25h[?25l ijob = [30m[43mgetjobjid[0m(jobs, id); }[30;80H9[13;19H[34h[?25h[?25l[14;29r[14;1H[L[1;30r[13;19H[K[14;8H job = [30m[43mgetjobjid[0m(jobs, id); }[30;75H[K[30;75H326,9[9C50%[14;9H[34h[?25h[?25l[13;8H[46m([0misjob[46m)[0m[30;77H5[13;9H[34h[?25h[?25l(isjob)[30;79H19[13;19H[34h[?25h[?25l[13;18H[K[30;80H8[13;18H[34h[?25h[?25l[30;77H6[14;18H[34h[?25h[?25l[13;16H[46m{[14;36H}[0m[30;79H37[14;37H[34h[?25h[?25l[30;80H6[14;36H[34h[?25h[?25l[15;29r[15;1H[L[1;30r[14;35H [46m [0m[15;8H }[30;75H[K[30;75H327,9[9C50%[14;36H[K[15;9H[46m}[34h[?25h[?25l[0m }[46m }[0m[15;9H[K[30;79H8[15;8H[34h[?25h[?25l }[46m }[0m[15;8H[K[30;79H7[15;7H[34h[?25h[?25l }[46m }[0m[15;7H[K[30;79H6[15;6H[34h[?25h[?25l }[46m }[0m[15;6H[K[30;79H5[15;5H[34h[?25h[?25l[30;79H6[15;6H[34h[?25h[?25l[15;29r[29;1H
[1;30r[15;4H [46m}[0m    [1m[33melse[0m { job = getjobpid(jobs, id); }[29;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H327,6[9C50%[15;6H[34h[?25h[?25l   [1m[33melse[0m { job = getjobpid(jobs, id); }[15;44H[K[15;6H[34h[?25h[?25l  [1m[33melse[0m { job = getjobpid(jobs, id); }[15;43H[K[15;6H[34h[?25h[?25l [1m[33melse[0m { job = getjobpid(jobs, id); }[15;42H[K[15;6H[34h[?25h[?25l[13;16H{[15;5H}[30;79H7[15;7H[34h[?25h[?25l[30;79H8[15;8H[34h[?25h[?25l[30;79H9[15;9H[34h[?25h[?25l[30;79H10[15;10H[34h[?25h[?25l[30;80H1[15;11H[34h[?25h[?25l [46m{[28C}[0m[30;80H2[15;12H[34h[?25h[?25l[30;80H3[15;13H[34h[?25h[?25l{[28C}[30;80H4[15;14H[34h[?25h[?25l[16;29r[16;1H[L[1;30r[15;14H[K[16;8H job = getjobpid(jobs, id); }[30;75H[K[30;75H328,9[9C50%[16;9H[34h[?25h[?25l[15;12H[46m{[16;36H}[0m[30;79H37[16;37H[34h[?25h[?25l[30;80H6[16;36H[34h[?25h[?25l[17;29r[17;1H[L[1;30r[16;35H [46m [0m[17;8H }[30;75H[K[30;75H329,9[9C49%[16;36H[K[17;9H[46m}[34h[?25h[?25l[0m }[46m }[0m[17;9H[K[30;79H8[17;8H[34h[?25h[?25l }[46m }[0m[17;8H[K[30;79H7[17;7H[34h[?25h[?25l }[46m }[0m[17;7H[K[30;79H6[17;6H[34h[?25h[?25l }[46m }[0m[17;6H[K[30;79H5[17;5H[34h[?25h[?25l[15;12H{[17;5H}[30;76H30,1[18;1H[34h[?25h[?25l[30;77H1,5[19;5H[34h[?25h[?25l[30;77H0,1[18;1H[34h[?25h[?25l[15;12H[46m{[17;5H}[0m[30;76H29,5[17;5H[34h[?25h[?25l[15;12H{[17;5H}[30;77H8[16;5H[34h[?25h[?25l[13;16H[46m{[15;5H}[0m[30;77H7[15;5H[34h[?25h[?25l[13;16H{[15;5H}[30;77H6[14;5H[34h[?25h[?25l[30;77H5[13;5H[34h[?25h[?25l[30;77H4[12;5H[34h[?25h[?25l[30;77H3,1[11;1H[34h[?25h[?25l[30;77H4,5[12;5H[34h[?25h[?25l[30;77H5[13;5H[34h[?25h[?25l[30;77H6[14;5H[34h[?25h[?25l[13;16H[46m{[15;5H}[0m[30;77H7[15;5H[34h[?25h[?25l[13;16H{[15;5H}[30;77H8[16;5H[34h[?25h[?25l[15;12H[46m{[17;5H}[0m[30;77H9[17;5H[34h[?25h[?25l[15;12H{[17;5H}[30;76H30,1[18;1H[34h[?25h[?25l[30;77H1,5[19;5H[34h[?25h[?25l[30;77H2[20;5H[34h[?25h[?25l[30;77H3[21;5H[34h[?25h[?25l[30;77H2[20;5H[34h[?25h[?25l[17C[46m{[23;5H}[0m[30;79H23[20;23H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[30;75H[K[30;75H333,9[9C49%[20;22H{[24;5H}[21;9H[34h[?25h[?25l /[30;79H10[21;10H[34h[?25h[?25l[1m[36m//[0m[30;80H1[21;11H[34h[?25h[?25l/[21;10H[K[30;80H0[21;10H[34h[?25h[?25l[21;9H[K[30;79H9 [21;9H[34h[?25h[?25l i[30;79H10[21;10H[34h[?25h[?25l[1m[33mif[0m[30;80H1[21;11H[34h[?25h[?25l[30;80H2[21;12H[34h[?25h[?25l ([24;5H[1m[37m[41m}


}[0m[30;80H3[21;13H[34h[?25h[?25l(i[30;80H4[21;14H[34h[?25h[?25lis[30;80H5[21;15H[34h[?25h[?25lsj[30;80H6[21;16H[34h[?25h[?25ljo[30;80H7[21;17H[34h[?25h[?25lob[30;80H8[21;18H[34h[?25h[?25lb)[24;5H}


}[21;12H[46m([0misjob[46m)[0m[30;80H9[21;19H[34h[?25h[?25l[21;12H(isjob)[30;79H20[21;20H[34h[?25h[?25l {[46m{[24;5H}[0m[30;80H1[21;21H[34h[?25h[?25l[22;29r[22;1H[L[1;30r[30;75H[K[30;75H334,13[8C49%[21;20H{[25;5H}[22;13H[34h[?25h[?25l }[21;20H[46m{[22;9H}[0m[30;80H0[22;10H[34h[?25h[?25l[22;9H[K[21;20H{[30;79H9 [22;9H[34h[?25h[?25l[30;79H8[22;8H[34h[?25h[?25l[30;79H7[22;7H[34h[?25h[?25l[30;79H6[22;6H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l[30;79H4[22;4H[34h[?25h[?25l[30;79H3[22;3H[34h[?25h[?25l[30;79H2[22;2H[34h[?25h[?25l[30;79H1[22;1H[34h[?25h[?25l[21;29r[29;1H
[1;30r[21;8H [1m[33mif[0m (isjob) {[29;1H[1m[36m/* [0m[30;75H[K[30;75H333,21[8C49%[21;20H[46m{[24;5H}[21;21H[34h[?25h[?25l[0m{[24;5H}[30;77H4[22;21H[34h[?25h[?25l[30;79H1 [22;1H[34h[?25h[?25l[30;79H2[22;2H[34h[?25h[?25l[30;79H3[22;3H[34h[?25h[?25l[30;79H4[22;4H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l[30;79H6[22;6H[34h[?25h[?25l[30;79H7[22;7H[34h[?25h[?25l[30;79H8[22;8H[34h[?25h[?25l[30;79H9[22;9H[34h[?25h[?25l     printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;79H13[22;13H[34h[?25h[?25l[30;79H50[22;50H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H335,13[8C49%[23;13H[34h[?25h[?25l }[21;20H[46m{[23;9H}[0m[30;80H0[23;10H[34h[?25h[?25l[21;20H{[23;9H}[30;80H1[23;11H[34h[?25h[?25l e[30;80H2[23;12H[34h[?25h[?25lel[30;80H3[23;13H[34h[?25h[?25lls[30;80H4[23;14H[34h[?25h[?25l[1m[33melse[0m[30;80H5[23;15H[34h[?25h[?25l[30;80H6[23;16H[34h[?25h[?25l {[46m{[25;5H}[0m[30;80H7[23;17H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[25;5H[46m [0m[30;75H[K[30;75H336,13[8C49%[23;16H{[25;5H 
    }[24;13H[34h[?25h[?25l }[23;16H[46m{[24;9H}[0m[30;80H0[24;10H[34h[?25h[?25l[21;20H[46m{[23;9H}[0m[6C{[24;9H}[30;77H5[23;10H[34h[?25h[?25l[21;20H{[23;9H}[6C[46m{[24;9H}[0m[30;80H7[23;17H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[24;9H[46m [0m[25;9H}[30;75H[K[30;75H336,13[8C49%[23;16H{[24;9H    [34h[?25h[?25l p[30;80H4[24;14H[34h[?25h[?25lpr[30;80H5[24;15H[34h[?25h[?25lri[30;80H6[24;16H[34h[?25h[?25lin[30;80H7[24;17H[34h[?25h[?25lnt[30;80H8[24;18H[34h[?25h[?25ltf[30;80H9[24;19H[34h[?25h[?25lf([25;9H[1m[37m[41m}[27;5H}[0m[30;79H20[24;20H[34h[?25h[?25l()[25;9H}[27;5H}[24;19H[46m()[0m[30;80H1[24;21H[34h[?25h[?25l[30;80H0[24;20H[34h[?25h[?25l[46m([0m[1m[35m[46m"[0m[1m[35m)
        }
        return;
    }    

    return;[24;20H"[0m[1m[35m[46m)[0m[30;80H1[24;21H[34h[?25h[?25l[1m[35m"[0m[1m[35m[46m%[0m[1m[35m)%[0m[1m[35m[46m)[0m[30;80H2[24;22H[34h[?25h[?25l[1m[31m%[0m[1m[31m[46ms[0m[1m[35m)[0m[1m[31ms[0m[1m[35m[46m)[0m[30;80H3[24;23H[34h[?25h[?25l[1m[31ms[0m[1m[35m[46mL[0m[1m[35m)L[0m[1m[35m[46m)[0m[30;80H4[24;24H[34h[?25h[?25l[1m[31ms[0m[1m[35m)[0m[46m [0m[1m[35m[46m)[0m[24;24H[K[30;80H3[24;23H[34h[?25h[?25l[1m[31ms[0m[1m[35m[46m:[0m[1m[35m):[0m[1m[35m[46m)[0m[30;80H4[24;24H[34h[?25h[?25l[1m[35m:[0m[1m[35m[46m [0m[1m[35m) [0m[1m[35m[46m)[0m[30;80H5[24;25H[34h[?25h[?25l[1m[35m [0m[1m[35m[46mN[0m[1m[35m)N[0m[1m[35m[46m)[0m[30;80H6[24;26H[34h[?25h[?25l[1m[35mN[0m[1m[35m[46mo[0m[1m[35m)o[0m[1m[35m[46m)[0m[30;80H7[24;27H[34h[?25h[?25l[1m[35mo[0m[1m[35m[46m [0m[1m[35m) [0m[1m[35m[46m)[0m[30;80H8[24;28H[34h[?25h[?25l[1m[35m [0m[1m[35m[46ms[0m[1m[35m)s[0m[1m[35m[46m)[0m[30;80H9[24;29H[34h[?25h[?25l[1m[35ms[0m[1m[35m[46mu[0m[1m[35m)u[0m[1m[35m[46m)[0m[30;79H30[24;30H[34h[?25h[?25l[1m[35mu[0m[1m[35m[46mc[0m[1m[35m)c[0m[1m[35m[46m)[0m[30;80H1[24;31H[34h[?25h[?25l[1m[35mc[0m[1m[35m[46mh[0m[1m[35m)h[0m[1m[35m[46m)[0m[30;80H2[24;32H[34h[?25h[?25l[1m[35mh[0m[1m[35m[46m [0m[1m[35m) [0m[1m[35m[46m)[0m[30;80H3[24;33H[34h[?25h[?25l[1m[35m [0m[1m[35m[46mp[0m[1m[35m)p[0m[1m[35m[46m)[0m[30;80H4[24;34H[34h[?25h[?25l[1m[35mp[0m[1m[35m[46mr[0m[1m[35m)r[0m[1m[35m[46m)[0m[30;80H5[24;35H[34h[?25h[?25l[1m[35mr[0m[1m[35m[46mo[0m[1m[35m)o[0m[1m[35m[46m)[0m[30;80H6[24;36H[34h[?25h[?25l[1m[35mo[0m[1m[35m[46mc[0m[1m[35m)c[0m[1m[35m[46m)[0m[30;80H7[24;37H[34h[?25h[?25l[1m[35mc[0m[1m[35m[46me[0m[1m[35m)e[0m[1m[35m[46m)[0m[30;80H8[24;38H[34h[?25h[?25l[1m[35me[0m[1m[35m[46ms[0m[1m[35m)s[0m[1m[35m[46m)[0m[30;80H9[24;39H[34h[?25h[?25l[1m[35ms[0m[1m[35m[46ms[0m[1m[35m)s[0m[1m[35m[46m)[0m[30;79H40[24;40H[34h[?25h[?25l[1m[35ms[0m[1m[31m[46m\[0m[1m[31m)\[0m[1m[31m[46m)[0m[30;80H1[24;41H[34h[?25h[?25l[1m[31m\[0m[1m[31m[46mn[0m[1m[35m)[0m[1m[31mn[0m[1m[35m[46m)[0m[30;80H2[24;42H[34h[?25h[?25l[30;80H3[24;43H[34h[?25h[?25l[1m[35m[46m)[0m[1m[35m,[0m[24;19H([22C[1m[35m)[0m[30;80H4[24;44H[34h[?25h[?25l[24;43H[K[24;19H[46m([0m[22C[1m[35m[46m)[0m[30;80H3[24;43H[34h[?25h[?25l[24;42H[K[24;19H([30;80H2[24;42H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[25;1H[1m[35m            [0m[30;75H[K[30;75H337,13[8C49%[25;13H[34h[?25h[?25l[25;12H[K[30;80H2[25;12H[34h[?25h[?25l[25;11H[K[30;80H1[25;11H[34h[?25h[?25l[25;10H[K[30;80H0[25;10H[34h[?25h[?25l[25;9H[K[30;79H9 [25;9H[34h[?25h[?25l[25;8H[K[30;79H8[25;8H[34h[?25h[?25l[25;7H[K[30;79H7[25;7H[34h[?25h[?25l[25;6H[K[30;79H6[25;6H[34h[?25h[?25l[25;5H[K[30;79H5[25;5H[34h[?25h[?25l[25;4H[K[30;79H4[25;4H[34h[?25h[?25l[25;3H[K[30;79H3[25;3H[34h[?25h[?25l[25;2H[K[30;79H2[25;2H[34h[?25h[?25l[25;1H[K[30;79H1[25;1H[34h[?25h[?25l[24;29r[29;1H
[1;30r[24;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[29;1H[1m[35m    return;[0m[30;75H[K[30;75H336,42[8C49%[24;42H[34h[?25h[?25l[1m[31mn[0m[1m[35m"[0m
        [1m[37m[41m}[0m
        [1m[33mreturn[0m;
    [1m[37m[41m}[0m    

    [1m[33mreturn[0m;[30;80H3[24;43H[34h[?25h[?25l[1m[35m"[0m,[30;80H4[24;44H[34h[?25h[?25l[30;80H5[24;45H[34h[?25h[?25l a[30;80H6[24;46H[34h[?25h[?25lar[30;80H7[24;47H[34h[?25h[?25lrg[30;80H8[24;48H[34h[?25h[?25lgv[30;80H9[24;49H[34h[?25h[?25lv[[26;15H[1m[37m[41m;[29;11H;[0m[30;79H50[24;50H[34h[?25h[?25l[[1m[35m1[0m[30;80H1[24;51H[34h[?25h[?25l[1m[35m1[0m][26;15H;[29;11H;[24;49H[46m[[1C][0m[30;80H2[24;52H[34h[?25h[?25l[46m][0m)[25;9H}[27;5H}[24;19H[46m([0m[29C[[1C][46m)[0m[30;80H3[24;53H[34h[?25h[?25l[46m)[0m;[24;19H([32C)[30;80H4[24;54H[34h[?25h[?25l[23;16H[46m{[25;9H}[0m[30;77H7,10[25;10H[34h[?25h[?25l[23;16H{[25;9H}[30;77H8,16[26;16H[34h[?25h[?25l[30;77H9,10[27;10H[34h[?25h[?25l[30;76H40,1 [28;1H[34h[?25h[?25l[30;77H1,12[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H342,2[9C49%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H343,1[9C49%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H344,4[9C50%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H345,54[8C50%[29;54H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H346,4[9C50%[29;4H[34h[?25h[?25l[30;77H5,54[28;54H[34h[?25h[?25l[30;77H4,4 [27;4H[34h[?25h[30;1H[K[27;3H[?25l[30;75H344,3[9C50%[27;3H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hq[?25l[34h[?25h[?25l[30;2H[K[30;2H[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 658L, 17188C written[46C344,3[9C50%[30;75H[K[30;75H344,3[9C50%[27;3H[34h[?25h[?25l[30;77H3,0-1[26;1H[34h[?25h[?25l[30;77H2,1  [25;1H[34h[?25h[?25l[30;77H1,3[24;3H[34h[?25h[?25l[30;77H0,0-1[23;1H[34h[?25h[?25l[30;76H39,3  [22;3H[34h[?25h[?25l[30;77H8[21;3H[34h[?25h[?25l[30;77H7[20;3H[34h[?25h[?25l[30;77H6[19;3H[34h[?25h[?25l[30;77H5[18;3H[34h[?25h[?25l[30;77H4[17;3H[34h[?25h[?25l[30;77H3[16;3H[34h[?25h[?25l[30;77H2[15;3H[34h[?25h[?25l[30;77H1[14;3H[34h[?25h[?25l[30;77H0,0-1[13;1H[34h[?25h[?25l[30;76H29,3  [12;3H[34h[?25h[?25l[30;77H8[11;3H[34h[?25h[?25l[30;77H7[10;3H[34h[?25h[?25l[30;77H6[9;3H[34h[?25h[?25l[30;77H5[8;3H[34h[?25h[?25l[30;77H4[7;3H[34h[?25h[?25l[30;77H3,0-1[6;1H[34h[?25h[?25l[30;77H2,3  [5;3H[34h[?25h[?25l[30;77H1[4;3H[34h[?25h[?25l[30;77H0[3;3H[34h[?25h[?25l[30;76H19[2;3H[34h[?25h[?25l[30;77H8[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;1H[K[30;75H317,3[9C50%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (isjob) {[30;75H[K[30;75H316,3[9C50%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H315,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check if argument is a valid number[0m[30;75H[K[30;75H314,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H313,0-1[7C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m success = sscanf(number, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H312,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H311,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m id = [1m[35m0[0m;[30;75H[K[30;75H310,3[9C49%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check for a valid unsigned int with no trailing characters[0m[30;75H[K[30;75H309,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H308,0-1[7C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H307,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H number = &argv[[1m[35m1[0m][[1m[35m1[0m]; [1m[36m// Remove leading '%'[0m[30;75H[K[30;75H306,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H isjob = [1m[35m1[0m;[30;75H[K[30;75H305,3[9C48%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[30;75H[K[30;75H304,3[9C48%[1;3H[34h[?25h[?25l[30;77H5[2;3H[34h[?25h[?25l[30;77H6[3;3H[34h[?25h[?25l[30;77H7[4;3H[34h[?25h[?25l[30;77H8,0-1[5;1H[34h[?25h[?25l[30;77H9,3  [6;3H[34h[?25h[?25l[30;76H10[7;3H[34h[?25h[?25l[30;77H1[8;3H[34h[?25h[?25l[30;77H2[9;3H[34h[?25h[?25l[30;77H3,0-1[10;1H[34h[?25h[?25l[30;77H4,3  [11;3H[34h[?25h[?25l[30;77H5[12;3H[34h[?25h[?25l[30;77H6[13;3H[34h[?25h[?25l[30;77H7[14;3H[34h[?25h[?25l[30;79H4[14;4H[34h[?25h[?25l[30;79H5[14;5H[34h[?25h[?25l[30;79H6[14;6H[34h[?25h[?25l[30;79H7[14;7H[34h[?25h[?25l[30;79H8[14;8H[34h[?25h[?25l[30;79H9[14;9H[34h[?25h[?25l[30;79H10[14;10H[34h[?25h[?25l[30;80H1[14;11H[34h[?25h[?25l[30;80H2[14;12H[34h[?25h[?25l[30;80H3[14;13H[34h[?25h[?25l[30;80H4[14;14H[34h[?25h[?25l[30;80H5[14;15H[34h[?25h[?25l[30;80H6[14;16H[34h[?25h[?25l[30;80H7[14;17H[34h[?25h[?25l[30;80H8[14;18H[34h[?25h[?25lf[46m([61C)[0m[30;80H9[14;19H[34h[?25h[?25l([61C)[30;79H20[14;20H[34h[?25h[?25l[30;80H1[14;21H[34h[?25h[?25l[30;80H2[14;22H[34h[?25h[?25l[30;80H3[14;23H[34h[?25h[?25l[30;80H4[14;24H[34h[?25h[?25l[30;80H5[14;25H[34h[?25h[?25l[30;80H6[14;26H[34h[?25h[?25l[30;80H7[14;27H[34h[?25h[?25l[30;80H8[14;28H[34h[?25h[?25l[30;80H9[14;29H[34h[?25h[?25l[30;79H30[14;30H[34h[?25h[?25l[30;80H1[14;31H[34h[?25h[?25l[30;80H2[14;32H[34h[?25h[?25l[30;80H3[14;33H[34h[?25h[?25l[30;80H4[14;34H[34h[?25h[?25l[30;80H3[14;33H[34h[?25h[?25l[30;80H4[14;34H[34h[?25h[?25l[30;80H5[14;35H[34h[?25h[?25l[30;80H6[14;36H[34h[?25h[?25l[30;80H7[14;37H[34h[?25h[?25l[1m[35m se an unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;82H[K[14;37H[34h[?25h[?25l[1m[35m e an unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;81H[K[14;37H[34h[?25h[?25l[1m[35m  an unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;80H[K[14;37H[34h[?25h[?25l[1m[35m an unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;79H[K[14;37H[34h[?25h[?25l[1m[35m n unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;78H[K[14;37H[34h[?25h[?25l[1m[35m  unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;77H[K[14;37H[34h[?25h[?25l[1m[35m unsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;76H[K[14;37H[34h[?25h[?25l[1m[35m nsigned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;75H[K[14;37H[34h[?25h[?25l[1m[35m signed integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;74H[K[14;37H[34h[?25h[?25l[1m[35m igned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;73H[K[14;37H[34h[?25h[?25l[1m[35m gned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;72H[K[14;37H[34h[?25h[?25l[1m[35m ned integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;71H[K[14;37H[34h[?25h[?25l[1m[35m ed integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;70H[K[14;37H[34h[?25h[?25l[1m[35m d integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;69H[K[14;37H[34h[?25h[?25l[1m[35m  integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;68H[K[14;37H[34h[?25h[?25l[1m[35m integer argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;67H[K[14;37H[34h[?25h[?25l[1m[35m nteger argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;66H[K[14;37H[34h[?25h[?25l[1m[35m teger argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;65H[K[14;37H[34h[?25h[?25l[1m[35m eger argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;64H[K[14;37H[34h[?25h[?25l[1m[35m ger argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;63H[K[14;37H[34h[?25h[?25l[1m[35m er argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;62H[K[14;37H[34h[?25h[?25l[1m[35m r argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;61H[K[14;37H[34h[?25h[?25l[1m[35m  argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;60H[K[14;37H[34h[?25h[?25l[1m[35m argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;59H[K[14;37H[34h[?25h[?25l[1m[35m rgument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;58H[K[14;37H[34h[?25h[?25l[1m[35m gument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;57H[K[14;37H[34h[?25h[?25l[1m[35m ument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;56H[K[14;37H[34h[?25h[?25l[1m[35m ment[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;55H[K[14;37H[34h[?25h[?25l[1m[35m ent[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;54H[K[14;37H[34h[?25h[?25l[1m[35m nt[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;53H[K[14;37H[34h[?25h[?25l[1m[35m t[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;52H[K[14;37H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;51H[K[14;37H[34h[?25h[?25l[30;80H2[14;32H[34h[?25h[?25l[30;80H5[14;35H[34h[?25h[?25l[30;80H6[14;36H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H317,36[8C48%[14;36H[34h[?25h[?25l[30;80H7[14;37H[34h[?25h[?25l[1m[35m h[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[14;38H[34h[?25h[?25l[1m[35mha[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[14;39H[34h[?25h[?25l[1m[35mav[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H40[14;40H[34h[?25h[?25l[1m[35mve[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[14;41H[34h[?25h[?25l[1m[35me [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[14;42H[34h[?25h[?25l[1m[35m a[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[14;43H[34h[?25h[?25l[1m[35ma [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[14;44H[34h[?25h[?25l[1m[35m n[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;45H[34h[?25h[?25l[1m[35mnu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[14;46H[34h[?25h[?25l[1m[35mum[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[14;47H[34h[?25h[?25l[1m[35mme[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[14;48H[34h[?25h[?25l[1m[35mer[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[14;49H[34h[?25h[?25l[1m[35mri[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H50[14;50H[34h[?25h[?25l[1m[35mic[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[14;51H[34h[?25h[?25l[1m[35mca[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[14;52H[34h[?25h[?25l[1m[35mal[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[14;53H[34h[?25h[?25l[1m[35ma[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;66H[K[30;80H2[14;52H[34h[?25h[?25l[1m[35mc[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;65H[K[30;80H1[14;51H[34h[?25h[?25l[1m[35mi[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;64H[K[30;80H0[14;50H[34h[?25h[?25l[1m[35mr[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;63H[K[30;79H49[14;49H[34h[?25h[?25l[1m[35me[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;62H[K[30;80H8[14;48H[34h[?25h[?25l[1m[35mm[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;61H[K[30;80H7[14;47H[34h[?25h[?25l[1m[35mu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;60H[K[30;80H6[14;46H[34h[?25h[?25l[1m[35mn[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;59H[K[30;80H5[14;45H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;58H[K[30;80H4[14;44H[34h[?25h[?25l[1m[35m a[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;45H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;58H[K[30;80H4[14;44H[34h[?25h[?25l[1m[35ma[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;57H[K[30;80H3[14;43H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;56H[K[30;80H2[14;42H[34h[?25h[?25l[1m[35me[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;55H[K[30;80H1[14;41H[34h[?25h[?25l[1m[35mv[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;54H[K[30;80H0[14;40H[34h[?25h[?25l[1m[35ma[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;53H[K[30;79H39[14;39H[34h[?25h[?25l[1m[35mh[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;52H[K[30;80H8[14;38H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;51H[K[30;80H7[14;37H[34h[?25h[?25l[1m[35mt[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;50H[K[30;80H6[14;36H[34h[?25h[?25l[1m[35mt [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[14;37H[34h[?25h[?25l[1m[35m u[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[14;38H[34h[?25h[?25l[1m[35mus[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[14;39H[34h[?25h[?25l[1m[35mse[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H40[14;40H[34h[?25h[?25l[1m[35me [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[14;41H[34h[?25h[?25l[1m[35m a[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[14;42H[34h[?25h[?25l[1m[35man[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[14;43H[34h[?25h[?25l[1m[35mn [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[14;44H[34h[?25h[?25l[1m[35m u[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;45H[34h[?25h[?25l[1m[35mun[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[14;46H[34h[?25h[?25l[1m[35mns[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[14;47H[34h[?25h[?25l[1m[35msi[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[14;48H[34h[?25h[?25l[1m[35mig[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[14;49H[34h[?25h[?25l[1m[35mgn[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H50[14;50H[34h[?25h[?25l[1m[35mne[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[14;51H[34h[?25h[?25l[1m[35med[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[14;52H[34h[?25h[?25l[1m[35md [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[14;53H[34h[?25h[?25l[1m[35m i[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[14;54H[34h[?25h[?25l[1m[35min[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;55H[34h[?25h[?25l[1m[35mnt[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[14;56H[34h[?25h[?25l[1m[35mte[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[14;57H[34h[?25h[?25l[1m[35meg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[14;58H[34h[?25h[?25l[1m[35mgr[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[14;59H[34h[?25h[?25l[1m[35mra[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H60[14;60H[34h[?25h[?25l[1m[35mal[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[14;61H[34h[?25h[?25l[1m[35ml [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[14;62H[34h[?25h[?25l[1m[35m v[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[14;63H[34h[?25h[?25l[1m[35mvla[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;65H[34h[?25h[?25l[1m[35ml[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;78H[K[30;80H4[14;64H[34h[?25h[?25l[1m[35mv[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;77H[K[30;80H3[14;63H[34h[?25h[?25l[1m[35mva[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[14;64H[34h[?25h[?25l[1m[35mal[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;65H[34h[?25h[?25l[1m[35mlu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[14;66H[34h[?25h[?25l[1m[35mue[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[14;67H[34h[?25h[?25l[1m[35mu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;80H[K[30;80H6[14;66H[34h[?25h[?25l[1m[35ml[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;79H[K[30;80H5[14;65H[34h[?25h[?25l[1m[35ma[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;78H[K[30;80H4[14;64H[34h[?25h[?25l[1m[35mv[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;77H[K[30;80H3[14;63H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;76H[K[30;80H2[14;62H[34h[?25h[?25l[1m[35ml[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;75H[K[30;80H1[14;61H[34h[?25h[?25l[1m[35ma[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;74H[K[30;80H0[14;60H[34h[?25h[?25l[1m[35mr[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;73H[K[30;79H59[14;59H[34h[?25h[?25l[1m[35mg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;72H[K[30;80H8[14;58H[34h[?25h[?25l[1m[35me[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;71H[K[30;80H7[14;57H[34h[?25h[?25l[1m[35mt[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;70H[K[30;80H6[14;56H[34h[?25h[?25l[1m[35mte[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[14;57H[34h[?25h[?25l[1m[35meg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[14;58H[34h[?25h[?25l[1m[35mge[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[14;59H[34h[?25h[?25l[1m[35mer[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H60[14;60H[34h[?25h[?25l[1m[35mr [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[14;61H[34h[?25h[?25l[1m[35m v[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[14;62H[34h[?25h[?25l[1m[35mva[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[14;63H[34h[?25h[?25l[1m[35mal[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[14;64H[34h[?25h[?25l[1m[35mlu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;65H[34h[?25h[?25l[1m[35mue[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[14;66H[34h[?25h[?25l[1m[35mu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;79H[K[30;80H5[14;65H[34h[?25h[?25l[1m[35ml[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;78H[K[30;80H4[14;64H[34h[?25h[?25l[1m[35ma[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;77H[K[30;80H3[14;63H[34h[?25h[?25l[1m[35mv[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;76H[K[30;80H2[14;62H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;75H[K[30;80H1[14;61H[34h[?25h[?25l[1m[35mr[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;74H[K[30;80H0[14;60H[34h[?25h[?25l[1m[35me[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;73H[K[30;79H59[14;59H[34h[?25h[?25l[1m[35mg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;72H[K[30;80H8[14;58H[34h[?25h[?25l[1m[35me[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;71H[K[30;80H7[14;57H[34h[?25h[?25l[1m[35mt[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;70H[K[30;80H6[14;56H[34h[?25h[?25l[1m[35mn[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;69H[K[30;80H5[14;55H[34h[?25h[?25l[1m[35mi[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;68H[K[30;80H4[14;54H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;67H[K[30;80H3[14;53H[34h[?25h[?25l[1m[35m i[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[14;54H[34h[?25h[?25l[1m[35min[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;55H[34h[?25h[?25l[1m[35mnt[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[14;56H[34h[?25h[?25l[1m[35mte[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[14;57H[34h[?25h[?25l[1m[35meg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[14;58H[34h[?25h[?25l[1m[35mgr[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[14;59H[34h[?25h[?25l[1m[35mra[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H60[14;60H[34h[?25h[?25l[1m[35mal[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[14;61H[34h[?25h[?25l[1m[35ml [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[14;62H[34h[?25h[?25l[1m[35m v[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[14;63H[34h[?25h[?25l[1m[35mva[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[14;64H[34h[?25h[?25l[1m[35mal[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;65H[34h[?25h[?25l[1m[35mlu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[14;66H[34h[?25h[?25l[1m[35mue[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[14;67H[34h[?25h[?25l[15;16H[46m{[17;9H}[0m[30;77H8,1[15;17H[34h[?25h[?25l{[17;9H}[30;77H9,6[16;67H[34h[?25h[?25l[30;80H6[16;66H[34h[?25h[?25l[30;80H5[16;65H[34h[?25h[?25l[1m[35mn[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;78H[K[30;80H4[16;64H[34h[?25h[?25l[1m[35me[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;77H[K[30;80H3[16;63H[34h[?25h[?25l[1m[35mm[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;76H[K[30;80H2[16;62H[34h[?25h[?25l[1m[35mu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;75H[K[30;80H1[16;61H[34h[?25h[?25l[1m[35mg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;74H[K[30;80H0[16;60H[34h[?25h[?25l[1m[35mr[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;73H[K[30;79H59[16;59H[34h[?25h[?25l[1m[35ma[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;72H[K[30;80H8[16;58H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;71H[K[30;80H7[16;57H[34h[?25h[?25l[1m[35mr[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;70H[K[30;80H6[16;56H[34h[?25h[?25l[1m[35me[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;69H[K[30;80H5[16;55H[34h[?25h[?25l[1m[35mg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;68H[K[30;80H4[16;54H[34h[?25h[?25l[1m[35mgr[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[16;55H[34h[?25h[?25l[1m[35mra[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[16;56H[34h[?25h[?25l[1m[35mal[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[16;57H[34h[?25h[?25l[1m[35ml [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[16;58H[34h[?25h[?25l[1m[35m v[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[16;59H[34h[?25h[?25l[1m[35mva[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H60[16;60H[34h[?25h[?25l[1m[35mal[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[16;61H[34h[?25h[?25l[1m[35mlu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[16;62H[34h[?25h[?25l[1m[35mue[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[16;63H[34h[?25h[?25l[1m[35mu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;76H[K[30;80H2[16;62H[34h[?25h[?25l[1m[35ml[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;75H[K[30;80H1[16;61H[34h[?25h[?25l[1m[35ma[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;74H[K[30;80H0[16;60H[34h[?25h[?25l[1m[35mv[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;73H[K[30;79H59[16;59H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[16;72H[K[30;80H8[16;58H[34h[?25h[?25l[1m[35m a[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[16;59H[34h[?25h[?25l[1m[35mar[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H60[16;60H[34h[?25h[?25l[1m[35mrg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[16;61H[34h[?25h[?25l[1m[35mgu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[16;62H[34h[?25h[?25l[1m[35mum[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[16;63H[34h[?25h[?25l[1m[35mme[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[16;64H[34h[?25h[?25l[1m[35men[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[16;65H[34h[?25h[?25l[1m[35mnt[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[16;66H[34h[?25h[?25l[15;16H[46m{[17;9H}[0m[30;77H8,17[15;17H[34h[?25h[?25l{[17;9H}[30;77H7,66[14;66H[34h[?25h[?25l[30;80H7[14;67H[34h[?25h[?25l[30;80H6[14;66H[34h[?25h[?25l[30;80H7[14;67H[34h[?25h[?25l[1m[35mu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;80H[K[30;80H6[14;66H[34h[?25h[?25l[1m[35ml[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;79H[K[30;80H5[14;65H[34h[?25h[?25l[1m[35ma[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;78H[K[30;80H4[14;64H[34h[?25h[?25l[1m[35mv[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;77H[K[30;80H3[14;63H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[14;76H[K[30;80H2[14;62H[34h[?25h[?25l[1m[35m a[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[14;63H[34h[?25h[?25l[1m[35mar[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[14;64H[34h[?25h[?25l[1m[35mrg[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[14;65H[34h[?25h[?25l[1m[35mgu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[14;66H[34h[?25h[?25l[1m[35mum[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[14;67H[34h[?25h[?25l[1m[35mme[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[14;68H[34h[?25h[?25l[1m[35men[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[14;69H[34h[?25h[?25l[1m[35mnt[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H70[14;70H[34h[?25h[?25l[15;16H[46m{[17;9H}[0m[30;77H8,17[15;17H[34h[?25h[?25l{[17;9H}[30;77H9,70[16;70H[34h[?25h[?25l[15;16H[46m{[17;9H}[0m[30;76H20,1[17;10H[34h[?25h[?25l[15;16H{[17;9H}[30;77H1,16[18;16H[34h[?25h[?25l[12;23H[46m{[19;5H}[0m[30;77H2,6 [19;6H[34h[?25h[?25l[12;23H{[19;5H}[30;77H3,1[20;1H[34h[?25h[?25l[30;77H4,30[21;30H[34h[?25h[?25l[30;77H5,18[22;18H[34h[?25h[?25l[30;77H6,36[23;36H[34h[?25h[?25l[30;77H7,14[24;14H[34h[?25h[?25l[30;77H8,36[25;36H[34h[?25h[?25l[24;12H[46m{[26;5H}[0m[30;77H9,6 [26;6H[34h[?25h[?25l[24;12H{[26;5H}[30;76H30,1[27;1H[34h[?25h[?25l[30;77H1,26[28;26H[34h[?25h[?25l[30;77H2,23[29;23H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (isjob) {[30;75H[K[30;75H333,21[8C48%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H334,50[8C48%[29;50H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m {[30;75H[K[30;75H335,17[8C48%[29;17H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H336,54[8C48%[29;54H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H337,10[8C48%[27;16H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;8H [1m[33mreturn[0m;[30;75H[K[30;75H338,16[8C49%[26;16H{[28;9H}[29;16H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H339,10[8C49%[29;10H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H340,1[9C49%[29;1H[34h[?25h[?25l[30;76H39,10[28;10H[34h[?25h[?25l[30;77H8,16[27;16H[34h[?25h[?25l[24;16H[46m{[26;9H}[0m[30;77H7,10[26;10H[34h[?25h[?25l[24;16H{[26;9H}[30;77H6,54[25;54H[34h[?25h[?25l[24;16H[46m{[26;9H}[0m[30;77H5,17[24;17H[34h[?25h[?25l{[26;9H}[30;77H4,50[23;50H[34h[?25h[?25l[22;20H[46m{[24;9H}[0m[30;77H3,21[22;21H[34h[?25h[?25l[21;22H[46m{[0m[22;20H{[24;9H}[28;5H[46m}[0m[30;77H2,23[21;23H[34h[?25h[?25l{[28;5H}[30;77H1,26[20;26H[34h[?25h[?25l[21;22H[46m{[28;5H}[0m[30;77H2,23[21;23H[34h[?25h[?25l{[28;5H}[30;77H1,26[20;26H[34h[?25h[?25l[30;77H0,1 [19;1H[34h[?25h[?25l[16;12H[46m{[18;5H}[0m[30;76H29,6[18;6H[34h[?25h[?25l[16;12H{[18;5H}[30;77H8,36[17;36H[34h[?25h[?25l[30;77H7,14[16;14H[34h[?25h[?25l[30;77H6,36[15;36H[34h[?25h[?25l[30;77H5,18[14;18H[34h[?25h[?25l[30;77H4,30[13;30H[34h[?25h[?25l[30;77H3,1 [12;1H[34h[?25h[?25l[4;23H[46m{[11;5H}[0m[30;77H2,6[11;6H[34h[?25h[?25l[4;23H{[11;5H}[30;77H3,1[12;1H[34h[?25h[?25l[30;77H4,30[13;30H[34h[?25h[?25l[30;77H5,18[14;18H[34h[?25h[?25l[30;77H6,36[15;36H[34h[?25h[?25l[30;77H7,14[16;14H[34h[?25h[?25l[30;77H8,36[17;36H[34h[?25h[?25l[16;12H[46m{[18;5H}[0m[30;77H9,6 [18;6H[34h[?25h[?25l[16;12H{[18;5H}[30;76H30,1[19;1H[34h[?25h[?25l[30;77H1,26[20;26H[34h[?25h[?25l[30;80H5[20;25H[34h[?25h[?25l[30;80H4[20;24H[34h[?25h[?25l[30;80H3[20;23H[34h[?25h[?25l[30;80H2[20;22H[34h[?25h[?25l[30;80H1[20;21H[34h[?25h[?25l[30;80H0[20;20H[34h[?25h[?25l[30;79H19[20;19H[34h[?25h[?25l[30;80H8[20;18H[34h[?25h[?25l[30;80H7[20;17H[34h[?25h[?25l[30;80H6[20;16H[34h[?25h[?25l[30;80H5[20;15H[34h[?25h[?25l[30;80H6[20;16H[34h[?25h[?25l[30;80H7[20;17H[34h[?25h[?25l[30;80H8[20;18H[34h[?25h[?25l[30;80H9[20;19H[34h[?25h[?25l[30;79H20[20;20H[34h[?25h[?25l[1m[36mo exist[0m[20;25H[K[30;79H19[20;19H[34h[?25h[?25l[1m[36mn exist[0m[20;24H[K[30;80H8[20;18H[34h[?25h[?25l[1m[36m  exist[0m[20;23H[K[30;80H7[20;17H[34h[?25h[?25l[1m[36m exist[0m[20;22H[K[30;80H6[20;16H[34h[?25h[?25l[1m[36me exist[0m[20;21H[K[30;80H5[20;15H[34h[?25h[?25l[1m[36mo exist[0m[20;20H[K[30;80H4[20;14H[34h[?25h[?25l[1m[36md exist[0m[20;19H[K[30;80H3[20;13H[34h[?25h[?25l[1m[36m  exist[0m[20;18H[K[30;80H2[20;12H[34h[?25h[?25l[1m[36m exist[0m[20;17H[K[30;80H1[20;11H[34h[?25h[?25l[1m[36mo exist[0m[20;16H[K[30;80H0[20;10H[34h[?25h[?25l[1m[36mJ exist[0m[20;15H[K[30;79H9 [20;9H[34h[?25h[?25l[1m[36m  exist[0m[20;14H[K[30;79H8[20;8H[34h[?25h[?25l[1m[36m C exist[0m[30;79H9[20;9H[34h[?25h[?25l[1m[36mCh exist[0m[30;79H10[20;10H[34h[?25h[?25l[1m[36mhe exist[0m[30;80H1[20;11H[34h[?25h[?25l[1m[36mec exist[0m[30;80H2[20;12H[34h[?25h[?25l[1m[36mck exist[0m[30;80H3[20;13H[34h[?25h[?25l[1m[36m  exist[0m[30;80H4[20;14H[34h[?25h[?25l[1m[36m i exist[0m[30;80H5[20;15H[34h[?25h[?25l[1m[36mif exist[0m[30;80H6[20;16H[34h[?25h[?25l[1m[36m  exist[0m[30;80H7[20;17H[34h[?25h[?25l[1m[36m j exist[0m[30;80H8[20;18H[34h[?25h[?25l[1m[36m  exist[0m[20;23H[K[30;80H7[20;17H[34h[?25h[?25l[1m[36m j exist[0m[30;80H8[20;18H[34h[?25h[?25l[1m[36mjo exist[0m[30;80H9[20;19H[34h[?25h[?25l[1m[36mob exist[0m[30;79H20[20;20H[34h[?25h[?25l[30;80H6[20;26H[34h[?25h[?25l[1m[36mts[0m[30;80H7[20;27H[34h[?25h[?25l[30;77H0,1 [19;1H[34h[?25h[?25l[16;12H[46m{[18;5H}[0m[30;76H29,6[18;6H[34h[?25h[?25l[16;12H{[18;5H}[30;77H8,27[17;27H[34h[?25h[?25l[30;77H7,14[16;14H[34h[?25h[?25l[30;77H6,27[15;27H[34h[?25h[?25l[30;77H5,18[14;18H[34h[?25h[?25l[30;77H4,27[13;27H[34h[?25h[?25l[30;77H3,1 [12;1H[34h[?25h[?25l[13;29r[13;1H[L[1;30r[30;75H[K[30;75H324,1[9C49%[13;1H[34h[?25h[?25l[30;79H5[13;5H[34h[?25h[?25l /[30;79H6[13;6H[34h[?25h[?25l[1m[36m//[0m[30;79H7[13;7H[34h[?25h[?25l[1m[36m [0m[30;79H8[13;8H[34h[?25h[?25l[1m[36m G[0m[30;79H9[13;9H[34h[?25h[?25l[1m[36mGe[0m[30;79H10[13;10H[34h[?25h[?25l[1m[36met[0m[30;80H1[13;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[13;12H[34h[?25h[?25l[1m[36m t[0m[30;80H3[13;13H[34h[?25h[?25l[1m[36mth[0m[30;80H4[13;14H[34h[?25h[?25l[1m[36mhe[0m[30;80H5[13;15H[34h[?25h[?25l[1m[36m [0m[30;80H6[13;16H[34h[?25h[?25l[1m[36m j[0m[30;80H7[13;17H[34h[?25h[?25l[1m[36mjo[0m[30;80H8[13;18H[34h[?25h[?25l[1m[36mob[0m[30;80H9[13;19H[34h[?25h[?25l[1m[36m [0m[30;79H20[13;20H[34h[?25h[?25l[1m[36m f[0m[30;80H1[13;21H[34h[?25h[?25l[1m[36mfr[0m[30;80H2[13;22H[34h[?25h[?25l[1m[36mro[0m[30;80H3[13;23H[34h[?25h[?25l[1m[36mom[0m[30;80H4[13;24H[34h[?25h[?25l[1m[36m [0m[30;80H5[13;25H[34h[?25h[?25l[1m[36m t[0m[30;80H6[13;26H[34h[?25h[?25l[1m[36mth[0m[30;80H7[13;27H[34h[?25h[?25l[1m[36mhe[0m[30;80H8[13;28H[34h[?25h[?25l[1m[36m [0m[30;80H9[13;29H[34h[?25h[?25l[1m[36m j[0m[30;79H30[13;30H[34h[?25h[?25l[1m[36mjo[0m[30;80H1[13;31H[34h[?25h[?25l[1m[36mob[0m[30;80H2[13;32H[34h[?25h[?25l[1m[36m [0m[30;80H3[13;33H[34h[?25h[?25l[1m[36m i[0m[30;80H4[13;34H[34h[?25h[?25l[1m[36mid[0m[30;80H5[13;35H[34h[?25h[?25l[1m[36m [0m[30;80H6[13;36H[34h[?25h[?25l[1m[36m o[0m[30;80H7[13;37H[34h[?25h[?25l[1m[36mor[0m[30;80H8[13;38H[34h[?25h[?25l[1m[36m [0m[30;80H9[13;39H[34h[?25h[?25l[1m[36m p[0m[30;79H40[13;40H[34h[?25h[?25l[1m[36mpr[0m[30;80H1[13;41H[34h[?25h[?25l[1m[36mro[0m[30;80H2[13;42H[34h[?25h[?25l[1m[36moc[0m[30;80H3[13;43H[34h[?25h[?25l[1m[36mce[0m[30;80H4[13;44H[34h[?25h[?25l[1m[36mes[0m[30;80H5[13;45H[34h[?25h[?25l[1m[36mss[0m[30;80H6[13;46H[34h[?25h[?25l[1m[36m [0m[30;80H7[13;47H[34h[?25h[?25l[1m[36m i[0m[30;80H8[13;48H[34h[?25h[?25l[1m[36mid[0m[30;80H9[13;49H[34h[?25h[?25l[30;77H5,30[14;30H[34h[?25h[?25l[30;77H6,18[15;18H[34h[?25h[?25l[30;77H7,36[16;36H[34h[?25h[?25l[30;77H8,14[17;14H[34h[?25h[?25l[30;77H9,36[18;36H[34h[?25h[?25l[17;12H[46m{[19;5H}[0m[30;76H30,6 [19;6H[34h[?25h[?25l[17;12H{[19;5H}[30;77H1,1[20;1H[34h[?25h[?25l[30;77H2,27[21;27H[34h[?25h[?25l[22;22H[46m{[29;5H}[0m[30;77H3,23[22;23H[34h[?25h[?25l{[23;20H[46m{[25;9H}[0m[29;5H}[30;77H4,21[23;21H[34h[?25h[?25l{[24;19H[46m([28C)[0m[25;9H}[30;77H5,49[24;49H[34h[?25h[?25l[24;19H([28C)[25;16H[46m{[27;9H}[0m[30;77H6,17[25;17H[34h[?25h[?25l{[26;49H[46m[[1C][0m[27;9H}[30;77H7,49[26;49H[34h[?25h[?25l[25;16H[46m{[0m[26;49H[[1C][27;9H[46m}[0m[30;77H8,10[27;10H[34h[?25h[?25l[25;16H{[27;9H}[30;77H9,16[28;16H[34h[?25h[?25l[30;76H40,10[29;10H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H341,1[9C49%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H342,12[8C49%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H343,2[9C49%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H344,1[9C50%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H345,4[9C50%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H346,49[8C50%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H347,4[9C50%[29;4H[34h[?25h[?25l[30;77H6,49[28;49H[34h[?25h[?25l[30;77H5,4 [27;4H[34h[?25h[?25l[30;77H4,1[26;1H[34h[?25h[?25l[30;77H3,2[25;2H[34h[?25h[?25l[30;77H2,12[24;12H[34h[?25h[?25l[30;77H1,1 [23;1H[34h[?25h[?25l[30;77H0,10[22;10H[34h[?25h[?25l[30;79H9 [22;9H[34h[?25h[?25l[30;79H8[22;8H[34h[?25h[?25l[30;79H7[22;7H[34h[?25h[?25l[15;22H[46m{[22;5H}[0m[30;79H6[22;6H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H341,5[9C50%[15;22H{[22;5H}
    [34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H342,5[9C50%[24;5H[34h[?25h[?25l /[30;79H6[24;6H[34h[?25h[?25l[1m[36m//[0m[30;79H7[24;7H[34h[?25h[?25l[1m[36m [0m[30;79H8[24;8H[34h[?25h[?25l[1m[36m T[0m[30;79H9[24;9H[34h[?25h[?25l[1m[36mTO[0m[30;79H10[24;10H[34h[?25h[?25l[1m[36mOD[0m[30;80H1[24;11H[34h[?25h[?25l[30m[43mTODO[0m[30;80H2[24;12H[34h[?25h[?25l[1m[36m [0m[30;80H3[24;13H[34h[?25h[?25l[1m[36m f[0m[30;80H4[24;14H[34h[?25h[?25l[1m[36mfg[0m[30;80H5[24;15H[34h[?25h[?25l[1m[36m [0m[30;80H6[24;16H[34h[?25h[?25l[24;15H[K[30;80H5[24;15H[34h[?25h[?25l[24;14H[K[30;80H4[24;14H[34h[?25h[?25l[24;13H[K[30;80H3[24;13H[34h[?25h[?25l[1m[36m b[0m[30;80H4[24;14H[34h[?25h[?25l[1m[36mbg[0m[30;80H5[24;15H[34h[?25h[?25l[1m[36m [0m[30;80H6[24;16H[34h[?25h[?25l[1m[36m o[0m[30;80H7[24;17H[34h[?25h[?25l[1m[36mor[0m[30;80H8[24;18H[34h[?25h[?25l[1m[36m [0m[30;80H9[24;19H[34h[?25h[?25l[1m[36m f[0m[30;79H20[24;20H[34h[?25h[?25l[1m[36mfg[0m[30;80H1[24;21H[34h[?25h[?25l[30;76H39,16[21;16H[34h[?25h[?25l[18;16H[46m{[20;9H}[0m[30;77H6,17[18;17H[34h[?25h[?25l[15;8H[46m([11C)[0m[18;16H{[20;9H}[30;77H3,21[15;21H[34h[?25h[?25l[10;12H[46m{[12;5H}[0m[15;8H([11C)[30;77H0,6 [12;6H[34h[?25h[?25l[10;12H{[12;5H}[30;76H27,21[9;21H[34h[?25h[?25l[30;77H4[6;21H[34h[?25h[?25l[30;77H1,16[3;16H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H318,17[8C50%[1;16H[46m{[3;9H}[1;17H[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[1;4H [1m[33mif[0m (success != [1m[35m1[0m) {[2;8H [1m[33mif[0m (isjob) {[3;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H315,21[8C49%[1;8H[46m([12C)[0m[4;16H{[6;9H}[1;21H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mint[0m success = sscanf(number, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[3;4H [1m[36m// Check if argument is a valid number[0m[30;75H[K[30;75H312,21[8C49%[4;8H([12C)[1;21H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[36m// Check for a valid unsigned int with no trailing characters[0m
    [1m[32mint[0m id = [1m[35m0[0m;
    [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H309,21[8C48%[1;21H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H number = &argv[[1m[35m1[0m][[1m[35m1[0m]; [1m[36m// Remove leading '%'[0m
    }[30;75H[K[30;75H306,21[8C48%[1;21H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mchar[0m *number = argv[[1m[35m1[0m];
    [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[3;8H isjob = [1m[35m1[0m;[30;75H[K[30;75H303,21[8C47%[1;21H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[2;4H [1m[36m// Check if using job syntax[0m
    [1m[32mint[0m isjob = [1m[35m0[0m;[30;75H[K[30;75H300,5[9C47%[1;5H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m command requires PID or [0m[1m[31m%%[0m[1m[35mjobid argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[2;8H [1m[33mreturn[0m;
    }[30;75H[K[30;75H297,21[8C46%[1;21H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[2;4H [1m[36m// Bad arguments: No args or too many[0m
    [1m[33mif[0m (argv[[1m[35m1[0m] == [1m[35m0[0m || argv[[1m[35m2[0m] != [1m[35m0[0m) {[30;75H[K[30;75H294,5[9C46%[1;5H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H printf([1m[35m"Bad do_bgfg call."[0m);[2;8H [1m[33mreturn[0m;
    }[30;75H[K[30;75H291,21[8C45%[1;21H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[2;4H [1m[36m//Assert, command is either bg or fg.[0m
    [1m[33mif[0m (bg == -[1m[35m1[0m) {[30;75H[K[30;75H288,5[9C45%[1;5H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mint[0m bg = -[1m[35m1[0m;
    [1m[32mchar[0m c = *(argv[[1m[35m0[0m]);
    bg = (c == [1m[35m'f'[0m) ? [1m[35m0[0m : ((c == [1m[35m'b'[0m) ? [1m[35m1[0m : -[1m[35m1[0m); [1m[36m// FG -> 0, BG -> 1, else -1[0m[30;75H[K[30;75H285,17[8C44%[1;17H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m * do_bgfg - Execute the builtin bg and fg commands
 */[0m
[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H282,21[8C44%[1;21H[34h[?25h[?25l[30;77H5,17[4;17H[34h[?25h[?25l[30;77H8,5 [7;5H[34h[?25h[?25l[30;76H91,21[10;21H[34h[?25h[?25l[30;77H4,5 [13;5H[34h[?25h[?25l[30;77H7,21[16;21H[34h[?25h[?25l[30;75H300,5 [19;5H[34h[?25h[?25l[30;77H3,21[22;21H[34h[?25h[?25l[30;77H6[25;21H[34h[?25h[?25l[30;77H8,1 [27;1H[34h[?25h[?25l[30;77H9,21[28;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H311,20[8C44%[29;20H[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m success = sscanf(number, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H312,21[8C44%[29;21H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[28;4H [1m[36m// Check if argument is a valid number[0m
    [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H315,21[8C45%[29;8H[46m([12C)[34h[?25h[?25l[1;29r[0m[1;1H[3M[1;30r[27;8H [1m[33mif[0m (isjob) {[28;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[29;8H } [1m[33melse[0m {[30;75H[K[30;75H318,17[8C45%[26;8H([12C)[29;17H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[28;8H }[29;8H [1m[33mreturn[0m;[30;75H[K[30;75H321,16[8C46%[29;16H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H }[29;4H [1m[36m// Get the job from the job id or process id[0m[30;75H[K[30;75H324,21[8C46%[29;21H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H [1m[32mstruct[0m job_t *job = [1m[35mNULL[0m;
    [1m[33mif[0m (isjob) {[29;8H job = [30m[43mgetjobjid[0m(jobs, id);[30;75H[K[30;75H327,21[8C47%[29;21H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H } [1m[33melse[0m {[28;8H job = getjobpid(jobs, id);
    }[30;75H[K[30;75H330,6[9C47%[27;12H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[1;1H[3M[1;30r[28;4H [1m[36m// Check if job exists[0m
    [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H333,21[8C48%[24;12H{[26;5H}[29;8H[46m([11C)[34h[?25h[?25l[1;29r[0m[1;1H[3M[1;30r[27;8H [1m[33mif[0m (isjob) {[28;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[29;8H } [1m[33melse[0m {[30;75H[K[30;75H336,17[8C48%[26;8H([11C)[29;17H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[28;8H }[29;8H [1m[33mreturn[0m;[30;75H[K[30;75H339,16[8C49%[29;16H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H }[29;4H [1m[36m// [0m[30m[43mTODO[0m[1m[36m bg or fg[0m[30;75H[K[30;75H342,21[8C49%[29;21H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[28;4H [1m[33mreturn[0m;
}[30;75H[K[30;75H345,2[9C50%[29;2H[34h[?25h[?25l[1;29r[1;1H[2M[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H347,4[9C50%[29;4H[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H348,21[8C50%[29;21H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m */[0m
[1m[32mvoid[0m waitfg(pid_t pid) {
    [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H351,21[8C50%[29;21H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H [1m[33mwhile[0m (job->state == FG) {[28;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m
    }[30;75H[K[30;75H354,6[9C51%[27;30H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[1;1H[3M[1;30r[27;4H [1m[33mreturn[0m;
}[30;75H[K[30;75H357,1[9C51%[24;30H{[26;5H}


[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m/*****************
 * Signal handlers
 *****************/[0m[30;75H[K[30;75H360,20[8C52%[29;20H[34h[?25h[?25l[30;76H57,1 [26;1H[34h[?25h[?25l[21;30H[46m{[23;5H}[0m[30;77H4,6[23;6H[34h[?25h[?25l[21;30H{[23;5H}[30;77H1,21[20;21H[34h[?25h[?25l[30;76H48[17;21H[34h[?25h[?25l[30;77H5,2 [14;2H[34h[?25h[?25l[30;77H2,21[11;21H[34h[?25h[?25l[30;76H39,16[8;16H[34h[?25h[?25l[30;76H42,21[11;21H[34h[?25h[?25l[30;77H5,2 [14;2H[34h[?25h[?25l[30;77H2,21[11;21H[34h[?25h[?25l[11;20H[K[30;80H0[11;20H[34h[?25h[?25l[11;19H[K[30;79H19[11;19H[34h[?25h[?25l[11;18H[K[30;80H8[11;18H[34h[?25h[?25l[11;17H[K[30;80H7[11;17H[34h[?25h[?25l[11;16H[K[30;80H6[11;16H[34h[?25h[?25l[11;15H[K[30;80H5[11;15H[34h[?25h[?25l[11;14H[K[30;80H4[11;14H[34h[?25h[?25l[11;13H[K[30;80H3[11;13H[34h[?25h[?25l[11;12H[K[30;80H2[11;12H[34h[?25h[?25l[1m[36mTOD[0m[11;11H[K[30;80H1[11;11H[34h[?25h[?25l[11;10H[K[30;80H0[11;10H[34h[?25h[?25l[11;9H[K[30;79H9 [11;9H[34h[?25h[?25l[11;8H[K[30;79H8[11;8H[34h[?25h[?25l[11;7H[K[30;79H7[11;7H[34h[?25h[?25l/[11;6H[K[30;79H6[11;6H[34h[?25h[?25l[11;5H[K[30;79H5[11;5H[34h[?25h[?25l i[30;79H6[11;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[11;7H[34h[?25h[?25l[30;79H8[11;8H[34h[?25h[?25l (


[1m[37m[41m}[19;24H{[21;30H{[23;5H}

}[0m[30;79H9[11;9H[34h[?25h[?25l(j[30;79H10[11;10H[34h[?25h[?25ljo[30;80H1[11;11H[34h[?25h[?25lob[30;80H2[11;12H[34h[?25h[?25lb-[30;80H3[11;13H[34h[?25h[?25l->[30;80H4[11;14H[34h[?25h[?25l>s[30;80H5[11;15H[34h[?25h[?25lst[30;80H6[11;16H[34h[?25h[?25lta[30;80H7[11;17H[34h[?25h[?25lat[30;80H8[11;18H[34h[?25h[?25lte[30;80H9[11;19H[34h[?25h[?25l[30;79H20[11;20H[34h[?25h[?25l =[30;80H1[11;21H[34h[?25h[?25l==[30;80H2[11;22H[34h[?25h[?25l[30;80H3[11;23H[34h[?25h[?25l F[30;80H4[11;24H[34h[?25h[?25lFG[30;80H5[11;25H[34h[?25h[?25lG)


}[19;24H{[21;30H{[23;5H}

}[11;8H[46m([16C)[0m[30;80H6[11;26H[34h[?25h[?25l[11;8H([16C)[30;80H7[11;27H[34h[?25h[?25l {[46m{


}[0m[30;80H8[11;28H[34h[?25h[?25l[12;29r[12;1H[L[1;30r[30;75H[K[30;75H343,9[9C52%[11;27H{[15;1H}[12;9H[34h[?25h[?25l    }[11;27H[46m{
[0m    [46m}[0m[30;79H6[12;6H[34h[?25h[?25l[11;27H{
    }[30;77H2[11;6H[34h[?25h[?25l[21C[46m{
[0m    [46m}[0m[30;79H28[11;28H[34h[?25h[?25l[12;29r[12;1H[L[1;30r[12;5H[46m [0m
    }[30;75H[K[30;75H343,9[9C52%[11;27H{
        [34h[?25h[?25l p[30;79H10[12;10H[34h[?25h[?25lpr[30;80H1[12;11H[34h[?25h[?25lri[30;80H2[12;12H[34h[?25h[?25lin[30;80H3[12;13H[34h[?25h[?25lnt[30;80H4[12;14H[34h[?25h[?25ltg[30;80H5[12;15H[34h[?25h[?25l[12;14H[K[30;80H4[12;14H[34h[?25h[?25ltf[30;80H5[12;15H[34h[?25h[?25l[30;77H2[11;15H[34h[?25h[?25l[30;77H1,1 [10;1H[34h[?25h[?25l[11;29r[11;1H[L[1;30r[30;75H[K[30;75H342,1[9C52%[11;1H[34h[?25h[?25l[30;79H5[11;5H[34h[?25h[?25l /[30;79H6[11;6H[34h[?25h[?25l[1m[36m//[0m[30;79H7[11;7H[34h[?25h[?25l[1m[36m [0m[30;79H8[11;8H[34h[?25h[?25l[1m[36m C[0m[30;79H9[11;9H[34h[?25h[?25l[1m[36mCh[0m[30;79H10[11;10H[34h[?25h[?25l[1m[36mhe[0m[30;80H1[11;11H[34h[?25h[?25l[1m[36mec[0m[30;80H2[11;12H[34h[?25h[?25l[1m[36mck[0m[30;80H3[11;13H[34h[?25h[?25l[1m[36m [0m[30;80H4[11;14H[34h[?25h[?25l[1m[36m f[0m[30;80H5[11;15H[34h[?25h[?25l[1m[36mfo[0m[30;80H6[11;16H[34h[?25h[?25l[1m[36mor[0m[30;80H7[11;17H[34h[?25h[?25l[1m[36m [0m[30;80H8[11;18H[34h[?25h[?25l[1m[36m s[0m[30;80H9[11;19H[34h[?25h[?25l[1m[36mst[0m[30;79H20[11;20H[34h[?25h[?25l[1m[36mtr[0m[30;80H1[11;21H[34h[?25h[?25l[1m[36mra[0m[30;80H2[11;22H[34h[?25h[?25l[1m[36man[0m[30;80H3[11;23H[34h[?25h[?25l[1m[36mng[0m[30;80H4[11;24H[34h[?25h[?25l[1m[36mge[0m[30;80H5[11;25H[34h[?25h[?25l[1m[36m [0m[30;80H6[11;26H[34h[?25h[?25l[1m[36m c[0m[30;80H7[11;27H[34h[?25h[?25l[1m[36mco[0m[30;80H8[11;28H[34h[?25h[?25l[1m[36mon[0m[30;80H9[11;29H[34h[?25h[?25l[1m[36mnd[0m[30;79H30[11;30H[34h[?25h[?25l[1m[36mdi[0m[30;80H1[11;31H[34h[?25h[?25l[1m[36mit[0m[30;80H2[11;32H[34h[?25h[?25l[1m[36mti[0m[30;80H3[11;33H[34h[?25h[?25l[1m[36mio[0m[30;80H4[11;34H[34h[?25h[?25l[1m[36mon[0m[30;80H5[11;35H[34h[?25h[?25l[12;27H[46m{[14;5H}[0m[30;77H3,28[12;28H[34h[?25h[?25l{[14;5H}[30;77H4,15[13;15H[34h[?25h[?25lf(
    [1m[37m[41m}


}[22;24H{[24;30H{[26;5H}

}[0m[30;80H6[13;16H[34h[?25h[?25l(%[30;80H7[13;17H[34h[?25h[?25l%s[30;80H8[13;18H[34h[?25h[?25l[30;80H7[13;17H[34h[?25h[?25l[30;80H6[13;16H[34h[?25h[?25l([1m[35m"[0m[1m[31m%s[0m
[1m[35m    }

    return;
}

/* 
 * waitfg - Block until process pid is no longer the foreground process
 */
void waitfg(pid_t pid) {
    struct job_t *job = getjobpid(jobs, pid);
    while (job->state == FG) {
        sleep(1); // Note signals stop this immediately. No performance problem
    }
    return;
}[0m[30;80H7[13;17H[34h[?25h[?25l[30;80H9[13;19H[34h[?25h[?25l[1m[31ms[0m[1m[35m"[0m
    [1m[37m[41m}[0m

    [1m[33mreturn[0m;
[1m[37m[41m}[0m

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m
[1m[32mvoid[0m waitfg(pid_t pid) [1m[37m[41m{[0m
    [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);
    [1m[33mwhile[0m (job->state == FG) [1m[37m[41m{[0m
        sleep([1C); [1m[36m// Note signals stop this immediately. No performance problem[0m
    [1m[37m[41m}[0m
    [1m[33mreturn[0m;
[1m[37m[41m}[0m[30;79H20[13;20H[34h[?25h[?25l[30;79H19[13;19H[34h[?25h[?25l[1m[31ms[0m[1m[35m "[0m[30;79H20[13;20H[34h[?25h[?25l[1m[35m c"[0m[30;80H1[13;21H[34h[?25h[?25l[1m[35mca"[0m[30;80H2[13;22H[34h[?25h[?25l[1m[35man"[0m[30;80H3[13;23H[34h[?25h[?25l[1m[35mnn"[0m[30;80H4[13;24H[34h[?25h[?25l[1m[35mno"[0m[30;80H5[13;25H[34h[?25h[?25l[1m[35mot"[0m[30;80H6[13;26H[34h[?25h[?25l[1m[35mt "[0m[30;80H7[13;27H[34h[?25h[?25l[1m[35mt"[0m[13;27H[K[30;80H6[13;26H[34h[?25h[?25l[1m[35mo"[0m[13;26H[K[30;80H5[13;25H[34h[?25h[?25l[1m[35mn"[0m[13;25H[K[30;80H4[13;24H[34h[?25h[?25l[1m[35mn"[0m[13;24H[K[30;80H3[13;23H[34h[?25h[?25l[1m[35ma"[0m[13;23H[K[30;80H2[13;22H[34h[?25h[?25l[1m[35mc"[0m[13;22H[K[30;80H1[13;21H[34h[?25h[?25l[1m[35mca"[0m[30;80H2[13;22H[34h[?25h[?25l[1m[35man"[0m[30;80H3[13;23H[34h[?25h[?25l[1m[35mnn"[0m[30;80H4[13;24H[34h[?25h[?25l[1m[35mno"[0m[30;80H5[13;25H[34h[?25h[?25l[1m[35mot"[0m[30;80H6[13;26H[34h[?25h[?25l[1m[35mt "[0m[30;80H7[13;27H[34h[?25h[?25l[1m[35m b"[0m[30;80H8[13;28H[34h[?25h[?25l[1m[35mbe"[0m[30;80H9[13;29H[34h[?25h[?25l[1m[35me "[0m[30;79H30[13;30H[34h[?25h[?25l[1m[35m u"[0m[30;80H1[13;31H[34h[?25h[?25l[1m[35mus"[0m[30;80H2[13;32H[34h[?25h[?25l[1m[35mse"[0m[30;80H3[13;33H[34h[?25h[?25l[1m[35med"[0m[30;80H4[13;34H[34h[?25h[?25l[1m[35md "[0m[30;80H5[13;35H[34h[?25h[?25l[1m[35m o"[0m[30;80H6[13;36H[34h[?25h[?25l[1m[35mon"[0m[30;80H7[13;37H[34h[?25h[?25l[1m[35mn "[0m[30;80H8[13;38H[34h[?25h[?25l[1m[35m a"[0m[30;80H9[13;39H[34h[?25h[?25l[1m[35ma "[0m[30;79H40[13;40H[34h[?25h[?25l[1m[35m f"[0m[30;80H1[13;41H[34h[?25h[?25l[1m[35mfo"[0m[30;80H2[13;42H[34h[?25h[?25l[1m[35mor"[0m[30;80H3[13;43H[34h[?25h[?25l[1m[35mrg"[0m[30;80H4[13;44H[34h[?25h[?25l[1m[35mr"[0m[13;44H[K[30;80H3[13;43H[34h[?25h[?25l[1m[35mre"[0m[30;80H4[13;44H[34h[?25h[?25l[1m[35meg"[0m[30;80H5[13;45H[34h[?25h[?25l[1m[35mgr"[0m[30;80H6[13;46H[34h[?25h[?25l[1m[35mro"[0m[30;80H7[13;47H[34h[?25h[?25l[1m[35mou"[0m[30;80H8[13;48H[34h[?25h[?25l[1m[35mun"[0m[30;80H9[13;49H[34h[?25h[?25l[1m[35mnd"[0m[30;79H50[13;50H[34h[?25h[?25l[1m[35md "[0m[30;80H1[13;51H[34h[?25h[?25l[1m[35m p"[0m[30;80H2[13;52H[34h[?25h[?25l[1m[35mpr"[0m[30;80H3[13;53H[34h[?25h[?25l[1m[35mro"[0m[30;80H4[13;54H[34h[?25h[?25l[1m[35moc"[0m[30;80H5[13;55H[34h[?25h[?25l[1m[35mce"[0m[30;80H6[13;56H[34h[?25h[?25l[1m[35mes"[0m[30;80H7[13;57H[34h[?25h[?25l[1m[35mss"[0m[30;80H8[13;58H[34h[?25h[?25l[1m[35ms!"[0m[30;80H9[13;59H[34h[?25h[?25l[1m[35m![0m[1m[31m\"[0m
[1m[35m    }

    return;
}

/* 
 * waitfg - Block until process pid is no longer the foreground process
 */
void waitfg(pid_t pid) {
    struct job_t *job = getjobpid(jobs, pid);
    while (job->state == FG) {
        sleep(1); // Note signals stop this immediately. No performance problem
    }
    return;
}[0m[30;79H60[13;60H[34h[?25h[?25l[1m[31m\n[0m[1m[35m"[0m
    [1m[37m[41m}[0m

    [1m[33mreturn[0m;
[1m[37m[41m}[0m

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m
[1m[32mvoid[0m waitfg(pid_t pid) [1m[37m[41m{[0m
    [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);
    [1m[33mwhile[0m (job->state == FG) [1m[37m[41m{[0m
        sleep([1C); [1m[36m// Note signals stop this immediately. No performance problem[0m
    [1m[37m[41m}[0m
    [1m[33mreturn[0m;
[1m[37m[41m}[0m[30;80H1[13;61H[34h[?25h[?25l[30;80H2[13;62H[34h[?25h[?25l[1m[35m"[0m,[30;80H3[13;63H[34h[?25h[?25l[30;80H4[13;64H[34h[?25h[?25l a[30;80H5[13;65H[34h[?25h[?25lar[30;80H6[13;66H[34h[?25h[?25lrg[30;80H7[13;67H[34h[?25h[?25lgv[30;80H8[13;68H[34h[?25h[?25lv[[16;11H[1m[37m[41m;[23;45H;[25;17H;[27;11H;[0m[30;80H9[13;69H[34h[?25h[?25l[[1m[35m1[0m[30;79H70[13;70H[34h[?25h[?25l[1m[35m1[0m][16;11H;[23;45H;[25;17H;[27;11H;[13;68H[46m[[1C][0m[30;80H1[13;71H[34h[?25h[?25l[46m][0m;[[1C][30;80H2[13;72H[34h[?25h[?25l;)
    }


}[22;24H{[24;30H{[26;5H}

}[13;15H[46m([56C)[0m[30;80H3[13;73H[34h[?25h[?25l[46m)[0m;[13;15H([56C)[30;80H4[13;74H[34h[?25h[?25l[13;73H[K[13;15H[46m([56C)[0m[30;80H3[13;73H[34h[?25h[?25l[30;80H2[13;72H[34h[?25h[?25l])[46m )[0m[13;72H[K[30;80H1[13;71H[34h[?25h[?25l[30;80H2[13;72H[34h[?25h[?25l[46m)[0m;[13;15H([55C)[30;80H3[13;73H[34h[?25h[?25l[13;15H[46m([55C)[0m[30;80H2[13;72H[34h[?25h[?25l[30;80H1[13;71H[34h[?25h[?25l[13;15H([52C[46m[[1C][0m)[30;80H0[13;70H[34h[?25h[?25l[13;15H[46m([0m[52C[[1C][46m)[0m[30;80H1[13;71H[34h[?25h[?25l[13;15H([52C[46m[[1C][0m)[30;80H0[13;70H[34h[?25h[?25l[46m[[0m][46m)[0m;[13;72H[K[13;69H[46m][0m)[30;79H69[13;69H[34h[?25h[?25l[46m[[0m[1m[35m[46m0[0m]);[1m[35m0[0m[46m][0m[30;79H70[13;70H[34h[?25h[?25l[13;15H[46m([0m[52C[[1C][46m)[0m[30;80H1[13;71H[34h[?25h[?25l[30;80H2[13;72H[34h[?25h[?25l[13;15H([55C)[30;80H3[13;73H[34h[?25h[?25l[12;27H[46m{[14;5H}[0m[30;77H3,28[12;28H[34h[?25h[?25l{[14;5H}[30;77H2,35[11;35H[34h[?25h[?25l[30;77H1,1 [10;1H[34h[?25h[?25l[2;22H[46m{[9;5H}[0m[30;77H0,6[9;6H[34h[?25h[?25l[2;22H{[9;5H}[30;76H39,16[8;16H[34h[?25h[?25l[5;16H[46m{[7;9H}[0m[30;77H8,10[7;10H[34h[?25h[?25l[5;16H{[7;9H}[30;77H7,54[6;54H[34h[?25h[?25l[5;16H[46m{[7;9H}[0m[30;77H6,17[5;17H[34h[?25h[?25l{[7;9H}[30;77H5,50[4;50H[34h[?25h[?25l[3;20H[46m{[5;9H}[0m[30;77H4,21[3;21H[34h[?25h[?25l[2;22H[46m{[0m[3;20H{[5;9H}[9;5H[46m}[0m[30;77H3,23[2;23H[34h[?25h[?25l{[9;5H}[30;77H2,27[1;27H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H331,1[9C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H330,6[9C51%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, id);[30;75H[K[30;75H329,36[8C51%[1;36H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H } [1m[33melse[0m {[30;75H[K[30;75H328,14[8C51%[1;14H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = [30m[43mgetjobjid[0m(jobs, id);[30;75H[K[30;75H327,36[8C51%[1;36H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (isjob) {[30;75H[K[30;75H326,18[8C51%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job = [1m[35mNULL[0m;[30;75H[K[30;75H325,30[8C51%[1;30H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Get the job from the job id or process id[0m[30;75H[K[30;75H324,49[8C50%[1;49H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H323,1[9C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H322,6[9C50%[1;6H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H321,16[8C50%[1;16H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H320,10[8C50%[1;10H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H319,73[8C50%[1;73H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H318,17[8C49%[1;16H[46m{[3;9H}[1;17H[34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H317,73[8C49%[2;16H{[4;9H}[1;73H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (isjob) {[30;75H[K[30;75H316,21[8C49%[1;20H[46m{[3;9H}[1;21H[34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[1;4H [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H315,24[8C49%[1;23H[46m{[0m[2;20H{[4;9H}[8;5H[46m}[1;24H[34h[?25h[?25l[1;29r[0m[1;1H[L[1;30r[1;4H [1m[36m// Check if argument is a valid number[0m[30;75H[K[30;75H314,43[8C49%[2;23H{[9;5H}[1;43H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H313,1[9C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m success = sscanf(number, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H312,73[8C48%[1;73H[34h[?25h[?25l[30;77H3,1 [2;1H[34h[?25h[?25l[30;77H4,43[3;43H[34h[?25h[?25l[4;23H[46m{[11;5H}[0m[30;77H5,24[4;24H[34h[?25h[?25l{[5;20H[46m{[7;9H}[0m[11;5H}[30;77H6,21[5;21H[34h[?25h[?25l{[7;9H}[30;77H7,73[6;73H[34h[?25h[?25l[7;16H[46m{[9;9H}[0m[30;77H8,17[7;17H[34h[?25h[?25l{[9;9H}[30;77H9,73[8;73H[34h[?25h[?25l[7;16H[46m{[9;9H}[0m[30;76H20,10[9;10H[34h[?25h[?25l[7;16H{[9;9H}[30;77H1,16[10;16H[34h[?25h[?25l[4;23H[46m{[11;5H}[0m[30;77H2,6 [11;6H[34h[?25h[?25l[4;23H{[11;5H}[30;77H3,1[12;1H[34h[?25h[?25l[30;77H4,49[13;49H[34h[?25h[?25l[30;77H5,30[14;30H[34h[?25h[?25l[30;77H6,18[15;18H[34h[?25h[?25l[30;77H7,36[16;36H[34h[?25h[?25l[30;77H8,14[17;14H[34h[?25h[?25l[30;77H9,36[18;36H[34h[?25h[?25l[17;12H[46m{[19;5H}[0m[30;76H30,6 [19;6H[34h[?25h[?25l[17;12H{[19;5H}[30;77H1,1[20;1H[34h[?25h[?25l[30;77H2,27[21;27H[34h[?25h[?25l[22;22H[46m{[29;5H}[0m[30;77H3,23[22;23H[34h[?25h[?25l{[23;20H[46m{[25;9H}[0m[29;5H}[30;77H4,21[23;21H[34h[?25h[?25l{[25;9H}[30;77H5,50[24;50H[34h[?25h[?25l[25;16H[46m{[27;9H}[0m[30;77H6,17[25;17H[34h[?25h[?25l{[27;9H}[30;77H7,54[26;54H[34h[?25h[?25l[25;16H[46m{[27;9H}[0m[30;77H8,10[27;10H[34h[?25h[?25l[25;16H{[27;9H}[30;77H9,16[28;16H[34h[?25h[?25l[22;22H[46m{[29;5H}[0m[30;76H40,6 [29;6H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H341,1[9C49%[21;22H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Check for strange condition[0m[30;75H[K[30;75H342,35[8C49%[29;35H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (job->state == FG) {[30;75H[K[30;75H343,28[8C49%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m cannot be used on a foreground process![0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H344,73[8C49%[29;73H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H345,6[9C49%[27;27H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H346,1[9C49%[26;27H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H347,12[8C50%[29;12H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H348,2[9C50%[29;2H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H349,1[9C50%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H350,4[9C50%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H351,72[8C50%[29;72H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H352,4[9C50%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H353,25[8C51%[29;25H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H354,46[8C51%[29;46H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H355,31[8C51%[29;31H[34h[?25h[?25l[30;77H4,46[28;46H[34h[?25h[?25l[30;77H3,25[27;25H[34h[?25h[?25l[30;77H2,4 [26;4H[34h[?25h[?25l[30;77H1,72[25;72H[34h[?25h[?25l[30;77H0,4 [24;4H[34h[?25h[?25l[30;76H49,1[23;1H[34h[?25h[?25l[30;77H8,2[22;2H[34h[?25h[?25l[30;77H7,12[21;12H[34h[?25h[?25l[30;77H6,1 [20;1H[34h[?25h[?25l[17;27H[46m{[19;5H}[0m[30;77H5,6[19;6H[34h[?25h[?25l[17;27H{[19;5H}[30;77H4,73[18;73H[34h[?25h[?25l[17;27H[46m{[19;5H}[0m[30;77H5,6 [19;6H[34h[?25h[?25l[17;27H{[19;5H}[30;77H4,73[18;73H[34h[?25h[?25l[19;29r[19;1H[L[1;30r[30;75H[K[30;75H345,9[9C51%[19;9H[34h[?25h[?25l r[30;79H10[19;10H[34h[?25h[?25lre[30;80H1[19;11H[34h[?25h[?25let[30;80H2[19;12H[34h[?25h[?25ltu[30;80H3[19;13H[34h[?25h[?25lur[30;80H4[19;14H[34h[?25h[?25l[1m[33mreturn[0m[30;80H5[19;15H[34h[?25h[?25l[1m[33mn[0m;[30;80H6[19;16H[34h[?25h[?25l[17;27H[46m{[20;5H}[0m[30;77H6,6 [20;6H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[30;75H[K[30;75H347,5[9C51%[17;27H{[20;5H}
    [34h[?25h[?25l[22;29r[22;1H[L[1;30r[30;75H[K[30;75H348,5[9C51%[22;5H[34h[?25h[?25l[30;77H9,1[23;1H[34h[?25h[?25l[30;76H50,5[24;5H[34h[?25h[?25l[30;77H1,2[25;2H[34h[?25h[?25l[30;77H2,1[26;1H[34h[?25h[?25l[30;77H3,4[27;4H[34h[?25h[?25l[30;77H4,5[28;5H[34h[?25h[?25l[30;77H5,4[29;4H[34h[?25h[?25l[30;77H4,5[28;5H[34h[?25h[?25l[30;77H3,4[27;4H[34h[?25h[?25l[30;77H2,1[26;1H[34h[?25h[?25l[30;77H1,2[25;2H[34h[?25h[?25l[30;77H0,5[24;5H[34h[?25h[?25l[30;76H49,1[23;1H[34h[?25h[?25l[30;77H8[22;1H[34h[?25h[?25l[30;77H7[21;1H[34h[?25h[?25l[30;77H8[22;1H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l[30;79H9[22;9H[34h[?25h[?25l[30;79H8[22;8H[34h[?25h[?25l[30;79H7[22;7H[34h[?25h[?25l[30;79H6[22;6H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l[22;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H348,5[9C51%[22;5H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[30;75H[K[30;75H349,5[9C51%[23;5H[34h[?25h[?25l[30;77H8[22;5H[34h[?25h[?25l j[30;79H6[22;6H[34h[?25h[?25ljo[30;79H7[22;7H[34h[?25h[?25lob[30;79H8[22;8H[34h[?25h[?25lb-[30;79H9[22;9H[34h[?25h[?25l->[30;79H10[22;10H[34h[?25h[?25l>s[30;80H1[22;11H[34h[?25h[?25lst[30;80H2[22;12H[34h[?25h[?25lta[30;80H3[22;13H[34h[?25h[?25lat[30;80H4[22;14H[34h[?25h[?25lte[30;80H5[22;15H[34h[?25h[?25l[30;80H6[22;16H[34h[?25h[?25l =[30;80H7[22;17H[34h[?25h[?25l[30;80H8[22;18H[34h[?25h[?25l b[30;80H9[22;19H[34h[?25h[?25lbg[30;79H20[22;20H[34h[?25h[?25l[30;80H1[22;21H[34h[?25h[?25l ?[24;11H[1m[37m[41m;
}[0m[30;80H2[22;22H[34h[?25h[?25l[30;80H3[22;23H[34h[?25h[?25l B[30;80H4[22;24H[34h[?25h[?25lBG[30;80H5[22;25H[34h[?25h[?25l[30;80H6[22;26H[34h[?25h[?25l :[24;11H;
}[30;80H7[22;27H[34h[?25h[?25l[30;80H8[22;28H[34h[?25h[?25l F[30;80H9[22;29H[34h[?25h[?25lFG[30;79H30[22;30H[34h[?25h[?25lG;[30;80H1[22;31H[34h[?25h[?25l[30;77H7,1 [21;1H[34h[?25h[?25l[22;29r[22;1H[L[1;30r[30;75H[K[30;75H348,1[9C51%[22;1H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l /[30;79H6[22;6H[34h[?25h[?25l[1m[36m//[0m[30;79H7[22;7H[34h[?25h[?25l[1m[36m [0m[30;79H8[22;8H[34h[?25h[?25l[1m[36m S[0m[30;79H9[22;9H[34h[?25h[?25l[1m[36mSe[0m[30;79H10[22;10H[34h[?25h[?25l[1m[36met[0m[30;80H1[22;11H[34h[?25h[?25l[1m[36m [0m[30;80H2[22;12H[34h[?25h[?25l[1m[36m h[0m[30;80H3[22;13H[34h[?25h[?25l[1m[36mht[0m[30;80H4[22;14H[34h[?25h[?25l[1m[36mte[0m[30;80H5[22;15H[34h[?25h[?25l[22;14H[K[30;80H4[22;14H[34h[?25h[?25l[22;13H[K[30;80H3[22;13H[34h[?25h[?25l[22;12H[K[30;80H2[22;12H[34h[?25h[?25l[1m[36m t[0m[30;80H3[22;13H[34h[?25h[?25l[1m[36mth[0m[30;80H4[22;14H[34h[?25h[?25l[1m[36mhe[0m[30;80H5[22;15H[34h[?25h[?25l[1m[36m [0m[30;80H6[22;16H[34h[?25h[?25l[1m[36m n[0m[30;80H7[22;17H[34h[?25h[?25l[1m[36mne[0m[30;80H8[22;18H[34h[?25h[?25l[1m[36mew[0m[30;80H9[22;19H[34h[?25h[?25l[1m[36m [0m[30;79H20[22;20H[34h[?25h[?25l[1m[36m j[0m[30;80H1[22;21H[34h[?25h[?25l[1m[36mjo[0m[30;80H2[22;22H[34h[?25h[?25l[1m[36mob[0m[30;80H3[22;23H[34h[?25h[?25l[1m[36m [0m[30;80H4[22;24H[34h[?25h[?25l[1m[36m s[0m[30;80H5[22;25H[34h[?25h[?25l[1m[36mst[0m[30;80H6[22;26H[34h[?25h[?25l[1m[36mta[0m[30;80H7[22;27H[34h[?25h[?25l[1m[36mat[0m[30;80H8[22;28H[34h[?25h[?25l[1m[36mte[0m[30;80H9[22;29H[34h[?25h[?25l[30;77H9[23;29H[34h[?25h[?25l[30;79H31[23;31H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H350,5[9C50%[24;5H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[30;75H[K[30;75H351,5[9C50%[25;5H[34h[?25h[?25l[30;77H0,1[24;1H[34h[?25h[?25l[30;76H49,5[23;5H[34h[?25h[?25l[30;77H8[22;5H[34h[?25h[30;1H[K[22;4H[?25l[30;75H348,4[9C50%[22;4H[34h[?25h[?25l[30;1H[1m-- VISUAL --[0m[30;75H[K[30;75H348,4[9C50%[22;4H[34h[?25h[?25l[7m [0m[30;79H5[22;5H[34h[?25h[?25l[1m[7m[36m/[0m[30;79H6[22;6H[34h[?25h[?25l[1m[7m[36m/[0m[30;79H7[22;7H[34h[?25h[?25l[1m[7m[36m [0m[30;79H8[22;8H[34h[?25h[?25l[1m[7m[36mS[0m[30;79H9[22;9H[34h[?25h[?25l[1m[7m[36me[0m[30;79H10[22;10H[34h[?25h[?25l[1m[7m[36mt[0m[30;80H1[22;11H[34h[?25h[?25l[1m[7m[36m [0m[30;80H2[22;12H[34h[?25h[?25l[1m[7m[36mt[0m[30;80H3[22;13H[34h[?25h[?25l[1m[7m[36mh[0m[30;80H4[22;14H[34h[?25h[?25l[1m[7m[36me[0m[30;80H5[22;15H[34h[?25h[?25l[1m[7m[36m [0m[30;80H6[22;16H[34h[?25h[?25l[1m[7m[36mn[0m[30;80H7[22;17H[34h[?25h[?25l[1m[7m[36me[0m[30;80H8[22;18H[34h[?25h[?25l[1m[7m[36mw[0m[30;80H9[22;19H[34h[?25h[?25l[1m[7m[36m [0m[30;79H20[22;20H[34h[?25h[?25l[1m[7m[36mj[0m[30;80H1[22;21H[34h[?25h[?25l[1m[7m[36mo[0m[30;80H2[22;22H[34h[?25h[?25l[1m[7m[36mb[0m[30;80H3[22;23H[34h[?25h[?25l[1m[7m[36m [0m[30;80H4[22;24H[34h[?25h[?25l[1m[7m[36ms[0m[30;80H5[22;25H[34h[?25h[?25l[1m[7m[36mt[0m[30;80H6[22;26H[34h[?25h[?25l[1m[7m[36ma[0m[30;80H7[22;27H[34h[?25h[?25l[1m[7m[36mt[0m[30;80H8[22;28H[34h[?25h[?25l[1m[7m[36me[0m[30;80H9[22;29H[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[34h[?25h[?25l[22;29r[29;1H
[1;30r[22;4H    job->state = bg ? BG : FG;[29;1H[1m[36m/* [0m[30;1H[K[30;75H348,4[9C50%[22;4H[34h[?25h[?25l[30;79H33[22;33H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[22;34H [1m[36m// Set the new job state[0m[30;75H[K[30;75H348,34[8C50%[22;34H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H348,34[8C50%[22;34H[34h[?25h[?25l[30;79H1 [22;1H[34h[?25h[?25l      job->state = bg ? BG : FG; [1m[36m// Set the new job state[0m[22;58H[K[22;1H[34h[?25h[?25l     job->state = bg ? BG : FG; [1m[36m// Set the new job state[0m[22;57H[K[22;1H[34h[?25h[?25l    job->state = bg ? BG : FG; [1m[36m// Set the new job state[0m[22;56H[K[22;1H[34h[?25h[?25l[30;77H9[23;1H[34h[?25h[?25l[23;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H349,1[9C50%[23;1H[34h[?25h[?25l[23;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H349,1[9C51%[23;1H[34h[?25h[?25l[30;79H5[23;5H[34h[?25h[?25l[30;77H8[22;5H[34h[?25h[?25l[30;77H7,1[21;1H[34h[?25h[?25l[22;29r[22;1H[L[1;30r[30;75H[K[30;75H348,1[9C50%[22;1H[34h[?25h[?25l[30;79H5[22;5H[34h[?25h[?25l /[30;79H6[22;6H[34h[?25h[?25l[1m[36m//[0m[30;79H7[22;7H[34h[?25h[?25l[1m[36m [0m[30;79H8[22;8H[34h[?25h[?25l[1m[36m F[0m[30;79H9[22;9H[34h[?25h[?25l[1m[36mFi[0m[30;79H10[22;10H[34h[?25h[?25l[1m[36min[0m[30;80H1[22;11H[34h[?25h[?25l[1m[36mni[0m[30;80H2[22;12H[34h[?25h[?25l[1m[36mis[0m[30;80H3[22;13H[34h[?25h[?25l[1m[36msh[0m[30;80H4[22;14H[34h[?25h[?25l[1m[36m [0m[30;80H5[22;15H[34h[?25h[?25l[1m[36m u[0m[30;80H6[22;16H[34h[?25h[?25l[1m[36mup[0m[30;80H7[22;17H[34h[?25h[?25l[30;77H9[23;17H[34h[?25h[?25l[30;76H50,5 [24;5H[34h[?25h[?25l[30;76H49,17[23;17H[34h[?25h[?25l[30;77H8[22;17H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[23;4H [1m[36m// [0m[30;75H[K[30;75H349,8[9C50%[23;8H[34h[?25h[?25l[23;7H[K[30;79H7[23;7H[34h[?25h[?25l/[23;6H[K[30;79H6[23;6H[34h[?25h[?25l[23;5H[K[30;79H5[23;5H[34h[?25h[?25l i[30;79H6[23;6H[34h[?25h[?25lin[30;79H7[23;7H[34h[?25h[?25l[1m[32mint[0m[30;79H8[23;8H[34h[?25h[?25l[30;79H9[23;9H[34h[?25h[?25l n[30;79H10[23;10H[34h[?25h[?25lne[30;80H1[23;11H[34h[?25h[?25lee[30;80H2[23;12H[34h[?25h[?25led[30;80H3[23;13H[34h[?25h[?25lds[30;80H4[23;14H[34h[?25h[?25lsC[30;80H5[23;15H[34h[?25h[?25lCo[30;80H6[23;16H[34h[?25h[?25lon[30;80H7[23;17H[34h[?25h[?25lnd[30;80H8[23;18H[34h[?25h[?25l[23;17H[K[30;80H7[23;17H[34h[?25h[?25l[23;16H[K[30;80H6[23;16H[34h[?25h[?25l[23;15H[K[30;80H5[23;15H[34h[?25h[?25l[23;14H[K[30;80H4[23;14H[34h[?25h[?25l[23;13H[K[30;80H3[23;13H[34h[?25h[?25ldc[30;80H4[23;14H[34h[?25h[?25lco[30;80H5[23;15H[34h[?25h[?25lon[30;80H6[23;16H[34h[?25h[?25lnt[30;80H7[23;17H[34h[?25h[?25l[23;16H[K[30;80H6[23;16H[34h[?25h[?25lnt[30;80H7[23;17H[34h[?25h[?25l[30;80H8[23;18H[34h[?25h[?25l =[30;80H9[23;19H[34h[?25h[?25l[30;79H20[23;20H[34h[?25h[?25l [1m[35m0[0m[30;80H1[23;21H[34h[?25h[?25l[1m[35m0[0m;[30;80H2[23;22H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H350,5[9C50%[24;5H[34h[?25h[?25l i[30;79H6[24;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[24;7H[34h[?25h[?25li[24;6H[K[30;79H6[24;6H[34h[?25h[?25l[24;5H[K[30;79H5[24;5H[34h[?25h[?25l[30;79H4[24;4H[34h[?25h[?25l[30;79H3[24;3H[34h[?25h[?25l[30;79H2[24;2H[34h[?25h[?25l[30;79H1[24;1H[34h[?25h[?25l[23;29r[29;1H
[1;30r[23;4H [1m[32mint[0m needcont = [1m[35m0[0m;[30;75H[K[30;75H349,22[8C50%[23;22H[34h[?25h[?25l[23;21H[K[30;80H1[23;21H[34h[?25h[?25l[23;20H[K[30;80H0[23;20H[34h[?25h[?25l ([28;1H[1m[37m[41m}[0m[30;80H1[23;21H[34h[?25h[?25l(j[30;80H2[23;22H[34h[?25h[?25ljo[30;80H3[23;23H[34h[?25h[?25lob[30;80H4[23;24H[34h[?25h[?25lb-[30;80H5[23;25H[34h[?25h[?25l->[30;80H6[23;26H[34h[?25h[?25l>s[30;80H7[23;27H[34h[?25h[?25lst[30;80H8[23;28H[34h[?25h[?25lta[30;80H9[23;29H[34h[?25h[?25lat[30;79H30[23;30H[34h[?25h[?25lte[30;80H1[23;31H[34h[?25h[?25l[30;80H2[23;32H[34h[?25h[?25l =[30;80H3[23;33H[34h[?25h[?25l==[30;80H4[23;34H[34h[?25h[?25l[30;80H5[23;35H[34h[?25h[?25l B[30;80H6[23;36H[34h[?25h[?25l[23;35H[K[30;80H5[23;35H[34h[?25h[?25l S[30;80H6[23;36H[34h[?25h[?25lST[30;80H7[23;37H[34h[?25h[?25lT)[28;1H}[23;20H[46m([16C)[0m[30;80H8[23;38H[34h[?25h[?25l[46m)[0m;[23;20H([16C)[30;80H9[23;39H[34h[?25h[?25l[30;76H50[24;39H[34h[?25h[?25l[30;79H56[24;56H[34h[?25h[?25l[30;80H5[24;55H[34h[?25h[?25l[30;80H4[24;54H[34h[?25h[?25l[30;80H3[24;53H[34h[?25h[?25l[30;80H2[24;52H[34h[?25h[?25l[30;80H1[24;51H[34h[?25h[?25l[30;80H0[24;50H[34h[?25h[?25l[30;79H49[24;49H[34h[?25h[?25l[30;80H8[24;48H[34h[?25h[?25l[30;80H7[24;47H[34h[?25h[?25l[30;80H6[24;46H[34h[?25h[?25l[30;80H5[24;45H[34h[?25h[?25l[30;80H4[24;44H[34h[?25h[?25l[30;80H3[24;43H[34h[?25h[?25l[30;80H2[24;42H[34h[?25h[?25l[30;80H1[24;41H[34h[?25h[?25l[30;80H0[24;40H[34h[?25h[?25l[30;79H39[24;39H[34h[?25h[?25l[30;80H8[24;38H[34h[?25h[?25l[30;80H7[24;37H[34h[?25h[?25l[30;80H6[24;36H[34h[?25h[?25l[30;80H5[24;35H[34h[?25h[?25l[30;80H4[24;34H[34h[?25h[?25l[30;80H3[24;33H[34h[?25h[?25l[30;80H2[24;32H[34h[?25h[?25l  [1m[36m// Set the new job state[0m[30;80H3[24;33H[34h[?25h[?25l     [1m[36m// Set the new job state[0m[30;80H7[24;37H[34h[?25h[?25l     [1m[36m// Set the new job state[0m[30;79H41[24;41H[34h[?25h[?25l[30;76H49,39[23;39H[34h[?25h[?25l[30;79H40[23;40H[34h[?25h[?25l[30;80H1[23;41H[34h[?25h[?25l /[30;80H2[23;42H[34h[?25h[?25l[1m[36m//[0m[30;80H3[23;43H[34h[?25h[?25l[1m[36m [0m[30;80H4[23;44H[34h[?25h[?25l[1m[36m C[0m[30;80H5[23;45H[34h[?25h[?25l[1m[36mCh[0m[30;80H6[23;46H[34h[?25h[?25l[1m[36mhe[0m[30;80H7[23;47H[34h[?25h[?25l[1m[36mec[0m[30;80H8[23;48H[34h[?25h[?25l[1m[36mck[0m[30;80H9[23;49H[34h[?25h[?25l[1m[36m [0m[30;79H50[23;50H[34h[?25h[?25l[1m[36m f[0m[30;80H1[23;51H[34h[?25h[?25l[23;50H[K[30;80H0[23;50H[34h[?25h[?25l[1m[36m i[0m[30;80H1[23;51H[34h[?25h[?25l[1m[36mif[0m[30;80H2[23;52H[34h[?25h[?25l[1m[36m [0m[30;80H3[23;53H[34h[?25h[?25l[1m[36m a[0m[30;80H4[23;54H[34h[?25h[?25l[1m[36m [0m[30;80H5[23;55H[34h[?25h[?25l[1m[36m S[0m[30;80H6[23;56H[34h[?25h[?25l[1m[36mSI[0m[30;80H7[23;57H[34h[?25h[?25l[1m[36mIG[0m[30;80H8[23;58H[34h[?25h[?25l[1m[36mGC[0m[30;80H9[23;59H[34h[?25h[?25l[1m[36mCO[0m[30;79H60[23;60H[34h[?25h[?25l[1m[36mON[0m[30;80H1[23;61H[34h[?25h[?25l[1m[36mNT[0m[30;80H2[23;62H[34h[?25h[?25l[1m[36m [0m[30;80H3[23;63H[34h[?25h[?25l[1m[36m i[0m[30;80H4[23;64H[34h[?25h[?25l[1m[36mis[0m[30;80H5[23;65H[34h[?25h[?25l[1m[36m [0m[30;80H6[23;66H[34h[?25h[?25l[1m[36m n[0m[30;80H7[23;67H[34h[?25h[?25l[1m[36mne[0m[30;80H8[23;68H[34h[?25h[?25l[1m[36mee[0m[30;80H9[23;69H[34h[?25h[?25l[1m[36med[0m[30;79H70[23;70H[34h[?25h[?25l[1m[36mde[0m[30;80H1[23;71H[34h[?25h[?25l[1m[36med[0m[30;80H2[23;72H[34h[?25h[?25l[30;76H50,65[24;65H[34h[?25h[?25l[24;64H[K[30;80H4[24;64H[34h[?25h[?25l[24;63H[K[30;80H3[24;63H[34h[?25h[?25l[24;62H[K[30;80H2[24;62H[34h[?25h[?25l[24;61H[K[30;80H1[24;61H[34h[?25h[?25l[24;60H[K[30;80H0[24;60H[34h[?25h[?25l[24;59H[K[30;79H59[24;59H[34h[?25h[?25l[24;58H[K[30;80H8[24;58H[34h[?25h[?25l[24;57H[K[30;80H7[24;57H[34h[?25h[?25l[24;56H[K[30;80H6[24;56H[34h[?25h[?25l[24;55H[K[30;80H5[24;55H[34h[?25h[?25l[24;54H[K[30;80H4[24;54H[34h[?25h[?25l[24;53H[K[30;80H3[24;53H[34h[?25h[?25l[24;52H[K[30;80H2[24;52H[34h[?25h[?25l[24;51H[K[30;80H1[24;51H[34h[?25h[?25l[24;50H[K[30;80H0[24;50H[34h[?25h[?25l[24;49H[K[30;79H49[24;49H[34h[?25h[?25l[24;48H[K[30;80H8[24;48H[34h[?25h[?25l[24;47H[K[30;80H7[24;47H[34h[?25h[?25l[24;46H[K[30;80H6[24;46H[34h[?25h[?25l[24;45H[K[30;80H5[24;45H[34h[?25h[?25l[24;44H[K[30;80H4[24;44H[34h[?25h[?25l[1m[36m C[0m[30;80H5[24;45H[34h[?25h[?25l[1m[36mCh[0m[30;80H6[24;46H[34h[?25h[?25l[1m[36mha[0m[30;80H7[24;47H[34h[?25h[?25l[1m[36man[0m[30;80H8[24;48H[34h[?25h[?25l[1m[36mng[0m[30;80H9[24;49H[34h[?25h[?25l[1m[36mge[0m[30;79H50[24;50H[34h[?25h[?25l[1m[36m [0m[30;80H1[24;51H[34h[?25h[?25l[1m[36m s[0m[30;80H2[24;52H[34h[?25h[?25l[1m[36mst[0m[30;80H3[24;53H[34h[?25h[?25l[1m[36mta[0m[30;80H4[24;54H[34h[?25h[?25l[1m[36mat[0m[30;80H5[24;55H[34h[?25h[?25l[1m[36mte[0m[30;80H6[24;56H[34h[?25h[?25l[1m[36m [0m[30;80H7[24;57H[34h[?25h[?25l[1m[36m f[0m[30;80H8[24;58H[34h[?25h[?25l[1m[36mfi[0m[30;80H9[24;59H[34h[?25h[?25l[1m[36mir[0m[30;79H60[24;60H[34h[?25h[?25l[1m[36mrs[0m[30;80H1[24;61H[34h[?25h[?25l[1m[36mst[0m[30;80H2[24;62H[34h[?25h[?25l[1m[36m [0m[30;80H3[24;63H[34h[?25h[?25l[1m[36m t[0m[30;80H4[24;64H[34h[?25h[?25l[1m[36mto[0m[30;80H5[24;65H[34h[?25h[?25l[1m[36m [0m[30;80H6[24;66H[34h[?25h[?25l[1m[36m a[0m[30;80H7[24;67H[34h[?25h[?25l[1m[36mav[0m[30;80H8[24;68H[34h[?25h[?25l[1m[36mvo[0m[30;80H9[24;69H[34h[?25h[?25l[1m[36moi[0m[30;79H70[24;70H[34h[?25h[?25l[1m[36mid[0m[30;80H1[24;71H[34h[?25h[?25l[1m[36m [0m[30;80H2[24;72H[34h[?25h[?25l[1m[36m r[0m[30;80H3[24;73H[34h[?25h[?25l[1m[36mra[0m[30;80H4[24;74H[34h[?25h[?25l[1m[36mac[0m[30;80H5[24;75H[34h[?25h[?25l[1m[36mce[0m[30;80H6[24;76H[34h[?25h[?25l[1m[36m [0m[30;80H7[24;77H[34h[?25h[?25l[1m[36m c[0m[30;80H8[24;78H[34h[?25h[?25l[1m[36mco[0m[30;80H9[24;79H[34h[?25h[?25l[1m[36mon[0m[30;79H80[24;80H[34h[?25h[?25l[1m[36mnd[0m[30;80H1[24;81H[34h[?25h[?25l[1m[36mdi[0m[30;80H2[24;82H[34h[?25h[?25l[1m[36mit[0m[30;80H3[24;83H[34h[?25h[?25l[1m[36mti[0m[30;80H4[24;84H[34h[?25h[?25l[1m[36mio[0m[30;80H5[24;85H[34h[?25h[?25l[1m[36mon[0m[30;80H6[24;86H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[30;75H[K[30;75H351,5[9C50%[25;5H[34h[?25h[?25l[25;29r[29;1H
[1;30r[30;75H[K[30;75H351,5[9C50%[25;5H[34h[?25h[?25l i[30;79H6[25;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[25;7H[34h[?25h[?25l[30;79H8[25;8H[34h[?25h[?25l (


[1m[37m[41m}[0m[30;79H9[25;9H[34h[?25h[?25l[30;79H10[25;10H[34h[?25h[?25l[30;79H9 [25;9H[34h[?25h[?25l(n[30;79H10[25;10H[34h[?25h[?25lne[30;80H1[25;11H[34h[?25h[?25lee[30;80H2[25;12H[34h[?25h[?25led[30;80H3[25;13H[34h[?25h[?25ldc[30;80H4[25;14H[34h[?25h[?25lco[30;80H5[25;15H[34h[?25h[?25lon[30;80H6[25;16H[34h[?25h[?25lnt[30;80H7[25;17H[34h[?25h[?25lt)


}[25;8H[46m([8C)[0m[30;80H8[25;18H[34h[?25h[?25l[25;8H([8C)[30;80H9[25;19H[34h[?25h[?25l {[46m{


}[0m[30;79H20[25;20H[34h[?25h[?25l[26;29r[26;1H[L[1;30r[30;75H[K[30;75H352,9[9C50%[25;19H{[29;1H}[26;9H[34h[?25h[?25l    }[25;19H[46m{
[0m    [46m}[0m[30;79H6[26;6H[34h[?25h[?25l[25;19H{
    }[30;77H1[25;6H[34h[?25h[?25l[13C[46m{
[0m    [46m}[0m[30;79H20[25;20H[34h[?25h[?25l[26;29r[26;1H[L[1;30r[26;5H[46m [0m
    }[30;75H[K[30;75H352,9[9C50%[25;19H{
        [34h[?25h[?25l[30;79H13[26;13H[34h[?25h[?25l[30;80H2[26;12H[34h[?25h[?25l[30;80H1[26;11H[34h[?25h[?25l[30;80H0[26;10H[34h[?25h[?25l[30;79H9 [26;9H[34h[?25h[?25l[30;77H5[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H}

[1m[36m/* [0m[30;75H[K[30;75H358,4[9C51%[29;4H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process
 */[0m
[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H361,9[9C51%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);
    [1m[33mwhile[0m (job->state == FG) {[29;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;75H[K[30;75H364,9[9C52%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H }
    [1m[33mreturn[0m;
}[30;75H[K[30;75H367,2[9C52%[23;24H[46m{[29;1H}[34h[?25h[?25l[1;29r[0m[1;1H[3M[1;30r[28;1H[1m[36m/*****************
 * Signal handlers[0m[30;75H[K[30;75H370,9[9C53%[20;24H{[26;1H}[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m *****************/

/* [0m[30;75H[K[30;75H373,4[9C53%[29;4H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever
 *     a child job terminates (becomes a zombie), or stops because it
 *     received a SIGSTOP or SIGTSTP signal. The handler reaps all[0m[30;75H[K[30;75H376,9[9C53%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m *     available zombie children, but doesn't wait for any other
 *     currently running children to terminate.  
 */[0m[30;75H[K[30;75H379,4[9C54%[29;4H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {
    pid_t pid;
    [1m[32mint[0m status;[30;75H[K[30;75H382,9[9C54%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H [1m[32mstruct[0m job_t *job;[29;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[30;75H[K[30;75H385,9[9C55%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;8H [1m[36m// Get pointer to job struct[0m[28;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H388,1[9C55%[29;1H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;8H [1m[33mif[0m (WIFEXITED(status)) {[28;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H391,9[9C56%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[28;16H [1m[32mchar[0m *argv[MAXARGS];[29;16H parseline(job->cmdline, argv);[30;75H[K[30;75H394,9[9C56%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[28;12H }  [1m[33melse[0m {[29;16H [1m[36m//printf("Process exited normally with return value of %d\n", [0m[30;75H[K[30;75H397,9[9C57%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;16H [1m[36m//    WEXITSTATUS(status));[0m[28;12H }[29;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H400,9[9C57%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[28;8H } [1m[33melse[0m [1m[33mif[0m (WIFSIGNALED(status)) {[29;8H [1m[36m// Case terminated to signal[0m[30;75H[K[30;75H403,9[9C58%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[28;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) teminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[29;16H job->jid, job->pid, WTERMSIG(status));[30;75H[K[30;75H406,9[9C58%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[30;75H[K[30;75H409,9[9C59%[22;41H[46m{[29;9H}[34h[?25h[?25l[1;29r[0m[1;1H[2M[1;30r[28;8H [1m[36m// Case stopped by signal[0m[30;75H[K[30;75H411,9[9C59%[20;41H{[27;9H}[29;9H[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H412,9[9C59%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;16H job->jid, job->pid, WSTOPSIG(status));[28;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H415,1[9C60%[29;1H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;8H } [1m[33melse[0m [1m[33mif[0m (WIFCONTINUED(status)) {[28;8H [1m[36m// Case process reporting continuation[0m[30;75H[K[30;75H418,9[9C60%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;8H } [1m[33melse[0m {[28;8H [1m[36m// Else, unknown[0m[29;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[30;75H[K[30;75H421,9[9C60%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;8H }[29;4H }[30;75H[K[30;75H424,6[9C61%[29;6H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H [1m[33mreturn[0m;
}[30;75H[K[30;75H427,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H428,4[9C62%[29;4H[34h[?25h[?25l[1;29r[1;1H[2M[1;30r[28;1H[1m[36m * sigint_handler - The kernel sends a SIGINT to the shell whenever the
 *    user types ctrl-c at the keyboard.  Catch it and send it along[0m[30;75H[K[30;75H430,9[9C62%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m *    to the foreground job.  
 */[0m
[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig) {[30;75H[K[30;75H433,9[9C62%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H pid_t pid = fgpid(jobs);
    [1m[36m// Send interrupt signal[0m
    [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H436,9[9C63%[29;8H[46m([8C)[29;9H[34h[?25h[?25l[1;29r[0m[1;1H[3M[1;30r[27;4H [1m[33mreturn[0m;
}[30;75H[K[30;75H439,1[9C63%[26;8H([8C)


[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m/*
 * sigtstp_handler - The kernel sends a SIGTSTP to the shell whenever
 *     the user types ctrl-z at the keyboard. Catch it and suspend the[0m[30;75H[K[30;75H442,9[9C64%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;1H[1m[36m *     foreground job by sending it a SIGTSTP.  
 */[0m
[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig) {[30;75H[K[30;75H445,9[9C64%[29;9H[34h[?25h[?25l[1;29r[1;1H[3M[1;30r[27;4H pid_t pid = fgpid(jobs);
    [1m[36m// Send stop signal ([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m
    [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H448,9[9C65%[29;8H[46m([8C)[29;9H[34h[?25h[?25l[0m([8C)[30;77H5[26;9H[34h[?25h[?25l[30;77H2[23;9H[34h[?25h[?25l[30;76H39,1[20;1H[34h[?25h[?25l[17;8H[46m([8C)[0m[30;77H6,9[17;9H[34h[?25h[?25l([8C)[30;77H3[14;9H[34h[?25h[?25l[30;77H0[11;9H[34h[?25h[?25l[30;76H27,1[8;1H[34h[?25h[?25l[30;77H4,6[5;6H[34h[?25h[?25l[30;77H1,9[2;9H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[2;8H } [1m[33melse[0m {[30;75H[K[30;75H418,9[9C64%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[2;8H } [1m[33melse[0m [1m[33mif[0m (WIFCONTINUED(status)) {[3;8H [1m[36m// Case process reporting continuation[0m[30;75H[K[30;75H415,1[9C64%[1;1H[34h[?25h[?25l[30;77H8,9[4;9H[34h[?25h[?25l[30;76H21[7;9H[34h[?25h[?25l[30;77H4,6[10;6H[34h[?25h[?25l[30;77H7,1[13;1H[34h[?25h[?25l[30;76H30,9[16;9H[34h[?25h[?25l[30;77H3[19;9H[34h[?25h[?25l[22;8H[46m([8C)[0m[30;77H6[22;9H[34h[?25h[?25l([8C)[30;77H9,1[25;1H[34h[?25h[?25l[30;76H42,9[28;9H[34h[?25h[?25l[30;76H39,1[25;1H[34h[?25h[?25l[22;8H[46m([8C)[0m[30;77H6,9[22;9H[34h[?25h[?25l([8C)[30;77H3[19;9H[34h[?25h[?25l[30;77H0[16;9H[34h[?25h[?25l[30;76H27,1[13;1H[34h[?25h[?25l[30;77H4,6[10;6H[34h[?25h[?25l[30;77H1,9[7;9H[34h[?25h[?25l[30;76H18[4;9H[34h[?25h[?25l[30;77H5,1[1;1H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[2;16H job->jid, job->pid, WSTOPSIG(status));[3;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H412,9[9C63%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[2;8H [1m[36m// Case stopped by signal[0m[30;75H[K[30;75H409,9[9C63%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;16H job->jid, job->pid, WTERMSIG(status));[2;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H406,9[9C62%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H [1m[36m// Case terminated to signal[0m[3;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) teminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H403,9[9C62%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[3;8H } [1m[33melse[0m [1m[33mif[0m (WIFSIGNALED(status)) {[30;75H[K[30;75H400,9[9C62%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;16H [1m[36m//printf("Process exited normally with return value of %d\n", [0m[2;16H [1m[36m//    WEXITSTATUS(status));[0m[3;12H }[30;75H[K[30;75H397,9[9C61%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;16H parseline(job->cmdline, argv);[2;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[3;12H }  [1m[33melse[0m {[30;75H[K[30;75H394,9[9C61%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[2;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[3;16H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H391,9[9C60%[1;9H[34h[?25h[?25l[1;29r[1;1H[2L[1;30r[1;8H [1m[33mif[0m (WIFEXITED(status)) {[2;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H389,9[9C60%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H388,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[2;8H [1m[36m// Get pointer to job struct[0m[3;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H385,9[9C59%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mint[0m status;
    [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H382,9[9C59%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m */[0m
[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {
    pid_t pid;[30;75H[K[30;75H379,4[9C58%[1;4H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m *     received a SIGSTOP or SIGTSTP signal. The handler reaps all
 *     available zombie children, but doesn't wait for any other
 *     currently running children to terminate.  [0m[30;75H[K[30;75H376,9[9C58%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m/* 
 * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever
 *     a child job terminates (becomes a zombie), or stops because it[0m[30;75H[K[30;75H373,4[9C57%[1;4H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m * Signal handlers
 *****************/[0m[30;75H[K[30;75H370,9[9C57%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H}

[1m[36m/*****************[0m[30;75H[K[30;75H367,2[9C56%[1;2H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m
    }
    [1m[33mreturn[0m;[30;75H[K[30;75H364,9[9C56%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[32mvoid[0m waitfg(pid_t pid) {
    [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);
    [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H361,9[9C55%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;1H[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m[30;75H[K[30;75H358,4[9C55%[1;4H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[33mreturn[0m;
}[30;75H[K[30;75H355,9[9C55%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[2;4H }[30;75H[K[30;75H352,9[9C54%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[32mint[0m needcont = (job->state == ST);  [1m[36m// Check if a SIGCONT is needed[0m
    job->state = bg ? BG : FG;[9C [1m[36m// Change state first to avoid race condition[0m
    [1m[33mif[0m (needcont) {[30;75H[K[30;75H349,9[9C54%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H }[3;4H [1m[36m// Finish up[0m[30;75H[K[30;75H346,6[9C53%[1;6H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;4H [1m[33mif[0m (job->state == FG) {[2;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m cannot be used on a foreground process![0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[3;8H [1m[33mreturn[0m;[30;75H[K[30;75H343,9[9C53%[1;8H[46m([16C)[1;9H[34h[?25h[?25l[1;29r[0m[1;1H[3L[1;30r[1;4H }[3;4H [1m[36m// Check for strange condition[0m[30;75H[K[30;75H340,6[9C52%[4;8H([16C)[1;6H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[2;8H }[3;8H [1m[33mreturn[0m;[30;75H[K[30;75H337,9[9C52%[1;9H[34h[?25h[?25l[1;29r[1;1H[3L[1;30r[1;8H [1m[33mif[0m (isjob) {[2;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[3;8H } [1m[33melse[0m {[30;75H[K[30;75H334,9[9C51%[1;9H[34h[?25h[?25l[30;77H7[4;9H[34h[?25h[?25l[30;76H40,6[7;6H[34h[?25h[?25l[10;8H[46m([16C)[0m[30;77H3,9[10;9H[34h[?25h[?25l([16C) [46m{[13;5H}[0m[30;77H6,6[13;6H[34h[?25h[?25l[10;27H{[13;5H}[30;77H9,9[16;9H[34h[?25h[?25l[30;76H52[19;9H[34h[?25h[?25l[30;77H5[22;9H[34h[?25h[?25l[30;77H2[19;9H[34h[?25h[?25l k[30;79H10[19;10H[34h[?25h[?25lki[30;80H1[19;11H[34h[?25h[?25lil[30;80H2[19;12H[34h[?25h[?25lll[30;80H3[19;13H[34h[?25h[?25llp[30;80H4[19;14H[34h[?25h[?25lpg[30;80H5[19;15H[34h[?25h[?25lg(
    [1m[37m[41m}


}[28;24H{[0m[30;80H6[19;16H[34h[?25h[?25l()
    }


}[28;24H{[19;15H[46m()[0m[30;80H7[19;17H[34h[?25h[?25l[30;80H6[19;16H[34h[?25h[?25l[46m(j[0m)j[46m)[0m[30;80H7[19;17H[34h[?25h[?25lj[46mo[0m)o[46m)[0m[30;80H8[19;18H[34h[?25h[?25lo[46mb[0m)b[46m)[0m[30;80H9[19;19H[34h[?25h[?25lb[46m-[0m)-[46m)[0m[30;79H20[19;20H[34h[?25h[?25l-[46m>[0m)>[46m)[0m[30;80H1[19;21H[34h[?25h[?25l>[46mp[0m)p[46m)[0m[30;80H2[19;22H[34h[?25h[?25lp[46mi[0m)i[46m)[0m[30;80H3[19;23H[34h[?25h[?25li[46md[0m)d[46m)[0m[30;80H4[19;24H[34h[?25h[?25ld[46m,[0m),[46m)[0m[30;80H5[19;25H[34h[?25h[?25l,[46m [0m) [46m)[0m[30;80H6[19;26H[34h[?25h[?25l [46mS[0m)S[46m)[0m[30;80H7[19;27H[34h[?25h[?25lS[46mI[0m)I[46m)[0m[30;80H8[19;28H[34h[?25h[?25lI[46mG[0m)G[46m)[0m[30;80H9[19;29H[34h[?25h[?25lG[46mC[0m)C[46m)[0m[30;79H30[19;30H[34h[?25h[?25lC[46mO[0m)O[46m)[0m[30;80H1[19;31H[34h[?25h[?25lO[46mN[0m)N[46m)[0m[30;80H2[19;32H[34h[?25h[?25l[1m[35mSIGCON[0m[1m[35m[46mT[0m)[1m[35mT[0m[46m)[0m[30;80H3[19;33H[34h[?25h[?25l[30;80H4[19;34H[34h[?25h[?25l[46m)[0m;[19;15H([17C)[30;80H5[19;35H[34h[?25h[?25l[30;80H6[19;36H[34h[?25h[?25l /[30;80H7[19;37H[34h[?25h[?25l[1m[36m//[0m[30;80H8[19;38H[34h[?25h[?25l/[19;37H[K[30;80H7[19;37H[34h[?25h[?25l[19;36H[K[30;80H6[19;36H[34h[?25h[?25l[30;80H7[19;37H[34h[?25h[?25l[30;79H41[19;41H[34h[?25h[?25l /[30;80H2[19;42H[34h[?25h[?25l[1m[36m//[0m[30;80H3[19;43H[34h[?25h[?25l[1m[36m [0m[30;80H4[19;44H[34h[?25h[?25l[1m[36m S[0m[30;80H5[19;45H[34h[?25h[?25l[1m[36mSe[0m[30;80H6[19;46H[34h[?25h[?25l[1m[36men[0m[30;80H7[19;47H[34h[?25h[?25l[1m[36mnd[0m[30;80H8[19;48H[34h[?25h[?25l[1m[36m [0m[30;80H9[19;49H[34h[?25h[?25l[1m[36m S[0m[30;79H50[19;50H[34h[?25h[?25l[1m[36mSI[0m[30;80H1[19;51H[34h[?25h[?25l[1m[36mIG[0m[30;80H2[19;52H[34h[?25h[?25l[1m[36mGC[0m[30;80H3[19;53H[34h[?25h[?25l[1m[36mCO[0m[30;80H4[19;54H[34h[?25h[?25l[1m[36mON[0m[30;80H5[19;55H[34h[?25h[?25l[1m[36mNT[0m[30;80H6[19;56H[34h[?25h[?25l[1m[36m [0m[30;80H7[19;57H[34h[?25h[?25l[1m[36m t[0m[30;80H8[19;58H[34h[?25h[?25l[1m[36mto[0m[30;80H9[19;59H[34h[?25h[?25l[1m[36m [0m[30;79H60[19;60H[34h[?25h[?25l[1m[36m p[0m[30;80H1[19;61H[34h[?25h[?25l[1m[36mpr[0m[30;80H2[19;62H[34h[?25h[?25l[1m[36mro[0m[30;80H3[19;63H[34h[?25h[?25l[1m[36moc[0m[30;80H4[19;64H[34h[?25h[?25l[1m[36mce[0m[30;80H5[19;65H[34h[?25h[?25l[1m[36mes[0m[30;80H6[19;66H[34h[?25h[?25l[1m[36mss[0m[30;80H7[19;67H[34h[?25h[?25l[1m[36m [0m[30;80H8[19;68H[34h[?25h[?25l[1m[36m g[0m[30;80H9[19;69H[34h[?25h[?25l[1m[36mgr[0m[30;79H70[19;70H[34h[?25h[?25l[1m[36mro[0m[30;80H1[19;71H[34h[?25h[?25l[1m[36mou[0m[30;80H2[19;72H[34h[?25h[?25l[1m[36mup[0m[30;80H3[19;73H[34h[?25h[?25l[1m[36m [0m[30;80H4[19;74H[34h[?25h[?25l[1m[36m i[0m[30;80H5[19;75H[34h[?25h[?25l[1m[36mif[0m[30;80H6[19;76H[34h[?25h[?25l[1m[36m [0m[30;80H7[19;77H[34h[?25h[?25l[1m[36m n[0m[30;80H8[19;78H[34h[?25h[?25l[1m[36mne[0m[30;80H9[19;79H[34h[?25h[?25l[1m[36mee[0m[30;79H80[19;80H[34h[?25h[?25l[1m[36med[0m[30;80H1[19;81H[34h[?25h[?25l[1m[36mde[0m[30;80H2[19;82H[34h[?25h[?25l[1m[36med[0m[30;80H3[19;83H[34h[?25h[?25l[18;19H[46m{[20;5H}[0m[30;77H3,6 [20;6H[34h[?25h[?25l[21;29r[21;1H[L[1;30r[30;75H[K[30;75H354,5[9C51%[18;19H{[20;5H}
    [34h[?25h[?25l i[30;79H6[21;6H[34h[?25h[?25l[1m[33mif[0m[30;79H7[21;7H[34h[?25h[?25l[30;79H8[21;8H[34h[?25h[?25l (


[1m[37m[41m}[29;24H{[0m[30;79H9[21;9H[34h[?25h[?25l(![30;79H10[21;10H[34h[?25h[?25l!b[30;80H1[21;11H[34h[?25h[?25lbg[30;80H2[21;12H[34h[?25h[?25lg)


}[29;24H{[21;8H[46m([0m!bg[46m)[0m[30;80H3[21;13H[34h[?25h[?25l(!bg)[30;80H4[21;14H[34h[?25h[?25l[46m([0m!bg[46m)[0m[30;80H3[21;13H[34h[?25h[?25l[21;12H[K[24;1H[1m[37m[41m}[29;24H{[0m[21;8H([30;80H2[21;12H[34h[?25h[?25lg)


}[29;24H{[21;8H[46m([0m!bg[46m)[0m[30;80H3[21;13H[34h[?25h[?25l(!bg)[30;80H4[21;14H[34h[?25h[?25l w[30;80H5[21;15H[34h[?25h[?25lwa[30;80H6[21;16H[34h[?25h[?25lai[30;80H7[21;17H[34h[?25h[?25lit[30;80H8[21;18H[34h[?25h[?25ltf[30;80H9[21;19H[34h[?25h[?25lfg[30;79H20[21;20H[34h[?25h[?25lg(


[1m[37m[41m}[29;24H{[0m[30;80H1[21;21H[34h[?25h[?25l()


}[29;24H{[21;20H[46m()[0m[30;80H2[21;22H[34h[?25h[?25l[30;80H1[21;21H[34h[?25h[?25l[46m(j[0m)j[46m)[0m[30;80H2[21;22H[34h[?25h[?25lj[46mo[0m)o[46m)[0m[30;80H3[21;23H[34h[?25h[?25lo[46mb[0m)b[46m)[0m[30;80H4[21;24H[34h[?25h[?25lb[46m-[0m)-[46m)[0m[30;80H5[21;25H[34h[?25h[?25l-[46m>[0m)>[46m)[0m[30;80H6[21;26H[34h[?25h[?25l>[46mp[0m)p[46m)[0m[30;80H7[21;27H[34h[?25h[?25lp[46mi[0m)i[46m)[0m[30;80H8[21;28H[34h[?25h[?25li[46md[0m)d[46m)[0m[30;80H9[21;29H[34h[?25h[?25l[30;79H30[21;30H[34h[?25h[?25l[46m)[0m;[21;20H([8C)[30;80H1[21;31H[34h[?25h[?25l[30;80H3[21;33H[34h[?25h[?25l[30;80H7[21;37H[34h[?25h[?25l[30;79H41[21;41H[34h[?25h[?25l /[30;80H2[21;42H[34h[?25h[?25l[1m[36m//[0m[30;80H3[21;43H[34h[?25h[?25l[1m[36m [0m[30;80H4[21;44H[34h[?25h[?25l[1m[36m W[0m[30;80H5[21;45H[34h[?25h[?25l[1m[36mWa[0m[30;80H6[21;46H[34h[?25h[?25l[1m[36mai[0m[30;80H7[21;47H[34h[?25h[?25l[1m[36mit[0m[30;80H8[21;48H[34h[?25h[?25l[1m[36m [0m[30;80H9[21;49H[34h[?25h[?25l[1m[36m i[0m[30;79H50[21;50H[34h[?25h[?25l[1m[36mif[0m[30;80H1[21;51H[34h[?25h[?25l[21;50H[K[30;80H0[21;50H[34h[?25h[?25l[21;49H[K[30;79H49[21;49H[34h[?25h[?25l[21;48H[K[30;80H8[21;48H[34h[?25h[?25l[1m[36m [0m[30;80H9[21;49H[34h[?25h[?25l[1m[36m i[0m[30;79H50[21;50H[34h[?25h[?25l[1m[36mif[0m[30;80H1[21;51H[34h[?25h[?25l[1m[36m [0m[30;80H2[21;52H[34h[?25h[?25l[1m[36m f[0m[30;80H3[21;53H[34h[?25h[?25l[1m[36mfo[0m[30;80H4[21;54H[34h[?25h[?25l[1m[36mor[0m[30;80H5[21;55H[34h[?25h[?25l[1m[36mre[0m[30;80H6[21;56H[34h[?25h[?25l[1m[36meg[0m[30;80H7[21;57H[34h[?25h[?25l[1m[36mgr[0m[30;80H8[21;58H[34h[?25h[?25l[1m[36mro[0m[30;80H9[21;59H[34h[?25h[?25l[1m[36mou[0m[30;79H60[21;60H[34h[?25h[?25l[1m[36mun[0m[30;80H1[21;61H[34h[?25h[?25l[1m[36mnd[0m[30;80H2[21;62H[34h[?25h[?25l[1m[36m [0m[30;80H3[21;63H[34h[?25h[?25l[1m[36m p[0m[30;80H4[21;64H[34h[?25h[?25l[1m[36mpr[0m[30;80H5[21;65H[34h[?25h[?25l[1m[36mro[0m[30;80H6[21;66H[34h[?25h[?25l[1m[36moe[0m[30;80H7[21;67H[34h[?25h[?25l[21;66H[K[30;80H6[21;66H[34h[?25h[?25l[1m[36moc[0m[30;80H7[21;67H[34h[?25h[?25l[1m[36mce[0m[30;80H8[21;68H[34h[?25h[?25l[1m[36mes[0m[30;80H9[21;69H[34h[?25h[?25l[1m[36mss[0m[30;79H70[21;70H[34h[?25h[?25l[30;77H5,1 [22;1H[34h[?25h[?25l[21;29r[29;1H
[1;30r[21;4H [1m[33mif[0m (!bg) waitfg(job->pid);[9C [1m[36m// Wait if foreground process[0m[29;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H354,70[8C51%[21;70H[34h[?25h[30;1H[K[21;69H[?25l[30;75H354,69[8C51%[21;69H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 672L, 17749C written[46C354,69[8C51%[30;75H[K[30;75H354,69[8C51%[21;69H[34h[?25h[?25l[18;19H[46m{[20;5H}[0m[30;77H3,5 [20;5H[34h[?25h[?25l[18;19H{[20;5H}[30;77H2,69[19;69H[34h[?25h[?25l[18;19H[46m{[20;5H}[0m[30;77H1,1[18;19H[34h[?25h[?25l{[20;5H}[30;77H0,6[17;69H[34h[?25h[?25l[30;76H49[16;69H[34h[?25h[?25l[30;77H8,16[15;16H[34h[?25h[?25l[30;77H7,0-1[14;1H[34h[?25h[?25l[10;27H[46m{[13;5H}[0m[30;77H6,5  [13;5H[34h[?25h[?25l[10;27H{[13;5H}[30;77H5,15[12;15H[34h[?25h[?25l[30;77H4,69[11;69H[34h[?25h[?25l[10;27H[46m{[13;5H}[0m[30;77H3,27[10;27H[34h[?25h[?25l{[13;5H}[30;77H2,34[9;34H[34h[?25h[?25l[30;77H1,0-1[8;1H[34h[?25h[?25l[30;77H0,5  [7;5H[34h[?25h[?25l[30;76H39,15[6;15H[34h[?25h[?25l[3;16H[46m{[5;9H}[0m[30;77H8,9 [5;9H[34h[?25h[?25l[3;16H{[5;9H}[30;77H7,53[4;53H[34h[?25h[?25l[3;16H[46m{[5;9H}[0m[30;77H6,16[3;16H[34h[?25h[?25l{[5;9H}[30;77H5,49[2;49H[34h[?25h[?25l[1;20H[46m{[3;9H}[0m[30;77H4,20[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (job == [1m[35mNULL[0m) [46m{[0m[2;20H{[4;9H}[8;5H[46m}[0m[30;1H[K[30;75H333,22[8C51%[1;22H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check if job exists[0m[2;22H{[9;5H}[30;75H[K[30;75H332,26[8C51%[1;26H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H331,0-1[7C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H330,5[9C51%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, id);[30;75H[K[30;75H329,35[8C51%[1;35H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H } [1m[33melse[0m {[30;75H[K[30;75H328,13[8C50%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = [30m[43mgetjobjid[0m(jobs, id);[30;75H[K[30;75H327,35[8C50%[1;35H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (isjob) {[30;75H[K[30;75H326,17[8C50%[1;17H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job = [1m[35mNULL[0m;[30;75H[K[30;75H325,29[8C50%[1;29H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Get the job from the job id or process id[0m[30;75H[K[30;75H324,48[8C50%[1;48H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H323,0-1[7C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H322,5[9C49%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H321,15[8C49%[1;15H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H320,9[9C49%[1;9H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H319,69[8C49%[1;69H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [46m{[3;9H}[0m[30;75H[K[30;75H318,16[8C49%[1;16H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[2;16H{[4;9H}[30;75H[K[30;75H317,69[8C49%[1;69H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (isjob) [46m{[3;9H}[0m[30;75H[K[30;75H316,20[8C48%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (success != [1m[35m1[0m) [46m{[0m[2;20H{[4;9H}[8;5H[46m}[0m[30;75H[K[30;75H315,23[8C48%[1;23H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check if argument is a valid number[0m[2;23H{[9;5H}[30;75H[K[30;75H314,42[8C48%[1;42H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H313,0-1[7C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m success = sscanf(number, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H312,69[8C48%[1;69H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H311,19[8C48%[1;19H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m id = [1m[35m0[0m;[30;75H[K[30;75H310,15[8C48%[1;15H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check for a valid unsigned int with no trailing characters[0m[30;75H[K[30;75H309,65[8C47%[1;65H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H308,0-1[7C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H307,5[9C47%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H number = &argv[[1m[35m1[0m][[1m[35m1[0m]; [1m[36m// Remove leading '%'[0m[30;75H[K[30;75H306,51[8C47%[1;51H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H isjob = [1m[35m1[0m;[30;75H[K[30;75H305,18[8C47%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) [46m{[4;5H}[0m[30;75H[K[30;75H304,28[8C47%[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *number = argv[[1m[35m1[0m];[2;28H{[5;5H}[30;75H[K[30;75H303,27[8C46%[1;27H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m isjob = [1m[35m0[0m;[30;75H[K[30;75H302,18[8C46%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check if using job syntax[0m[30;75H[K[30;75H301,32[8C46%[1;32H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H300,4[9C46%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H299,5[9C46%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H298,15[8C46%[1;15H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m command requires PID or [0m[1m[31m%%[0m[1m[35mjobid argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[46m[[0m[1m[35m0[0m[46m][0m);[30;75H[K[30;75H297,69[8C46%[1;69H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (argv[[1m[35m1[0m] == [1m[35m0[0m || argv[[1m[35m2[0m] != [1m[35m0[0m) [46m{[0m[2;69H[[1C][4;5H[46m}[0m[30;75H[K[30;75H296,39[8C45%[1;39H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Bad arguments: No args or too many[0m[2;39H{[5;5H}[30;75H[K[30;75H295,41[8C45%[1;41H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H294,4[9C45%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H293,5[9C45%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H292,15[8C45%[1;15H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"Bad do_bgfg call."[0m);[30;75H[K[30;75H291,36[8C45%[1;36H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (bg == -[1m[35m1[0m) [46m{[4;5H}[0m[30;75H[K[30;75H290,19[8C44%[1;19H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m//Assert, command is either bg or fg.[0m[2;19H{[5;5H}[30;75H[K[30;75H289,41[8C44%[1;41H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H288,4[9C44%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H bg = (c == [1m[35m'f'[0m) ? [1m[35m0[0m : ((c == [1m[35m'b'[0m) ? [1m[35m1[0m : -[1m[35m1[0m); [1m[36m// FG -> 0, BG -> 1, else -1[0m[30;75H[K[30;75H287,69[8C44%[1;69H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m c = *(argv[[1m[35m0[0m]);[30;75H[K[30;75H286,24[8C44%[1;24H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m bg = -[1m[35m1[0m;[30;75H[K[30;75H285,16[8C44%[1;16H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m do_bgfg([1m[32mchar[0m **argv) {[30;75H[K[30;75H284,27[8C44%[1;27H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H283,3[9C43%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * do_bgfg - Execute the builtin bg and fg commands[0m[30;75H[K[30;75H282,51[8C43%[1;51H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H281,3[9C43%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H280,0-1[7C43%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H279,1[9C43%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mreturn[0m [1m[35m0[0m;     [1m[36m/* not a builtin command */[0m[30;75H[K[30;75H278,43[8C43%[1;43H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H }[30;75H[K[30;75H277,3[9C42%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H276,13[8C42%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"kill"[0m) == [1m[35m0[0m) [46m{

[0m  [46m}[0m[30;75H[K[30;75H275,44[8C42%[1;44H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[2;44H{

  }[30;75H[K[30;75H274,13[8C42%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg(argv);[30;75H[K[30;75H273,18[8C42%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"fg"[0m) == [1m[35m0[0m) [46m{[4;3H}[0m[30;75H[K[30;75H272,42[8C42%[1;42H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[2;42H{[5;3H}[30;75H[K[30;75H271,13[8C41%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H do_bgfg(argv);[30;75H[K[30;75H270,18[8C41%[1;18H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"bg"[0m) == [1m[35m0[0m) [46m{[4;3H}[0m[30;75H[K[30;75H269,42[8C41%[1;42H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m1[0m;[2;42H{[5;3H}[30;75H[K[30;75H268,13[8C41%[1;13H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H listjobs(jobs);[30;75H[K[30;75H267,20[8C41%[1;20H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H } [1m[33melse[0m [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"jobs"[0m) == [1m[35m0[0m) [46m{[4;3H}[0m[30;75H[K[30;75H266,44[8C41%[1;44H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H exit([1m[35m0[0m);[2;44H{[5;3H}[30;75H[K[30;75H265,12[8C41%[1;12H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;2H [1m[33mif[0m (strcmp(argv[[1m[35m0[0m], [1m[35m"quit"[0m) == [1m[35m0[0m) [46m{

[0m  [46m}[0m[30;75H[K[30;75H264,37[8C40%[1;37H[34h[?25h[?25l{

  }[30;77H5,12[2;12H[34h[?25h[?25l[1;37H[46m{

[0m  [46m}[0m[30;77H4,37[1;37H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m builtin_cmd([1m[32mchar[0m **argv) [46m{[0m[2;37H{

  }[17;1H[46m}[0m[30;75H[K[30;75H263,30[8C40%[1;30H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[2;30H{[18;1H}[30;75H[K[30;75H262,3[9C40%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    it immediately.  [0m[30;75H[K[30;75H261,23[8C40%[1;23H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * builtin_cmd - If the user has typed a built-in command then execute[0m[30;75H[K[30;75H260,69[8C40%[1;69H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H259,3[9C40%[1;3H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H258,0-1[7C39%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H257,1[9C39%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m bg;[30;75H[K[30;75H256,14[8C39%[1;14H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H255,5[9C39%[1;5H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H argv[--argc] = [1m[35mNULL[0m;[30;75H[K[30;75H254,25-28     39%[1;28H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m ((bg = (*argv[argc-[1m[35m1[0m] == [1m[35m'&'[0m)) != [1m[35m0[0m) [46m{[3;5H}[0m[30;75H[K[30;75H253,45[8C39%[1;45H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m/* should the job run in the background? */[0m[2;45H{[4;5H}[30;75H[K[30;75H252,47[8C39%[1;47H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H251,0-1[7C38%[1;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;4H [1m[33mreturn[0m;
}

[1m[36m/*****************
 * Signal handlers
 *****************/

/* 
 * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever
 *     a child job terminates (becomes a zombie), or stops because it
 *     received a SIGSTOP or SIGTSTP signal. The handler reaps all
 *     available zombie children, but doesn't wait for any other
 *     currently running children to terminate.  
 */[0m
[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {
    pid_t pid;
    [1m[32mint[0m status;
    [1m[32mstruct[0m job_t *job;[20;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[21;8H [1m[36m// Get pointer to job struct[0m[22;8H job = getjobpid(jobs, pid);[24;8H [1m[33mif[0m (WIFEXITED(status)) {[25;8H [1m[36m// Case exited normally[0m[27;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[28;16H [1m[32mchar[0m *argv[MAXARGS];[29;16H parseline(job->cmdline, argv);[30;75H380,1[9C56%[15;1H[34h[?25h[?25l[30;77H1[16;1H[34h[?25h[?25l[30;77H2[17;1H[34h[?25h[?25l[30;77H3[18;1H[34h[?25h[?25l[30;77H4,0-1[19;1H[34h[?25h[?25l[30;77H5,1  [20;1H[34h[?25h[?25l[30;77H6[21;1H[34h[?25h[?25l[30;77H7[22;1H[34h[?25h[?25l[30;77H8,0-1[23;1H[34h[?25h[?25l[30;77H9,1  [24;1H[34h[?25h[?25l[30;76H90[25;1H[34h[?25h[?25l[30;77H1[26;1H[34h[?25h[?25l[30;77H2[27;1H[34h[?25h[?25l[30;77H3[28;1H[34h[?25h[?25l[30;77H4[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H395,1[9C56%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H }  [1m[33melse[0m {[30;75H[K[30;75H396,1[9C57%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H [1m[36m//printf("Process exited normally with return value of %d\n", [0m[30;75H[K[30;75H397,1[9C57%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H [1m[36m//    WEXITSTATUS(status));[0m[30;75H[K[30;75H398,1[9C57%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H }[30;75H[K[30;75H399,1[9C57%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H400,1[9C57%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H401,0-1[7C57%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFSIGNALED(status)) {[30;75H[K[30;75H402,1[9C58%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case terminated to signal[0m[30;75H[K[30;75H403,1[9C58%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H404,1[9C58%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) teminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H405,1[9C58%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H job->jid, job->pid, WTERMSIG(status));[30;75H[K[30;75H406,1[9C58%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H407,1[9C58%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H408,0-1[7C58%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[30;75H[K[30;75H409,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case stopped by signal[0m[30;75H[K[30;75H410,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H411,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H412,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H job->jid, job->pid, WSTOPSIG(status));[30;75H[K[30;75H413,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H414,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H415,0-1[7C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFCONTINUED(status)) {[30;75H[K[30;75H416,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case process reporting continuation[0m[30;75H[K[30;75H417,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H418,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m {[30;75H[K[30;75H419,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Else, unknown[0m[30;75H[K[30;75H420,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[30;75H[K[30;75H421,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H422,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H423,0-1[7C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H424,1[9C61%[29;1H[34h[?25h[?25l[30;77H3,0-1[28;1H[34h[?25h[?25l[30;77H2,1  [27;1H[34h[?25h[?25l[30;77H1[26;1H[34h[?25h[?25l[30;77H0[25;1H[34h[?25h[?25l[30;76H19[24;1H[34h[?25h[?25l[30;77H8[23;1H[34h[?25h[?25l[30;77H7[22;1H[34h[?25h[?25l[30;77H6[21;1H[34h[?25h[?25l[30;77H5,0-1[20;1H[34h[?25h[?25l[30;77H4,1  [19;1H[34h[?25h[?25l[30;77H3[18;1H[34h[?25h[?25l[30;77H2[17;1H[34h[?25h[?25l[30;77H1[16;1H[34h[?25h[?25l[30;77H0[15;1H[34h[?25h[?25l[30;76H09[14;1H[34h[?25h[?25l[30;77H8,0-1[13;1H[34h[?25h[?25l[30;77H7,1  [12;1H[34h[?25h[?25l[30;77H6[11;1H[34h[?25h[?25l[30;77H5[10;1H[34h[?25h[?25l[30;77H4[9;1H[34h[?25h[?25l[30;77H3[8;1H[34h[?25h[?25l[30;79H2[8;2H[34h[?25h[?25l[30;79H3[8;3H[34h[?25h[?25l[30;79H4[8;4H[34h[?25h[?25l[30;79H5[8;5H[34h[?25h[?25l[30;79H6[8;6H[34h[?25h[?25l[30;79H7[8;7H[34h[?25h[?25l[30;79H8[8;8H[34h[?25h[?25l[30;79H9[8;9H[34h[?25h[?25l[30;79H10[8;10H[34h[?25h[?25l[30;80H1[8;11H[34h[?25h[?25l[30;80H2[8;12H[34h[?25h[?25l[30;80H3[8;13H[34h[?25h[?25l[30;80H4[8;14H[34h[?25h[?25l[30;80H5[8;15H[34h[?25h[?25l[30;80H6[8;16H[34h[?25h[?25l[30;80H7[8;17H[34h[?25h[?25l[30;80H8[8;18H[34h[?25h[?25l[30;80H9[8;19H[34h[?25h[?25l[30;79H20[8;20H[34h[?25h[?25l[30;80H1[8;21H[34h[?25h[?25l[30;80H2[8;22H[34h[?25h[?25l[30;80H3[8;23H[34h[?25h[?25l[30;80H4[8;24H[34h[?25h[?25l[30;80H5[8;25H[34h[?25h[?25l[30;80H6[8;26H[34h[?25h[?25l[30;80H7[8;27H[34h[?25h[?25l[30;80H8[8;28H[34h[?25h[?25l[30;80H9[8;29H[34h[?25h[?25l[30;79H30[8;30H[34h[?25h[?25l[30;80H1[8;31H[34h[?25h[?25l[30;80H2[8;32H[34h[?25h[?25l[30;80H3[8;33H[34h[?25h[?25l[30;80H4[8;34H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H403,34[8C61%[8;34H[34h[?25h[?25l[30;77H4,9 [9;9H[34h[?25h[?25l[10;30H[1m[35m[46m([2C)[0m[30;77H5,34[10;34H[34h[?25h[?25l[1m[35m([2C)[0m[30;80H5[10;35H[34h[?25h[?25l[30;80H6[10;36H[34h[?25h[?25l[30;80H7[10;37H[34h[?25h[?25l[30;80H8[10;38H[34h[?25h[?25l[30;80H7[10;37H[34h[?25h[?25l[1m[35merminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;80H8[10;38H[34h[?25h[?25l[30;77H6[11;38H[34h[?25h[?25l[30;77H7[12;38H[34h[?25h[?25l[30;77H8,1 [13;1H[34h[?25h[?25l[14;19H[46m([18C)[0m[30;77H9,38[14;38H[34h[?25h[?25l[14;19H([18C)[30;76H10,34[15;34H[34h[?25h[?25l[30;77H1,9 [16;9H[34h[?25h[?25l[30;77H2,38[17;38H[34h[?25h[?25l[30;77H3[18;38H[34h[?25h[?25l[30;77H4[19;38H[34h[?25h[?25l[30;77H5,1 [20;1H[34h[?25h[30;1H[K[20;1H[?25l[30;75H415,0-1[7C61%[20;1H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 672L, 17750C written[46C415,0-1[7C61%[30;75H[K[30;75H415,0-1[7C61%[20;1H[34h[?25h[?25l[30;77H4,1  [19;1H[34h[?25h[?25l[30;77H3[18;1H[34h[?25h[?25l[30;77H2[17;1H[34h[?25h[?25l[30;77H1[16;1H[34h[?25h[?25l[30;77H0[15;1H[34h[?25h[?25l[30;76H09[14;1H[34h[?25h[?25l[30;77H8,0-1[13;1H[34h[?25h[?25l[30;77H7,1  [12;1H[34h[?25h[?25l[30;77H6[11;1H[34h[?25h[?25l[30;77H5[10;1H[34h[?25h[?25l[30;77H4[9;1H[34h[?25h[?25l[30;77H3[8;1H[34h[?25h[?25l[30;77H2[7;1H[34h[?25h[?25l[30;77H1,0-1[6;1H[34h[?25h[?25l[30;77H0,1  [5;1H[34h[?25h[?25l[30;75H399[4;1H[34h[?25h[?25l[30;77H8[3;1H[34h[?25h[?25l[30;77H7[2;1H[34h[?25h[?25l[30;77H6[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;1H[K[30;75H395,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H parseline(job->cmdline, argv);[30;75H[K[30;75H394,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H393,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[30;75H[K[30;75H392,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H391,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H390,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (WIFEXITED(status)) {[30;75H[K[30;75H389,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H388,0-1[7C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H387,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Get pointer to job struct[0m[30;75H[K[30;75H386,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[30;75H[K[30;75H385,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H384,0-1[7C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H383,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m status;[30;75H[K[30;75H382,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[30;75H[K[30;75H381,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {[30;75H[K[30;75H380,1[9C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H379,1[9C58%[1;1H[34h[?25h[?25l[30;76H80[2;1H[34h[?25h[?25l[30;77H1[3;1H[34h[?25h[?25l[30;77H2[4;1H[34h[?25h[?25l[30;77H3[5;1H[34h[?25h[?25l[30;77H4,0-1[6;1H[34h[?25h[?25l[30;77H5,1  [7;1H[34h[?25h[?25l[30;77H6[8;1H[34h[?25h[?25l[30;77H7[9;1H[34h[?25h[?25l[30;77H8,0-1[10;1H[34h[?25h[?25l[30;77H9,1  [11;1H[34h[?25h[?25l[30;76H90[12;1H[34h[?25h[?25l[30;77H1[13;1H[34h[?25h[?25l[30;77H2[14;1H[34h[?25h[?25l[30;77H3[15;1H[34h[?25h[?25l[30;77H4[16;1H[34h[?25h[?25l[30;77H5[17;1H[34h[?25h[?25l[30;77H6[18;1H[34h[?25h[?25l[30;77H7[19;1H[34h[?25h[?25l[30;77H8[20;1H[34h[?25h[?25l[30;77H9[21;1H[34h[?25h[?25l[30;75H400[22;1H[34h[?25h[?25l[30;77H1,0-1[23;1H[34h[?25h[?25l[30;77H2,1  [24;1H[34h[?25h[?25l[30;77H3[25;1H[34h[?25h[?25l[30;77H4[26;1H[34h[?25h[?25l[30;77H5[27;1H[34h[?25h[?25l[30;77H6[28;1H[34h[?25h[?25l[30;77H7[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H408,0-1[7C58%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[30;75H[K[30;75H409,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case stopped by signal[0m[30;75H[K[30;75H410,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H411,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H412,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;16H job->jid, job->pid, WSTOPSIG(status));[30;75H[K[30;75H413,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H414,1[9C59%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H415,0-1[7C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m [1m[33mif[0m (WIFCONTINUED(status)) {[30;75H[K[30;75H416,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Case process reporting continuation[0m[30;75H[K[30;75H417,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H418,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H } [1m[33melse[0m {[30;75H[K[30;75H419,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Else, unknown[0m[30;75H[K[30;75H420,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[30;75H[K[30;75H421,1[9C60%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H422,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H423,0-1[7C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H424,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H425,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H426,1[9C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H427,0-1[7C61%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H428,1[9C62%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * sigint_handler - The kernel sends a SIGINT to the shell whenever the[0m[30;75H[K[30;75H429,1[9C62%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *    user types ctrl-c at the keyboard.  Catch it and send it along[0m[30;75H[K[30;75H430,1[9C62%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *    to the foreground job.  [0m[30;75H[K[30;75H431,1[9C62%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H432,1[9C62%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig) {[30;75H[K[30;75H433,1[9C62%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid = fgpid(jobs);[30;75H[K[30;75H434,1[9C62%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Send interrupt signal[0m[30;75H[K[30;75H435,1[9C63%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H436,1[9C63%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H437,1[9C63%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[24;30H[46m{[29;1H}[0m[30;75H[K[30;75H438,1[9C63%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[23;30H{[28;1H}[30;75H[K[30;75H439,0-1[7C63%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/*[0m[30;75H[K[30;75H440,1[9C63%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * sigtstp_handler - The kernel sends a SIGTSTP to the shell whenever[0m[30;75H[K[30;75H441,1[9C64%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     the user types ctrl-z at the keyboard. Catch it and suspend the[0m[30;75H[K[30;75H442,1[9C64%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *     foreground job by sending it a SIGTSTP.  [0m[30;75H[K[30;75H443,1[9C64%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H444,1[9C64%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig) {[30;75H[K[30;75H445,1[9C64%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H pid_t pid = fgpid(jobs);[30;75H[K[30;75H446,1[9C64%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Send stop signal ([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m[30;75H[K[30;75H447,1[9C65%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H448,1[9C65%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H449,1[9C65%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[24;31H[46m{[29;1H}[0m[30;75H[K[30;75H450,1[9C65%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[23;31H{[28;1H}[30;75H[K[30;75H451,0-1[7C65%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/*********************[0m[30;75H[K[30;75H452,1[9C65%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * End signal handlers[0m[30;75H[K[30;75H453,1[9C65%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m *********************/[0m[30;75H[K[30;75H454,1[9C66%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H455,0-1[7C66%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/***********************************************[0m[30;75H[K[30;75H456,1[9C66%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Helper routines that manipulate the job list[0m[30;75H[K[30;75H457,1[9C66%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m **********************************************/[0m[30;75H[K[30;75H458,1[9C66%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H459,0-1[7C66%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* clearjob - Clear the entries in a job struct */[0m[30;75H[K[30;75H460,1[9C67%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job) {[30;75H[K[30;75H461,1[9C67%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H job->pid = [1m[35m0[0m;[30;75H[K[30;75H462,1[9C67%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H job->jid = [1m[35m0[0m;[30;75H[K[30;75H463,1[9C67%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H job->state = UNDEF;[30;75H[K[30;75H464,1[9C67%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H job->cmdline[[1m[35m0[0m] = [1m[31m'\0'[0m;[30;75H[K[30;75H465,1[9C67%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[24;34H[46m{[29;1H}[0m[30;75H[K[30;75H466,1[9C67%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[23;34H{[28;1H}[30;75H[K[30;75H467,0-1[7C68%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* initjobs - Initialize the job list */[0m[30;75H[K[30;75H468,1[9C68%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs) {[30;75H[K[30;75H469,1[9C68%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i;[30;75H[K[30;75H470,1[9C68%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H471,0-1[7C68%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H472,1[9C68%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H clearjob(&jobs[i]);[30;75H[K[30;75H473,1-4[7C69%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[24;35H[46m{[29;1H}[0m[30;75H[K[30;75H474,1[9C69%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[23;35H{[28;1H}[30;75H[K[30;75H475,0-1[7C69%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* maxjid - Returns largest allocated job ID */[0m[30;75H[K[30;75H476,1[9C69%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs)[30;75H[K[30;75H477,1[9C69%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H{[30;75H[K[30;75H478,1[9C69%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i, max=[1m[35m0[0m;[30;75H[K[30;75H479,1[9C69%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H480,0-1[7C70%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H481,1[9C70%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (jobs[i].jid > max)[30;75H[K[30;75H482,1-4[7C70%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H max = jobs[i].jid;[30;75H[K[30;75H483,1-4[7C70%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m max;[30;75H[K[30;75H484,1[9C70%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[22;1H[46m{[29;1H}[0m[30;75H[K[30;75H485,1[9C70%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[21;1H{[28;1H}[30;75H[K[30;75H486,0-1[7C71%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* addjob - Add a job to the job list */[0m[30;75H[K[30;75H487,1[9C71%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline)[30;75H[K[30;75H488,1[9C71%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H{[30;75H[K[30;75H489,1[9C71%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i;[30;75H[K[30;75H490,1[9C71%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H491,1[9C71%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (pid < [1m[35m1[0m)[30;75H[K[30;75H492,1[9C72%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H493,1-4[7C72%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H494,0-1[7C72%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++) {[30;75H[K[30;75H495,1[9C72%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (jobs[i].pid == [1m[35m0[0m) {[30;75H[K[30;75H496,1-4[7C72%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H jobs[i].pid = pid;[30;75H[K[30;75H497,1-4[7C72%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H jobs[i].state = state;[30;75H[K[30;75H498,1-4[7C72%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H jobs[i].jid = nextjid++;[30;75H[K[30;75H499,1-4[7C73%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (nextjid > MAXJOBS)[30;75H[K[30;75H500,1-4[7C73%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H nextjid = [1m[35m1[0m;[30;75H[K[30;75H501,1-4[7C73%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H strcpy(jobs[i].cmdline, cmdline);[30;75H[K[30;75H502,1-4[7C73%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m(verbose){[30;75H[K[30;75H503,1[9C73%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Added job [[0m[1m[31m%d[0m[1m[35m] [0m[1m[31m%d[0m[1m[35m [0m[1m[31m%s\n[0m[1m[35m"[0m, jobs[i].jid, jobs[i].pid, jobs[i].cmdline);[30;75H[K[30;75H504,1-4[7C73%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H }[30;75H[K[30;75H505,1[9C74%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H506,1[9C74%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H507,1-4[7C74%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H508,1[9C74%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H printf([1m[35m"Tried to create too many jobs[0m[1m[31m\n[0m[1m[35m"[0m);[30;75H[K[30;75H509,1[9C74%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H510,1[9C74%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[7;1H[46m{[29;1H}[0m[30;75H[K[30;75H511,1[9C74%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[6;1H{[28;1H}[30;75H[K[30;75H512,0-1[7C75%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* deletejob - Delete a job whose PID=pid from the job list */[0m[30;75H[K[30;75H513,1[9C75%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid)[30;75H[K[30;75H514,1[9C75%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H{[30;75H[K[30;75H515,1[9C75%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i;[30;75H[K[30;75H516,1[9C75%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H517,0-1[7C75%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (pid < [1m[35m1[0m)[30;75H[K[30;75H518,1[9C76%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H519,1-4[7C76%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H520,0-1[7C76%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++) {[30;75H[K[30;75H521,1[9C76%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (jobs[i].pid == pid) {[30;75H[K[30;75H522,1-4[7C76%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H clearjob(&jobs[i]);[30;75H[K[30;75H523,1-4[7C76%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H nextjid = maxjid(jobs)+[1m[35m1[0m;[30;75H[K[30;75H524,1-4[7C76%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H525,1-4[7C77%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H526,1-4[7C77%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H527,1[9C77%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H528,1[9C77%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[15;1H[46m{[29;1H}[0m[30;75H[K[30;75H529,1[9C77%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[14;1H{[28;1H}[30;75H[K[30;75H530,0-1[7C77%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* fgpid - Return PID of current foreground job, 0 if no such job */[0m[30;75H[K[30;75H531,1[9C78%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1Hpid_t fgpid([1m[32mstruct[0m job_t *jobs) {[30;75H[K[30;75H532,1[9C78%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i;[30;75H[K[30;75H533,1[9C78%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H534,0-1[7C78%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H535,1[9C78%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (jobs[i].state == FG)[30;75H[K[30;75H536,1-4[7C78%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mreturn[0m jobs[i].pid;[30;75H[K[30;75H537,1-4[7C79%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H538,1[9C79%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[22;33H[46m{[29;1H}[0m[30;75H[K[30;75H539,1[9C79%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[21;33H{[28;1H}[30;75H[K[30;75H540,0-1[7C79%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* getjobpid  - Find a job (by PID) on the job list */[0m[30;75H[K[30;75H541,1[9C79%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid) {[30;75H[K[30;75H542,1[9C79%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i;[30;75H[K[30;75H543,1[9C79%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H544,0-1[7C80%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (pid < [1m[35m1[0m)[30;75H[K[30;75H545,1[9C80%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35mNULL[0m;[30;75H[K[30;75H546,1-4[7C80%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H547,1[9C80%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (jobs[i].pid == pid)[30;75H[K[30;75H548,1-4[7C80%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mreturn[0m &jobs[i];[30;75H[K[30;75H549,1-4[7C80%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35mNULL[0m;[30;75H[K[30;75H550,1[9C81%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[20;56H[46m{[29;1H}[0m[30;75H[K[30;75H551,1[9C81%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[19;56H{[28;1H}[30;75H[K[30;75H552,0-1[7C81%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[1m[30m[43mgetjobjid[0m[1m[36m  - Find a job (by JID) on the job list */[0m[30;75H[K[30;75H553,1[9C81%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mstruct[0m job_t *[30m[43mgetjobjid[0m([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid)[30;75H[K[30;75H554,1[9C81%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H{[30;75H[K[30;75H555,1[9C81%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i;[30;75H[K[30;75H556,1[9C81%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H557,0-1[7C82%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (jid < [1m[35m1[0m)[30;75H[K[30;75H558,1[9C82%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35mNULL[0m;[30;75H[K[30;75H559,1-4[7C82%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H560,1[9C82%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (jobs[i].jid == jid)[30;75H[K[30;75H561,1-4[7C82%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mreturn[0m &jobs[i];[30;75H[K[30;75H562,1-4[7C82%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35mNULL[0m;[30;75H[K[30;75H563,1[9C83%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[20;1H[46m{[29;1H}[0m[30;75H[K[30;75H564,1[9C83%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[19;1H{[28;1H}[30;75H[K[30;75H565,0-1[7C83%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* pid2jid - Map process ID to job ID */[0m[30;75H[K[30;75H566,1[9C83%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mint[0m pid2jid(pid_t pid)[30;75H[K[30;75H567,1[9C83%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H{[30;75H[K[30;75H568,1[9C83%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i;[30;75H[K[30;75H569,1[9C83%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H570,0-1[7C84%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (pid < [1m[35m1[0m)[30;75H[K[30;75H571,1[9C84%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H572,1-4[7C84%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H573,1[9C84%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (jobs[i].pid == pid) {[30;75H[K[30;75H574,1-4[7C84%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mreturn[0m jobs[i].jid;[30;75H[K[30;75H575,1[9C84%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H576,1[9C85%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H577,1[9C85%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[19;1H[46m{[29;1H}[0m[30;75H[K[30;75H578,1[9C85%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[18;1H{[28;1H}[30;75H[K[30;75H579,0-1[7C85%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* listjobs - Print the job list */[0m[30;75H[K[30;75H580,1[9C85%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs)[30;75H[K[30;75H581,1[9C85%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H{[30;75H[K[30;75H582,1[9C86%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m i;[30;75H[K[30;75H583,1[9C86%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H584,1[9C86%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++) {[30;75H[K[30;75H585,1[9C86%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (jobs[i].pid != [1m[35m0[0m) {[30;75H[K[30;75H586,1-4[7C86%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) "[0m, jobs[i].jid, jobs[i].pid);[30;75H[K[30;75H587,1-4[7C86%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mswitch[0m (jobs[i].state) {[30;75H[K[30;75H588,1-4[7C86%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m BG:[30;75H[K[30;75H589,1-4[7C87%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Running "[0m);[30;75H[K[30;75H590,1-4[7C87%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mbreak[0m;[30;75H[K[30;75H591,1-4[7C87%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m FG:[30;75H[K[30;75H592,1-4[7C87%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Foreground "[0m);[30;75H[K[30;75H593,1-4[7C87%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mbreak[0m;[30;75H[K[30;75H594,1-4[7C87%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mcase[0m ST:[30;75H[K[30;75H595,1-4[7C88%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"Stopped "[0m);[30;75H[K[30;75H596,1-4[7C88%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H [1m[33mbreak[0m;[30;75H[K[30;75H597,1-4[7C88%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mdefault[0m:[30;75H[K[30;75H598,1-4[7C88%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"listjobs: Internal error: job[[0m[1m[31m%d[0m[1m[35m].state=[0m[1m[31m%d[0m[1m[35m "[0m,[30;75H[K[30;75H599,1-4[7C88%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;15H i, jobs[i].state);[30;75H[K[30;75H600,1-4[7C88%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H }[30;75H[K[30;75H601,1-4[7C88%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m"[0m, jobs[i].cmdline);[30;75H[K[30;75H602,1-4[7C89%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H603,1-4[7C89%[29;4H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H604,1[9C89%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[6;1H[46m{[29;1H}[0m[30;75H[K[30;75H605,1[9C89%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[5;1H{[28;1H}
[1m[36m/******************************[0m[30;75H[K[30;75H606,1[9C89%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * end job list helper routines[0m[30;75H[K[30;75H607,1[9C89%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m ******************************/[0m[30;75H[K[30;75H608,1[9C90%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H609,0-1[7C90%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H610,0-1[7C90%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/***********************[0m[30;75H[K[30;75H611,1[9C90%[29;1H[34h[?25h[?25l[30;77H0,0-1[28;1H[34h[?25h[?25l[30;76H09[27;1H[34h[?25h[?25l[30;77H8,1  [26;1H[34h[?25h[?25l[30;77H7[25;1H[34h[?25h[?25l[30;77H6[24;1H[34h[?25h[?25l[30;77H5[23;1H[34h[?25h[?25l[30;77H4[22;1H[34h[?25h[?25l[30;77H3,1-4[21;4H[34h[?25h[?25l[30;77H2[20;4H[34h[?25h[?25l[30;77H1[19;4H[34h[?25h[?25l[30;77H0[18;4H[34h[?25h[?25l[30;75H599[17;4H[34h[?25h[?25l[30;77H8[16;4H[34h[?25h[?25l[30;77H7[15;4H[34h[?25h[?25l[30;77H6[14;4H[34h[?25h[?25l[30;77H5[13;4H[34h[?25h[?25l[30;77H4[12;4H[34h[?25h[?25l[30;77H3[11;4H[34h[?25h[?25l[30;77H2[10;4H[34h[?25h[?25l[30;77H1[9;4H[34h[?25h[?25l[30;77H0[8;4H[34h[?25h[?25l[30;76H89[7;4H[34h[?25h[?25l[30;77H8[6;4H[34h[?25h[?25l[30;77H7[5;4H[34h[?25h[?25l[30;77H6[4;4H[34h[?25h[?25l[30;77H5,1  [3;1H[34h[?25h[?25l[30;77H4[2;1H[34h[?25h[?25l[30;77H3[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[46m{[24;1H}[0m[30;75H[K[30;75H582,1[9C90%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m listjobs([1m[32mstruct[0m job_t *jobs)
{[25;1H}[30;75H[K[30;75H581,1[9C90%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* listjobs - Print the job list */[0m[30;75H[K[30;75H580,1[9C90%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H579,0-1[7C89%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H578,1[9C89%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H577,1[9C89%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H576,1[9C89%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H [1m[33mreturn[0m jobs[i].jid;[30;75H[K[30;75H575,1[9C89%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (jobs[i].pid == pid) {[30;75H[K[30;75H574,1-4[7C89%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H573,1[9C88%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H572,1-4[7C88%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid < [1m[35m1[0m)[30;75H[K[30;75H571,1[9C88%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H570,0-1[7C88%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m i;[30;75H[K[30;75H569,1[9C88%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[46m{[11;1H}[0m[30;75H[K[30;75H568,1[9C88%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m pid2jid(pid_t pid)
{[12;1H}[30;75H[K[30;75H567,1[9C88%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* pid2jid - Map process ID to job ID */[0m[30;75H[K[30;75H566,1[9C87%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H565,0-1[7C87%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H564,1[9C87%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35mNULL[0m;[30;75H[K[30;75H563,1[9C87%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m &jobs[i];[30;75H[K[30;75H562,1-4[7C87%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (jobs[i].jid == jid)[30;75H[K[30;75H561,1-4[7C87%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H560,1[9C86%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35mNULL[0m;[30;75H[K[30;75H559,1-4[7C86%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (jid < [1m[35m1[0m)[30;75H[K[30;75H558,1[9C86%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H557,0-1[7C86%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m i;[30;75H[K[30;75H556,1[9C86%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[46m{[10;1H}[0m[30;75H[K[30;75H555,1[9C86%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mstruct[0m job_t *[30m[43mgetjobjid[0m([1m[32mstruct[0m job_t *jobs, [1m[32mint[0m jid)
{[11;1H}[30;75H[K[30;75H554,1[9C86%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[1m[30m[43mgetjobjid[0m[1m[36m  - Find a job (by JID) on the job list */[0m[30;75H[K[30;75H553,1[9C85%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H552,0-1[7C85%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H551,1[9C85%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35mNULL[0m;[30;75H[K[30;75H550,1[9C85%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m &jobs[i];[30;75H[K[30;75H549,1-4[7C85%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (jobs[i].pid == pid)[30;75H[K[30;75H548,1-4[7C85%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H547,1[9C84%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35mNULL[0m;[30;75H[K[30;75H546,1-4[7C84%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid < [1m[35m1[0m)[30;75H[K[30;75H545,1[9C84%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H544,0-1[7C84%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m i;[30;75H[K[30;75H543,1[9C84%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mstruct[0m job_t *getjobpid([1m[32mstruct[0m job_t *jobs, pid_t pid) {[30;75H[K[30;75H542,1[9C84%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* getjobpid  - Find a job (by PID) on the job list */[0m[30;75H[K[30;75H541,1[9C83%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H540,0-1[7C83%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H539,1[9C83%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H538,1[9C83%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m jobs[i].pid;[30;75H[K[30;75H537,1-4[7C83%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (jobs[i].state == FG)[30;75H[K[30;75H536,1-4[7C83%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H535,1[9C83%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H534,0-1[7C82%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m i;[30;75H[K[30;75H533,1[9C82%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1Hpid_t fgpid([1m[32mstruct[0m job_t *jobs) {[30;75H[K[30;75H532,1[9C82%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* fgpid - Return PID of current foreground job, 0 if no such job */[0m[30;75H[K[30;75H531,1[9C82%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H530,0-1[7C82%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H529,1[9C82%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H528,1[9C81%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H527,1[9C81%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H526,1-4[7C81%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H525,1-4[7C81%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H nextjid = maxjid(jobs)+[1m[35m1[0m;[30;75H[K[30;75H524,1-4[7C81%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H clearjob(&jobs[i]);[30;75H[K[30;75H523,1-4[7C81%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (jobs[i].pid == pid) {[30;75H[K[30;75H522,1-4[7C81%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++) {[30;75H[K[30;75H521,1[9C80%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H520,0-1[7C80%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H519,1-4[7C80%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid < [1m[35m1[0m)[30;75H[K[30;75H518,1[9C80%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H517,0-1[7C80%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m i;[30;75H[K[30;75H516,1[9C80%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[46m{[15;1H}[0m[30;75H[K[30;75H515,1[9C79%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m deletejob([1m[32mstruct[0m job_t *jobs, pid_t pid)
{[16;1H}[30;75H[K[30;75H514,1[9C79%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* deletejob - Delete a job whose PID=pid from the job list */[0m[30;75H[K[30;75H513,1[9C79%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H512,0-1[7C79%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H511,1[9C79%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H510,1[9C79%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H printf([1m[35m"Tried to create too many jobs[0m[1m[31m\n[0m[1m[35m"[0m);[30;75H[K[30;75H509,1[9C79%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H508,1[9C78%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H507,1-4[7C78%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H [1m[33mreturn[0m [1m[35m1[0m;[30;75H[K[30;75H506,1[9C78%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H }[30;75H[K[30;75H505,1[9C78%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Added job [[0m[1m[31m%d[0m[1m[35m] [0m[1m[31m%d[0m[1m[35m [0m[1m[31m%s\n[0m[1m[35m"[0m, jobs[i].jid, jobs[i].pid, jobs[i].cmdline);[30;75H[K[30;75H504,1-4[7C78%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m(verbose){[30;75H[K[30;75H503,1[9C78%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H strcpy(jobs[i].cmdline, cmdline);[30;75H[K[30;75H502,1-4[7C77%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H nextjid = [1m[35m1[0m;[30;75H[K[30;75H501,1-4[7C77%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (nextjid > MAXJOBS)[30;75H[K[30;75H500,1-4[7C77%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H jobs[i].jid = nextjid++;[30;75H[K[30;75H499,1-4[7C77%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H jobs[i].state = state;[30;75H[K[30;75H498,1-4[7C77%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H jobs[i].pid = pid;[30;75H[K[30;75H497,1-4[7C77%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (jobs[i].pid == [1m[35m0[0m) {[30;75H[K[30;75H496,1-4[7C76%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++) {[30;75H[K[30;75H495,1[9C76%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H494,0-1[7C76%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m [1m[35m0[0m;[30;75H[K[30;75H493,1-4[7C76%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid < [1m[35m1[0m)[30;75H[K[30;75H492,1[9C76%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H491,1[9C76%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m i;[30;75H[K[30;75H490,1[9C76%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[46m{[23;1H}[0m[30;75H[K[30;75H489,1[9C75%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m addjob([1m[32mstruct[0m job_t *jobs, pid_t pid, [1m[32mint[0m state, [1m[32mchar[0m *cmdline)
{[24;1H}[30;75H[K[30;75H488,1[9C75%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* addjob - Add a job to the job list */[0m[30;75H[K[30;75H487,1[9C75%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H486,0-1[7C75%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H485,1[9C75%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m max;[30;75H[K[30;75H484,1[9C75%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H max = jobs[i].jid;[30;75H[K[30;75H483,1-4[7C74%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (jobs[i].jid > max)[30;75H[K[30;75H482,1-4[7C74%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H481,1[9C74%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H480,0-1[7C74%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m i, max=[1m[35m0[0m;[30;75H[K[30;75H479,1[9C74%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[46m{[8;1H}[0m[30;75H[K[30;75H478,1[9C74%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mint[0m maxjid([1m[32mstruct[0m job_t *jobs)
{[9;1H}[30;75H[K[30;75H477,1[9C74%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* maxjid - Returns largest allocated job ID */[0m[30;75H[K[30;75H476,1[9C73%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H475,0-1[7C73%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H474,1[9C73%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H clearjob(&jobs[i]);[30;75H[K[30;75H473,1-4[7C73%[1;4H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mfor[0m (i = [1m[35m0[0m; i < MAXJOBS; i++)[30;75H[K[30;75H472,1[9C73%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H471,0-1[7C73%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m i;[30;75H[K[30;75H470,1[9C72%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m initjobs([1m[32mstruct[0m job_t *jobs) {[30;75H[K[30;75H469,1[9C72%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* initjobs - Initialize the job list */[0m[30;75H[K[30;75H468,1[9C72%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H467,0-1[7C72%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H466,1[9C72%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H job->cmdline[[1m[35m0[0m] = [1m[31m'\0'[0m;[30;75H[K[30;75H465,1[9C72%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H job->state = UNDEF;[30;75H[K[30;75H464,1[9C72%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H job->jid = [1m[35m0[0m;[30;75H[K[30;75H463,1[9C71%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H job->pid = [1m[35m0[0m;[30;75H[K[30;75H462,1[9C71%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m clearjob([1m[32mstruct[0m job_t *job) {[30;75H[K[30;75H461,1[9C71%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* clearjob - Clear the entries in a job struct */[0m[30;75H[K[30;75H460,1[9C71%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H459,0-1[7C71%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m **********************************************/[0m[30;75H[K[30;75H458,1[9C71%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Helper routines that manipulate the job list[0m[30;75H[K[30;75H457,1[9C70%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/***********************************************[0m[30;75H[K[30;75H456,1[9C70%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H455,0-1[7C70%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *********************/[0m[30;75H[K[30;75H454,1[9C70%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * End signal handlers[0m[30;75H[K[30;75H453,1[9C70%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*********************[0m[30;75H[K[30;75H452,1[9C70%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H451,0-1[7C69%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H450,1[9C69%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H449,1[9C69%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H448,1[9C69%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Send stop signal ([0m[30m[43mTODO[0m[1m[36m: send to group id)[0m[30;75H[K[30;75H447,1[9C69%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid = fgpid(jobs);[30;75H[K[30;75H446,1[9C69%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigtstp_handler([1m[32mint[0m sig) {[30;75H[K[30;75H445,1[9C69%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H444,1[9C68%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     foreground job by sending it a SIGTSTP.  [0m[30;75H[K[30;75H443,1[9C68%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     the user types ctrl-z at the keyboard. Catch it and suspend the[0m[30;75H[K[30;75H442,1[9C68%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigtstp_handler - The kernel sends a SIGTSTP to the shell whenever[0m[30;75H[K[30;75H441,1[9C68%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*[0m[30;75H[K[30;75H440,1[9C68%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H439,0-1[7C68%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H438,1[9C67%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H437,1[9C67%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (pid != [1m[35m0[0m) killpg(pid, sig);[30;75H[K[30;75H436,1[9C67%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Send interrupt signal[0m[30;75H[K[30;75H435,1[9C67%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid = fgpid(jobs);[30;75H[K[30;75H434,1[9C67%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigint_handler([1m[32mint[0m sig) {[30;75H[K[30;75H433,1[9C67%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H432,1[9C67%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    to the foreground job.  [0m[30;75H[K[30;75H431,1[9C66%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *    user types ctrl-c at the keyboard.  Catch it and send it along[0m[30;75H[K[30;75H430,1[9C66%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigint_handler - The kernel sends a SIGINT to the shell whenever the[0m[30;75H[K[30;75H429,1[9C66%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H428,1[9C66%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H427,0-1[7C66%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H426,1[9C66%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H425,1[9C65%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H424,1[9C65%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H423,0-1[7C65%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H422,1[9C65%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Unhandled status change: ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%d\n[0m[1m[35m"[0m, pid, status);[30;75H[K[30;75H421,1[9C65%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Else, unknown[0m[30;75H[K[30;75H420,1[9C65%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H419,1[9C65%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H418,1[9C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case process reporting continuation[0m[30;75H[K[30;75H417,1[9C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFCONTINUED(status)) {[30;75H[K[30;75H416,1[9C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H415,0-1[7C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H job->state = ST; [1m[36m// Stopped[0m[30;75H[K[30;75H414,1[9C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H job->jid, job->pid, WSTOPSIG(status));[30;75H[K[30;75H413,1[9C64%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) stopped by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H412,1[9C63%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H411,1[9C63%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case stopped by signal[0m[30;75H[K[30;75H410,1[9C63%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFSTOPPED(status)) {[30;75H[K[30;75H409,1[9C63%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H408,0-1[7C63%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H407,1[9C63%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H job->jid, job->pid, WTERMSIG(status));[30;75H[K[30;75H406,1[9C62%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"Job [[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) terminated by signal [0m[1m[31m%d\n[0m[1m[35m"[0m,[30;75H[K[30;75H405,1[9C62%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H404,1[9C62%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case terminated to signal[0m[30;75H[K[30;75H403,1[9C62%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m [1m[33mif[0m (WIFSIGNALED(status)) {[30;75H[K[30;75H402,1[9C62%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H401,0-1[7C62%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H deletejob(jobs, pid); [1m[36m// Job reaped, remove from jobs list[0m[30;75H[K[30;75H400,1[9C62%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H }[30;75H[K[30;75H399,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[36m//    WEXITSTATUS(status));[0m[30;75H[K[30;75H398,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[36m//printf("Process exited normally with return value of %d\n", [0m[30;75H[K[30;75H397,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H }  [1m[33melse[0m {[30;75H[K[30;75H396,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: Command not found[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H395,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H parseline(job->cmdline, argv);[30;75H[K[30;75H394,1[9C61%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;16H [1m[32mchar[0m *argv[MAXARGS];[30;75H[K[30;75H393,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H [1m[33mif[0m (WEXITSTATUS(status) == NOTFOUND) {[30;75H[K[30;75H392,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H391,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Case exited normally[0m[30;75H[K[30;75H390,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (WIFEXITED(status)) {[30;75H[K[30;75H389,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H388,0-1[7C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H387,1[9C60%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[36m// Get pointer to job struct[0m[30;75H[K[30;75H386,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m ((pid = waitpid(-[1m[35m1[0m, &status, WNOHANG | WUNTRACED | WCONTINUED)) > [1m[35m0[0m) {[30;75H[K[30;75H385,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H384,0-1[7C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job;[30;75H[K[30;75H383,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m status;[30;75H[K[30;75H382,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H pid_t pid;[30;75H[K[30;75H381,1[9C59%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {[30;75H[K[30;75H380,1[9C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H379,1[9C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     currently running children to terminate.  [0m[30;75H[K[30;75H378,1[9C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     available zombie children, but doesn't wait for any other[0m[30;75H[K[30;75H377,1[9C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     received a SIGSTOP or SIGTSTP signal. The handler reaps all[0m[30;75H[K[30;75H376,1[9C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *     a child job terminates (becomes a zombie), or stops because it[0m[30;75H[K[30;75H375,1[9C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever[0m[30;75H[K[30;75H374,1[9C58%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H373,1[9C57%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H372,0-1[7C57%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m *****************/[0m[30;75H[K[30;75H371,1[9C57%[1;1H[34h[?25h[?25l[30;77H2,0-1[2;1H[34h[?25h[?25l[30;77H1,1  [1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * Signal handlers[0m[30;75H[K[30;75H370,1[9C57%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/*****************[0m[30;75H[K[30;75H369,1[9C57%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H368,0-1[7C57%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H367,1[9C56%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H366,1[9C56%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H365,1[9C56%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m[30;75H[K[30;75H364,1[9C56%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mwhile[0m (job->state == FG) {[30;75H[K[30;75H363,1[9C56%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);[30;75H[K[30;75H362,1[9C56%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H361,1[9C55%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m */[0m[30;75H[K[30;75H360,1[9C55%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H359,1[9C55%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H[1m[36m/* [0m[30;75H[K[30;75H358,1[9C55%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H357,0-1[7C55%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;1H}[30;75H[K[30;75H356,1[9C55%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mreturn[0m;[30;75H[K[30;75H355,1[9C55%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (!bg) waitfg(job->pid);[9C [1m[36m// Wait if foreground process[0m[30;75H[K[30;75H354,1[9C54%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H353,1[9C54%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H killpg(job->pid, [1m[35mSIGCONT[0m);      [1m[36m// Send SIGCONT to process group if needed[0m[30;75H[K[30;75H352,1[9C54%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (needcont) {[30;75H[K[30;75H351,1[9C54%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H job->state = bg ? BG : FG;[9C [1m[36m// Change state first to avoid race condition[0m[30;75H[K[30;75H350,1[9C54%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m needcont = (job->state == ST);  [1m[36m// Check if a SIGCONT is needed[0m[30;75H[K[30;75H349,1[9C54%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Finish up[0m[30;75H[K[30;75H348,1[9C53%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H347,0-1[7C53%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H346,1[9C53%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H345,1[9C53%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m cannot be used on a foreground process![0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H344,1[9C53%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (job->state == FG) {[30;75H[K[30;75H343,1[9C53%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check for strange condition[0m[30;75H[K[30;75H342,1[9C53%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H341,0-1[7C52%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H340,1[9C52%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H339,1[9C52%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H338,1[9C52%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H337,1[9C52%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H336,1[9C52%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H335,1[9C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (isjob) {[30;75H[K[30;75H334,1[9C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H333,1[9C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check if job exists[0m[30;75H[K[30;75H332,1[9C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H331,0-1[7C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H330,1[9C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = getjobpid(jobs, id);[30;75H[K[30;75H329,1[9C51%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H } [1m[33melse[0m {[30;75H[K[30;75H328,1[9C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H job = [30m[43mgetjobjid[0m(jobs, id);[30;75H[K[30;75H327,1[9C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (isjob) {[30;75H[K[30;75H326,1[9C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mstruct[0m job_t *job = [1m[35mNULL[0m;[30;75H[K[30;75H325,1[9C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Get the job from the job id or process id[0m[30;75H[K[30;75H324,1[9C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H323,0-1[7C50%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H322,1[9C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H321,1[9C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H }[30;75H[K[30;75H320,1[9C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H319,1[9C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H } [1m[33melse[0m {[30;75H[K[30;75H318,1[9C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H317,1[9C49%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mif[0m (isjob) {[30;75H[K[30;75H316,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (success != [1m[35m1[0m) {[30;75H[K[30;75H315,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check if argument is a valid number[0m[30;75H[K[30;75H314,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H313,0-1[7C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m success = sscanf(number, [1m[35m"[0m[1m[31m%u%c[0m[1m[35m"[0m, &id, &trash); [1m[36m// Unsigned integer[0m[30;75H[K[30;75H312,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m trash = [1m[35m0[0m;[30;75H[K[30;75H311,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m id = [1m[35m0[0m;[30;75H[K[30;75H310,1[9C48%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check for a valid unsigned int with no trailing characters[0m[30;75H[K[30;75H309,1[9C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H308,0-1[7C47%[1;1H[34h[?25h[?25l[30;77H9,1  [2;1H[34h[?25h[?25l[30;76H10[3;1H[34h[?25h[?25l[30;77H1[4;1H[34h[?25h[?25l[30;77H2[5;1H[34h[?25h[?25l[30;77H3,0-1[6;1H[34h[?25h[?25l[30;77H4,1  [7;1H[34h[?25h[?25l[30;77H5[8;1H[34h[?25h[?25l[30;77H6[9;1H[34h[?25h[?25l[30;77H7[10;1H[34h[?25h[?25l[30;77H8[11;1H[34h[?25h[?25l[30;77H9[12;1H[34h[?25h[?25l[30;76H20[13;1H[34h[?25h[?25l[30;77H1[14;1H[34h[?25h[?25l[30;77H2[15;1H[34h[?25h[?25l[30;77H3,0-1[16;1H[34h[?25h[?25l[30;77H4,1  [17;1H[34h[?25h[?25l[30;77H5[18;1H[34h[?25h[?25l[30;77H4[17;1H[34h[?25h[?25l[30;77H3,0-1[16;1H[34h[?25h[?25l[30;77H2,1  [15;1H[34h[?25h[?25l[30;77H1[14;1H[34h[?25h[?25l[30;77H0[13;1H[34h[?25h[?25l[30;76H19[12;1H[34h[?25h[?25l[30;77H8[11;1H[34h[?25h[?25l[30;77H7[10;1H[34h[?25h[?25l[30;77H6[9;1H[34h[?25h[?25l[30;77H5[8;1H[34h[?25h[?25l[30;77H4[7;1H[34h[?25h[?25l[30;77H3,0-1[6;1H[34h[?25h[?25l[30;77H2,1  [5;1H[34h[?25h[?25l[30;77H1[4;1H[34h[?25h[?25l[30;77H0[3;1H[34h[?25h[?25l[30;76H09[2;1H[34h[?25h[?25l[30;77H8,0-1[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H307,1[9C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H number = &argv[[1m[35m1[0m][[1m[35m1[0m]; [1m[36m// Remove leading '%'[0m[30;75H[K[30;75H306,1[9C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H isjob = [1m[35m1[0m;[30;75H[K[30;75H305,1[9C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[33mif[0m (*(argv[[1m[35m1[0m]) == [1m[35m'%'[0m) {[30;75H[K[30;75H304,1[9C47%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mchar[0m *number = argv[[1m[35m1[0m];[30;75H[K[30;75H303,1[9C46%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[32mint[0m isjob = [1m[35m0[0m;[30;75H[K[30;75H302,1[9C46%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H [1m[36m// Check if using job syntax[0m[30;75H[K[30;75H301,1[9C46%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[30;75H[K[30;75H300,1[9C46%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;4H }[30;75H[K[30;75H299,1[9C46%[1;1H[34h[?25h[?25l[1;29r[1;1H[L[1;30r[1;8H [1m[33mreturn[0m;[30;75H[K[30;75H298,1[9C46%[1;1H[34h[?25h[?25l[30;77H9[2;1H[34h[?25h[?25l[30;75H300[3;1H[34h[?25h[?25l[30;77H1[4;1H[34h[?25h[?25l[30;77H2[5;1H[34h[?25h[?25l[30;77H3[6;1H[34h[?25h[?25l[30;77H4[7;1H[34h[?25h[?25l[30;77H5[8;1H[34h[?25h[?25l[30;77H6[9;1H[34h[?25h[?25l[30;77H7[10;1H[34h[?25h[?25l[30;77H8,0-1[11;1H[34h[?25h[?25l[30;77H9,1  [12;1H[34h[?25h[?25l[30;76H10[13;1H[34h[?25h[?25l[30;77H1[14;1H[34h[?25h[?25l[30;77H2[15;1H[34h[?25h[?25l[30;77H3,0-1[16;1H[34h[?25h[?25l[30;77H4,1  [17;1H[34h[?25h[?25l[30;77H5[18;1H[34h[?25h[?25l[30;77H6[19;1H[34h[?25h[?25l[30;77H7[20;1H[34h[?25h[?25l[30;77H8[21;1H[34h[?25h[?25l[30;77H9[22;1H[34h[?25h[?25l[30;76H20[23;1H[34h[?25h[?25l[30;77H1[24;1H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H321,1[9C46%[24;1H[34h[?25h[?25l[30;77H0[23;1H[34h[?25h[?25l[30;76H19[22;1H[34h[?25h[?25l[30;77H8[21;1H[34h[?25h[?25l[30;77H7[20;1H[34h[?25h[?25l[30;77H6[19;1H[34h[?25h[?25l       [1m[33mif[0m (isjob) {[19;20H[K[19;1H[34h[?25h[?25l      [1m[33mif[0m (isjob) {[19;19H[K[19;1H[34h[?25h[?25l     [1m[33mif[0m (isjob) {[19;18H[K[19;1H[34h[?25h[?25l    [1m[33mif[0m (isjob) {[19;17H[K[19;1H[34h[?25h[?25l   [1m[33mif[0m (isjob) {[19;16H[K[19;1H[34h[?25h[?25l  [1m[33mif[0m (isjob) {[19;15H[K[19;1H[34h[?25h[?25l [1m[33mif[0m (isjob) {[19;14H[K[19;1H[34h[?25h[?25l[1m[33mif[0m (isjob) {[19;13H[K[19;1H[34h[?25h[?25lf (isjob) {[19;12H[K[19;1H[34h[?25h[?25l (isjob) {[19;11H[K[19;1H[34h[?25h[?25l(isjob) {[19;10H[K[19;1H[46m([0misjob[46m)[34h[?25h[?25li[0msjob[1m[37m[41m)[0m[46m [0m{[19;9H[K[19;1Hi[5C [34h[?25h[?25lsjob[1m[37m[41m)[0m {[19;8H[K[19;1H[34h[?25h[?25ljob[1m[37m[41m)[0m {[19;7H[K[19;1H[34h[?25h[?25lob[1m[37m[41m)[0m {[19;6H[K[19;1H[34h[?25h[?25lb[1m[37m[41m)[0m {[19;5H[K[19;1H[34h[?25h[?25l[1m[37m[41m)[0m {[19;4H[K[19;1H[34h[?25h[?25l {[19;3H[K[19;1H[34h[?25h[?25l{[19;2H[K[19;1H[46m{[21;9H}[19;1H[34h[?25h[?25l[0m[19;1H[K[21;9H}[19;1H[34h[?25h[?25l[19;29r[29;1H
[1;30r[29;8H job = [30m[43mgetjobjid[0m(jobs, id);[30;75H[K[30;75H316,1[9C46%[19;1H[34h[?25h[?25l[10C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;83H[K[19;1H[34h[?25h[?25l[9C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;82H[K[19;1H[34h[?25h[?25l[8C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;81H[K[19;1H[34h[?25h[?25l[7C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;80H[K[19;1H[34h[?25h[?25l       printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;79H[K[19;1H[34h[?25h[?25l      printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;78H[K[19;1H[34h[?25h[?25l     printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;77H[K[19;1H[34h[?25h[?25l    printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;76H[K[19;1H[34h[?25h[?25l   printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;75H[K[19;1H[34h[?25h[?25l  printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;74H[K[19;1H[34h[?25h[?25l printf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;73H[K[19;1H[34h[?25h[?25lprintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;72H[K[19;1H[34h[?25h[?25lrintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;71H[K[19;1H[34h[?25h[?25lintf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;70H[K[19;1H[34h[?25h[?25lntf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;69H[K[19;1H[34h[?25h[?25ltf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;68H[K[19;1H[34h[?25h[?25lf([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;67H[K[19;1H[34h[?25h[?25l([1m[35m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;66H[K[19;1H[46m([62C)[34h[?25h[?25l[0m[1m[35m[46m"[0m[1m[31m%s[0m[1m[35m [0m[1m[31m%%[0m[1m[35mjobid must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m][1m[37m[41m)[0m[46m;[0m[19;65H[K[19;1H[1m[35m"[0m[62C;[34h[?25h[?25l%s %%jobid must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;64H[K[19;1H[34h[?25h[?25ls %%jobid must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;63H[K[19;1H[34h[?25h[?25l %%jobid must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;62H[K[19;1H[34h[?25h[?25l%%jobid must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;61H[K[19;1H[34h[?25h[?25l%jobid must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;60H[K[19;1H[34h[?25h[?25ljobid must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;59H[K[19;1H[34h[?25h[?25lobid must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;58H[K[19;1H[34h[?25h[?25lbid must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;57H[K[19;1H[34h[?25h[?25lid must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;56H[K[19;1H[34h[?25h[?25ld must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;55H[K[19;1H[34h[?25h[?25l must use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;54H[K[19;1H[34h[?25h[?25lmust use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;53H[K[19;1H[34h[?25h[?25lust use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;52H[K[19;1H[34h[?25h[?25lst use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;51H[K[19;1H[34h[?25h[?25lt use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;50H[K[19;1H[34h[?25h[?25l use an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;49H[K[19;1H[34h[?25h[?25luse an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;48H[K[19;1H[34h[?25h[?25lse an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;47H[K[19;1H[34h[?25h[?25le an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;46H[K[19;1H[34h[?25h[?25l an [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;45H[K[19;1H[34h[?25h[?25lan [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;44H[K[19;1H[34h[?25h[?25ln [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;43H[K[19;1H[34h[?25h[?25l [1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;42H[K[19;1H[34h[?25h[?25l[1m[32munsigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;41H[K[19;1H[34h[?25h[?25lnsigned integral argument\n[1m[35m", argv[0]);[0m[19;40H[K[19;1H[34h[?25h[?25l[1m[32msigned[0m integral argument\n[1m[35m", argv[0]);[0m[19;39H[K[19;1H[34h[?25h[?25ligned integral argument\n[1m[35m", argv[0]);[0m[19;38H[K[19;1H[34h[?25h[?25lgned integral argument\n[1m[35m", argv[0]);[0m[19;37H[K[19;1H[34h[?25h[?25lned integral argument\n[1m[35m", argv[0]);[0m[19;36H[K[19;1H[34h[?25h[?25led integral argument\n[1m[35m", argv[0]);[0m[19;35H[K[19;1H[34h[?25h[?25ld integral argument\n[1m[35m", argv[0]);[0m[19;34H[K[19;1H[34h[?25h[?25l integral argument\n[1m[35m", argv[0]);[0m[19;33H[K[19;1H[34h[?25h[?25lintegral argument\n[1m[35m", argv[0]);[0m[19;32H[K[19;1H[34h[?25h[?25lntegral argument\n[1m[35m", argv[0]);[0m[19;31H[K[19;1H[34h[?25h[?25ltegral argument\n[1m[35m", argv[0]);[0m[19;30H[K[19;1H[34h[?25h[?25legral argument\n[1m[35m", argv[0]);[0m[19;29H[K[19;1H[34h[?25h[?25lgral argument\n[1m[35m", argv[0]);[0m[19;28H[K[19;1H[34h[?25h[?25lral argument\n[1m[35m", argv[0]);[0m[19;27H[K[19;1H[34h[?25h[?25lal argument\n[1m[35m", argv[0]);[0m[19;26H[K[19;1H[34h[?25h[?25ll argument\n[1m[35m", argv[0]);[0m[19;25H[K[19;1H[34h[?25h[?25l argument\n[1m[35m", argv[0]);[0m[19;24H[K[19;1H[34h[?25h[?25largument\n[1m[35m", argv[0]);[0m[19;23H[K[19;1H[34h[?25h[?25lrgument\n[1m[35m", argv[0]);[0m[19;22H[K[19;1H[34h[?25h[?25lgument\n[1m[35m", argv[0]);[0m[19;21H[K[19;1H[34h[?25h[?25lument\n[1m[35m", argv[0]);[0m[19;20H[K[19;1H[34h[?25h[?25lment\n[1m[35m", argv[0]);[0m[19;19H[K[19;1H[34h[?25h[?25lent\n[1m[35m", argv[0]);[0m[19;18H[K[19;1H[34h[?25h[?25lnt\n[1m[35m", argv[0]);[0m[19;17H[K[19;1H[34h[?25h[?25lt\n[1m[35m", argv[0]);[0m[19;16H[K[19;1H[34h[?25h[?25l\n[1m[35m", argv[0]);[0m[19;15H[K[19;1H[34h[?25h[?25ln[1m[35m", argv[0]);[0m[19;14H[K[19;1H[34h[?25h[?25l[1m[35m", argv[0]);[0m[19;13H[K[19;1H[34h[?25h[?25l, argv[[1m[35m0[0m][1m[37m[41m)[0m;[19;12H[K[19;1H[34h[?25h[?25l argv[[1m[35m0[0m][1m[37m[41m)[0m;[19;11H[K[19;1H[34h[?25h[?25largv[[1m[35m0[0m][1m[37m[41m)[0m;[19;10H[K[19;1H[34h[?25h[?25lrgv[[1m[35m0[0m][1m[37m[41m)[0m;[19;9H[K[19;1H[34h[?25h[?25lgv[[1m[35m0[0m][1m[37m[41m)[0m;[19;8H[K[19;1H[34h[?25h[?25lv[[1m[35m0[0m][1m[37m[41m)[0m;[19;7H[K[19;1H[34h[?25h[?25l[[1m[35m0[0m][1m[37m[41m)[0m;[19;6H[K[19;1H[46m[[1C][34h[?25h[?25l[0m[1m[35m[46m0[0m[1m[37m[41m][0m[1m[37m[46m)[0m;[19;5H[K[19;1H[1m[35m0[0m[1C[1m[37m[41m)[34h[?25h[?25l])[0m;[19;4H[K[19;1H[34h[?25h[?25l[1m[37m[41m)[0m;[19;3H[K[19;1H[34h[?25h[?25l;[19;2H[K[19;1H[34h[?25h[?25l[19;1H[K[19;1H[34h[?25h[?25l[19;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H316,1[9C46%[19;1H[34h[?25h[?25l       } [1m[33melse[0m {[19;16H[K[19;1H[34h[?25h[?25l      } [1m[33melse[0m {[19;15H[K[19;1H[34h[?25h[?25l     } [1m[33melse[0m {[19;14H[K[19;1H[34h[?25h[?25l    } [1m[33melse[0m {[19;13H[K[19;1H[34h[?25h[?25l   } [1m[33melse[0m {[19;12H[K[19;1H[34h[?25h[?25l  } [1m[33melse[0m {[19;11H[K[19;1H[34h[?25h[?25l } [1m[33melse[0m {[19;10H[K[19;1H[34h[?25h[?25l} [1m[33melse[0m {[19;9H[K[18;23H[46m{
}[34h[?25h[?25l [0m[1m[33melse[0m {[19;8H[K[18;23H{
 [34h[?25h3 [?25l[1m[33melse[0m {[19;7H[K[19;1H[34h[?25h[?25llse {[19;6H[K[19;1H[34h[?25h[?25lse {[19;5H[K[19;1H[34h[?25h[?25le {[19;4H[K[19;1H[34h[?25h[?25l {[19;3H[K[19;1H[34h[?25h[?25l{[19;2H[K[19;1H[46m{[21;9H}[19;1H[34h[?25h[?25l[0m[19;1H[K[21;9H}[19;1H[34h[?25h[?25l[19;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, id);[30;75H[K[30;75H316,1[9C46%[19;1H[34h[?25h[?25l[10C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;79H[K[19;1H[34h[?25h[?25l[9C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;78H[K[19;1H[34h[?25h[?25l[8C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;77H[K[19;1H[34h[?25h[?25l[7C printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;76H[K[19;1H[34h[?25h[?25l       printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;75H[K[19;1H[34h[?25h[?25l      printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;74H[K[19;1H[34h[?25h[?25l     printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;73H[K[19;1H[34h[?25h[?25l         printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H5[19;5H[34h[?25h[?25l[30;77H7[20;5H[34h[?25h[?25l   }[20;9H[K[20;5H[34h[?25h[?25l  }[20;8H[K[20;5H[34h[?25h[?25l }[20;7H[K[20;5H[34h[?25h[?25l }[20;6H[K[18;23H[46m{[20;5H}[34h[?25h[?25l[0m[20;5H[K[18;23H{[20;5H[34h[?25h[?25l[20;29r[29;1H
[1;30r[20;8H     [1m[33mreturn[0m;[29;4H }[30;75H[K[30;75H317,5[9C46%[20;5H[34h[?25h[?25l       [1m[33mreturn[0m;[20;19H[K[20;5H[34h[?25h[?25l      [1m[33mreturn[0m;[20;18H[K[20;5H[34h[?25h[?25l     [1m[33mreturn[0m;[20;17H[K[20;5H[34h[?25h[?25l[30;77H6[19;5H[34h[?25h[?25l    printf([1m[35m"[0m[1m[31m%s[0m[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;76H[K[19;5H[34h[?25h[?25l[30;77H7[20;5H[34h[?25h[?25l    [1m[33mreturn[0m;[20;16H[K[20;5H[34h[?25h[?25l[30;77H6[19;5H[34h[?25h[?25l[30;79H6[19;6H[34h[?25h[?25l[30;79H7[19;7H[34h[?25h[?25l[30;79H8[19;8H[34h[?25h[?25l[30;79H9[19;9H[34h[?25h[?25l[30;79H10[19;10H[34h[?25h[?25l[30;80H1[19;11H[34h[?25h[?25l[30;80H2[19;12H[34h[?25h[?25l[30;80H3[19;13H[34h[?25h[?25l[30;80H4[19;14H[34h[?25h[?25lf[46m([58C)[0m[30;80H5[19;15H[34h[?25h[?25l[30;80H6[19;16H[34h[?25h[?25l([58C)[30;80H7[19;17H[34h[?25h[?25l[30;80H8[19;18H[34h[?25h[?25l[30;80H7[19;17H[34h[?25h[?25l[30;80H8[19;18H[34h[?25h[?25l[30;80H9[19;19H[34h[?25h[?25l[1m[31ms[0m[1m[35m: PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H20[19;20H[34h[?25h[?25l[1m[35m  PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[19;21H[34h[?25h[?25l[1m[35m PID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;77H[K[19;21H[34h[?25h[?25l[1m[35m ID must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;76H[K[19;21H[34h[?25h[?25l[1m[35m D must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;75H[K[19;21H[34h[?25h[?25l[1m[35m  must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;74H[K[19;21H[34h[?25h[?25l[1m[35m must use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;73H[K[19;21H[34h[?25h[?25l[1m[35m ust use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;72H[K[19;21H[34h[?25h[?25l[1m[35m st use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;71H[K[19;21H[34h[?25h[?25l[1m[35m t use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;70H[K[19;21H[34h[?25h[?25l[1m[35m  use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;69H[K[19;21H[34h[?25h[?25l[1m[35m use an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;68H[K[19;21H[34h[?25h[?25l[1m[35m se an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;67H[K[19;21H[34h[?25h[?25l[1m[35m e an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;66H[K[19;21H[34h[?25h[?25l[1m[35m  an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;65H[K[19;21H[34h[?25h[?25l[1m[35m an unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;64H[K[19;21H[34h[?25h[?25l[1m[35m n unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;63H[K[19;21H[34h[?25h[?25l[1m[35m  unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;62H[K[19;21H[34h[?25h[?25l[1m[35m unsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;61H[K[19;21H[34h[?25h[?25l[1m[35m nsigned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;60H[K[19;21H[34h[?25h[?25l[1m[35m signed integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;59H[K[19;21H[34h[?25h[?25l[1m[35m igned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;58H[K[19;21H[34h[?25h[?25l[1m[35m gned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;57H[K[19;21H[34h[?25h[?25l[1m[35m ned integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;56H[K[19;21H[34h[?25h[?25l[1m[35m ed integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;55H[K[19;21H[34h[?25h[?25l[1m[35m d integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;54H[K[19;21H[34h[?25h[?25l[1m[35m  integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;53H[K[19;21H[34h[?25h[?25l[1m[35m integral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;52H[K[19;21H[34h[?25h[?25l[1m[35m ntegral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;51H[K[19;21H[34h[?25h[?25l[1m[35m tegral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;50H[K[19;21H[34h[?25h[?25l[1m[35m egral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;49H[K[19;21H[34h[?25h[?25l[1m[35m gral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;48H[K[19;21H[34h[?25h[?25l[1m[35m ral argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;47H[K[19;21H[34h[?25h[?25l[1m[35m al argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;46H[K[19;21H[34h[?25h[?25l[1m[35m l argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;45H[K[19;21H[34h[?25h[?25l[1m[35m  argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;44H[K[19;21H[34h[?25h[?25l[1m[35m argument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;43H[K[19;21H[34h[?25h[?25l[1m[35m rgument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;42H[K[19;21H[34h[?25h[?25l[1m[35m gument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;41H[K[19;21H[34h[?25h[?25l[1m[35m agument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[19;22H[34h[?25h[?25l[1m[35margument[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[19;23H[34h[?25h[?25l[30;80H4[19;24H[34h[?25h[?25l[30;80H5[19;25H[34h[?25h[?25l[30;80H6[19;26H[34h[?25h[?25l[30;80H7[19;27H[34h[?25h[?25l[30;80H8[19;28H[34h[?25h[?25l[30;80H9[19;29H[34h[?25h[?25l[1m[35mt [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H30[19;30H[34h[?25h[?25l[1m[35m m[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[19;31H[34h[?25h[?25l[1m[35mmu[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[19;32H[34h[?25h[?25l[1m[35mus[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[19;33H[34h[?25h[?25l[1m[35mst[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[19;34H[34h[?25h[?25l[1m[35mt [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[19;35H[34h[?25h[?25l[1m[35m b[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[19;36H[34h[?25h[?25l[1m[35mbe[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[19;37H[34h[?25h[?25l[1m[35me [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[19;38H[34h[?25h[?25l[1m[35m a[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[19;39H[34h[?25h[?25l[1m[35ma [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H40[19;40H[34h[?25h[?25l[1m[35m P[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[19;41H[34h[?25h[?25l[1m[35mPI[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[19;42H[34h[?25h[?25l[1m[35mID[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[19;43H[34h[?25h[?25l[1m[35mD [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[19;44H[34h[?25h[?25l[1m[35m o[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[19;45H[34h[?25h[?25l[1m[35mor[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H6[19;46H[34h[?25h[?25l[1m[35mr [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H7[19;47H[34h[?25h[?25l[1m[35m %[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H8[19;48H[34h[?25h[?25l[1m[35m%j[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[19;49H[34h[?25h[?25l[1m[31m%jo\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;79H50[19;50H[34h[?25h[?25l[1m[31mo[0m[1m[35mb[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H1[19;51H[34h[?25h[?25l[1m[35mbi[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H2[19;52H[34h[?25h[?25l[1m[35mid[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H3[19;53H[34h[?25h[?25l[1m[35md [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H4[19;54H[34h[?25h[?25l[1m[35m a[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H5[19;55H[34h[?25h[?25l[1m[35m [0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;68H[K[30;80H4[19;54H[34h[?25h[?25l[1m[35md[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;67H[K[30;80H3[19;53H[34h[?25h[?25l[30;80H2[19;52H[34h[?25h[?25l[30;80H1[19;51H[34h[?25h[?25l[30;80H0[19;50H[34h[?25h[?25l[30;79H49[19;49H[34h[?25h[?25l[30;80H8[19;48H[34h[?25h[?25l[1m[31m%%[0m[1m[35mjobid[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;80H9[19;49H[34h[?25h[?25l[30;77H7,16[20;16H[34h[?25h[?25l[18;23H[46m{[21;5H}[0m[30;77H8,6 [21;6H[34h[?25h[?25l[18;23H{[21;5H}[30;77H9,1[22;1H[34h[?25h[?25l[30;76H20,49[23;49H[34h[?25h[?25l[30;77H1,30[24;30H[34h[?25h[?25l[30;77H2,18[25;18H[34h[?25h[?25l[30;77H3,36[26;36H[34h[?25h[?25l[30;77H4,14[27;14H[34h[?25h[?25l[30;77H5,36[28;36H[34h[?25h[?25l[27;12H[46m{[29;5H}[0m[30;77H6,6 [29;6H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H327,1[9C46%[26;12H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Check if job exists[0m[30;75H[K[30;75H328,27[8C46%[29;27H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (job == [1m[35mNULL[0m) {[30;75H[K[30;75H329,23[8C46%[29;23H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mif[0m (isjob) {[30;75H[K[30;75H330,21[8C47%[29;21H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H331,49[8C47%[29;19H[46m([28C)[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;8H } [1m[33melse[0m {[30;75H[K[30;75H332,17[8C47%[28;19H([28C)[29;17H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[30;75H[K[30;75H333,49[8C47%[29;49H[46m[[1C][34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;8H }[30;75H[K[30;75H334,10[8C47%[27;16H[46m{[0m[28;49H[[1C][29;9H[46m}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[29;8H [1m[33mreturn[0m;[30;75H[K[30;75H335,16[8C47%[26;16H{[28;9H}[29;16H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H336,6[9C48%[22;22H[46m{[29;5H}[34h[?25h[?25l[1;29r[0m[29;1H
[1;30r[30;75H[K[30;75H337,1[9C48%[21;22H{[28;5H}
[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Check for strange condition[0m[30;75H[K[30;75H338,35[8C48%[29;35H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (job->state == FG) {[30;75H[K[30;75H339,28[8C48%[29;28H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m cannot be used on a foreground process![0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[30;75H[K[30;75H340,49[8C48%[29;49H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[33mreturn[0m;[30;75H[K[30;75H341,16[8C48%[29;16H[34h[?25h[30;1H[K[29;15H[?25l[30;75H341,15[8C48%[29;15H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 668L, 17606C written[46C341,15[8C48%[30;75H[K[30;75H341,15[8C48%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;27H[46m{[0m[29;4H [46m}[0m[30;1H[K[30;75H342,5[9C48%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[25;27H{[28;5H}[30;75H[K[30;75H343,0-1[7C49%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[36m// Finish up[0m[30;75H[K[30;75H344,15[8C49%[29;15H[34h[?25h[?25l[30;77H3,0-1[28;1H[34h[?25h[?25l[24;27H[46m{[27;5H}[0m[30;77H2,5  [27;5H[34h[?25h[?25l[24;27H{[27;5H}[30;77H1,15[26;15H[34h[?25h[?25l[25;15H[46m([55C)[0m[30;77H0[25;15H[34h[?25h[?25l([55C)[30;76H39[24;15H[34h[?25h[?25l[30;77H8[23;15H[34h[?25h[?25l[30;77H7,0-1[22;1H[34h[?25h[?25l[14;22H[46m{[21;5H}[0m[30;77H6,5  [21;5H[34h[?25h[?25l[14;22H{[21;5H}[30;77H5,15[20;15H[34h[?25h[?25l[17;16H[46m{[19;9H}[0m[30;77H4,9 [19;9H[34h[?25h[?25l[17;16H{[19;9H}[30;77H3,15[18;15H[34h[?25h[?25l[30;77H2[17;15H[34h[?25h[?25l[30;77H1[16;15H[34h[?25h[?25l[30;77H0[15;15H[34h[?25h[?25l[30;76H29[14;15H[34h[?25h[?25l[30;77H8[13;15H[34h[?25h[?25l[30;77H7,0-1[12;1H[34h[?25h[?25l[9;12H[46m{[11;5H}[0m[30;77H6,5  [11;5H[34h[?25h[?25l[9;12H{[11;5H}[30;77H5,15[10;15H[34h[?25h[?25l[30;77H4,13[9;13H[34h[?25h[?25l[30;77H3,15[8;15H[34h[?25h[?25l[30;77H2[7;15H[34h[?25h[?25l[30;77H3[8;15H[34h[?25h[?25l[30;77H4,13[9;13H[34h[?25h[?25l[30;77H5,15[10;15H[34h[?25h[?25l[9;12H[46m{[11;5H}[0m[30;77H6,5 [11;5H[34h[?25h[?25l[9;12H{[11;5H}[30;77H7,0-1[12;1H[34h[?25h[?25l[30;77H8,15 [13;15H[34h[?25h[?25l[30;77H9[14;15H[34h[?25h[?25l[30;76H30[15;15H[34h[?25h[?25l[30;77H1[16;15H[34h[?25h[?25l[30;77H2[17;15H[34h[?25h[?25l[30;77H3[18;15H[34h[?25h[?25l[17;16H[46m{[19;9H}[0m[30;77H4,9 [19;9H[34h[?25h[?25l[17;16H{[19;9H}[30;77H5,15[20;15H[34h[?25h[?25l[14;22H[46m{[21;5H}[0m[30;77H6,5 [21;5H[34h[?25h[?25l[14;22H{[21;5H}[30;77H7,0-1[22;1H[34h[?25h[?25l[30;77H8,15 [23;15H[34h[?25h[?25l[30;77H9[24;15H[34h[?25h[?25l[25;15H[46m([55C)[0m[30;76H40[25;15H[34h[?25h[?25l([55C)[30;77H1[26;15H[34h[?25h[?25l[24;27H[46m{[27;5H}[0m[30;77H2,5 [27;5H[34h[?25h[?25l[24;27H{[27;5H}[30;77H3,0-1[28;1H[34h[?25h[?25l[30;77H4,15 [29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[32mint[0m needcont = (job->state == ST);  [1m[36m// Check if a SIGCONT is needed[0m[30;75H[K[30;75H345,15[8C49%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H job->state = bg ? BG : FG;[9C [1m[36m// Change state first to avoid race condition[0m[30;75H[K[30;75H346,15[8C49%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m (needcont) {[30;75H[K[30;75H347,15[8C49%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H killpg[46m([0mjob->pid, [1m[35mSIGCONT[0m[46m)[0m;      [1m[36m// Send SIGCONT to process group if needed[0m[30;75H[K[30;75H348,15[8C49%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[27;19H[46m{[0m[28;15H([17C)
    [46m}[0m[30;75H[K[30;75H349,5[9C50%[29;5H[34h[?25h[?25l[1;29r[29;1H
[1;30r[26;19H{[28;5H}
    [1m[33mif[0m (!bg) waitfg(job->pid);[9C [1m[36m// Wait if foreground process[0m[30;75H[K[30;75H350,15[8C50%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H351,11[8C50%[29;11H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H352,1[9C50%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H353,0-1[7C50%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H354,3[9C50%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * waitfg - Block until process pid is no longer the foreground process[0m[30;75H[K[30;75H355,15[8C51%[29;15H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m */[0m[30;75H[K[30;75H356,3[9C51%[29;3H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[32mvoid[0m waitfg(pid_t pid) {[30;75H[K[30;75H357,15[8C51%[29;15H[34h[?25h[?25l[30;77H6,3 [28;3H[34h[?25h[?25l[30;77H5,15[27;15H[34h[?25h[?25l[30;77H4,3 [26;3H[34h[?25h[?25l[30;77H3,0-1[25;1H[34h[?25h[?25l[30;77H2,1  [24;1H[34h[?25h[?25l[30;77H1,11[23;11H[34h[?25h[?25l[30;77H0,15[22;15H[34h[?25h[?25l[30;80H4[22;14H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H350,14[8C51%[22;14H[34h[?25h[?25l {waitfg(job->pid);[8C  [1m[36m// Wait if foreground process[0m[22;14H[46m{

}[0m[30;80H5[22;15H[34h[?25h[?25l[23;29r[23;1H[L[1;30r[22;15H[K[23;8H waitfg(job->pid);[9C [1m[36m// Wait if foreground process[0m
[46m [0m[30;75H[K[30;75H351,9[9C51%[22;14H{

 
}[23;9H[34h[?25h[?25l[30;79H65[23;65H[34h[?25h[?25l[24;29r[24;1H[L[1;30r[30;75H[K[30;75H352,9[9C51%[24;9H[34h[?25h[?25l    }[22;14H[46m{[24;5H}[0m[30;79H6[24;6H[34h[?25h[?25l[22;14H{[24;5H}[30;79H7[24;7H[34h[?25h[?25l e[30;79H8[24;8H[34h[?25h[?25les[30;79H9[24;9H[34h[?25h[?25lsl[30;79H10[24;10H[34h[?25h[?25lle[30;80H1[24;11H[34h[?25h[?25l[30;80H2[24;12H[34h[?25h[?25l[30;80H1[24;11H[34h[?25h[?25l[24;10H[K[30;80H0[24;10H[34h[?25h[?25l[24;9H[K[30;79H9 [24;9H[34h[?25h[?25l[24;8H[K[30;79H8[24;8H[34h[?25h[?25lel[30;79H9[24;9H[34h[?25h[?25lls[30;79H10[24;10H[34h[?25h[?25l[1m[33melse[0m[30;80H1[24;11H[34h[?25h[?25l[30;80H2[24;12H[34h[?25h[?25l {[46m{

}[0m[30;80H3[24;13H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[26;1H[46m [0m[30;75H[K[30;75H353,9[9C51%[24;12H{

 
}[25;9H[34h[?25h[?25l    }[24;12H[46m{
[0m    [46m}[0m[30;79H6[25;6H[34h[?25h[?25l[22;14H[46m{[24;5H}[0m[6C{
    }[30;77H2[24;6H[34h[?25h[?25l[22;14H{[24;5H}[6C[46m{
[0m    [46m}[0m[30;77H3[25;6H[34h[?25h[?25l[22;14H[46m{[24;5H}[0m[6C{
    }[30;77H2[24;6H[34h[?25h[?25l[22;14H{[24;5H}[6C[46m{
[0m    [46m}[0m[30;79H13[24;13H[34h[?25h[?25l[25;29r[25;1H[L[1;30r[25;5H[46m [0m
    }[30;75H[K[30;75H353,9[9C51%[24;12H{
        [34h[?25h[30;1H[K[25;1H[?25l[30;75H353,0-1[7C51%[25;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;4H exit([1m[35m0[0m); [1m[36m/* control never reaches here */[0m
}

[1m[36m/* 
 * eval - Evaluate the command line that the user has just typed in
 * 
 * If the user has requested a built-in command (quit, jobs, bg or fg)
 * then execute it immediately. Otherwise, fork a child process and
 * run the job in the context of the child. If the job is running in
 * the foreground, wait for it to terminate and then return.  Note:
 * each child process must have a unique process group ID so that our
 * background children don't receive SIGINT (SIGTSTP) from the kernel
 * when we type ctrl-c (ctrl-z) at the keyboard.  
*/[0m
[1m[32mvoid[0m eval([1m[32mchar[0m *cmdline) {
    pid_t pid;
    [1m[32mchar[0m *argv[MAXARGS];
    [1m[32mint[0m bg = parseline(cmdline, argv);
    [1m[32mstruct[0m job_t *job;
    sigset_t mask;[22;4H [1m[36m// Check for built in command[0m
    [1m[33mif[0m (builtin_cmd(argv)) [1m[33mreturn[0m;[25;4H [1m[36m// Fork and Exec in child process[0m
    sigemptyset(&mask);
    sigaddset(&mask, [1m[35mSIGCHLD[0m);
    sigprocmask(SIG_BLOCK, &mask, [1m[35mNULL[0m);  [1m[36m// Block SIGCHLD for now[0m
    [1m[33mif[0m ((pid = fork()) == [1m[35m0[0m) {[30;75H167,1[9C23%[15;1H[34h[?25h[?25l[30;77H8[16;1H[34h[?25h[?25l[30;77H9[17;1H[34h[?25h[?25l[30;76H70[18;1H[34h[?25h[?25l[30;77H1[19;1H[34h[?25h[?25l[30;77H2[20;1H[34h[?25h[?25l[30;77H3[21;1H[34h[?25h[?25l[30;77H4[22;1H[34h[?25h[?25l[30;77H5[23;1H[34h[?25h[?25l[30;77H6,0-1[24;1H[34h[?25h[?25l[30;77H7,1  [25;1H[34h[?25h[?25l[30;77H8[26;1H[34h[?25h[?25l[30;77H9[27;1H[34h[?25h[?25l[30;76H80[28;1H[34h[?25h[?25l[30;77H1[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// In child process:[0m[30;75H[K[30;75H182,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H setpgid(pid, pid);[20C [1m[36m// Make process its own group[0m[30;75H[K[30;75H183,1[9C23%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H sigprocmask(SIG_UNBLOCK, &mask, [1m[35mNULL[0m); [1m[36m// Unblock child's SIGCHLD[0m[30;75H[K[30;75H184,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H execvp(argv[[1m[35m0[0m], argv);[16C [1m[36m// Exec, replacing this process[0m[30;75H[K[30;75H185,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H exit(NOTFOUND);[23C [1m[36m// If failed, exit with NOTFOUND[0m[30;75H[K[30;75H186,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H187,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Shell waits or prints background job info[0m[30;75H[K[30;75H188,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H addjob(jobs, pid, bg ? BG : FG, cmdline); [1m[36m// Add the job to the job list[0m[30;75H[K[30;75H189,1[9C24%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H sigprocmask(SIG_UNBLOCK, &mask, [1m[35mNULL[0m);    [1m[36m// Unblock shell's SIGCHLD[0m[30;75H[K[30;75H190,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H191,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H192,0-1[7C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mif[0m(bg) {[30;75H[K[30;75H193,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Print background job info[0m[30;75H[K[30;75H194,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H job = getjobpid(jobs, pid);[30;75H[K[30;75H195,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, cmdline);[30;75H[K[30;75H196,1[9C25%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H } [1m[33melse[0m {[30;75H[K[30;75H197,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H [1m[36m// Wait for the foreground process to finish[0m[30;75H[K[30;75H198,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;8H waitfg(pid);[30;75H[K[30;75H199,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H }[30;75H[K[30;75H200,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;4H [1m[33mreturn[0m;[30;75H[K[30;75H201,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H202,1[9C26%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[30;75H[K[30;75H203,0-1[7C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m/* [0m[30;75H[K[30;75H204,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * parseline - Parse the command line and build the argv array.[0m[30;75H[K[30;75H205,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * [0m[30;75H[K[30;75H206,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * Characters enclosed in single quotes are treated as a single[0m[30;75H[K[30;75H207,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * argument.  Return true if the user has requested a BG job, false if[0m[30;75H[K[30;75H208,1[9C27%[29;1H[34h[?25h[?25l[1;29r[29;1H
[1;30r[29;1H[1m[36m * the user has requested a FG job.  [0m[30;75H[K[30;75H209,1[9C27%[29;1H[34h[?25h[?25l[30;77H8[28;1H[34h[?25h[?25l[30;77H7[27;1H[34h[?25h[?25l[30;77H6[26;1H[34h[?25h[?25l[30;77H5[25;1H[34h[?25h[?25l[30;77H4[24;1H[34h[?25h[?25l[30;77H3,0-1[23;1H[34h[?25h[?25l[30;77H2,1  [22;1H[34h[?25h[?25l[30;77H1[21;1H[34h[?25h[?25l[30;77H0[20;1H[34h[?25h[?25l[30;75H199[19;1H[34h[?25h[?25l[30;77H8[18;1H[34h[?25h[?25l[30;77H7[17;1H[34h[?25h[?25l[30;77H6[16;1H[34h[?25h[?25l[30;77H5[15;1H[34h[?25h[?25l[30;77H6[16;1H[34h[?25h[?25l[30;79H2[16;2H[34h[?25h[?25l[30;79H3[16;3H[34h[?25h[?25l[30;79H4[16;4H[34h[?25h[?25l[30;79H5[16;5H[34h[?25h[?25l[30;79H6[16;6H[34h[?25h[?25l[30;79H7[16;7H[34h[?25h[?25l[30;79H8[16;8H[34h[?25h[?25l[30;79H9[16;9H[34h[?25h[?25l[30;79H10[16;10H[34h[?25h[?25l[30;80H1[16;11H[34h[?25h[?25l[30;80H2[16;12H[34h[?25h[?25l[30;80H3[16;13H[34h[?25h[?25l[30;80H4[16;14H[34h[?25h[?25lf[46m([42C)[0m[30;80H5[16;15H[34h[?25h[?25l([42C)[30;80H6[16;16H[34h[?25h[?25l[1C[1m[35m[46m[[2C][0m[30;80H7[16;17H[34h[?25h[?25l[1m[35m[[2C][0m[30;80H8[16;18H[34h[?25h[?25l[30;80H9[16;19H[34h[?25h[?25l[1m[35m[46m[[2C][0m[30;79H20[16;20H[34h[?25h[?25l[1m[35m[[2C][0m[30;80H1[16;21H[34h[?25h[?25l[1C[1m[35m[46m([2C)[0m[30;80H2[16;22H[34h[?25h[?25l[1m[35m([2C)[0m[30;80H3[16;23H[34h[?25h[?25l[30;80H4[16;24H[34h[?25h[?25l[1m[35m[46m([2C)[0m[30;80H5[16;25H[34h[?25h[?25l[1m[35m([2C)[0m[30;80H6[16;26H[34h[?25h[?25l[30;80H7[16;27H[34h[?25h[?25l[30;80H8[16;28H[34h[?25h[?25l[30;80H9[16;29H[34h[?25h[?25l[30;79H30[16;30H[34h[?25h[?25l[30;80H1[16;31H[34h[?25h[?25l[30;80H2[16;32H[34h[?25h[?25l[30;80H3[16;33H[34h[?25h[?25l[30;80H4[16;34H[34h[?25h[?25l[30;80H5[16;35H[34h[?25h[?25l[30;80H6[16;36H[34h[?25h[?25l[30;80H7[16;37H[34h[?25h[?25l[30;80H8[16;38H[34h[?25h[?25l[30;80H9[16;39H[34h[?25h[?25l[30;79H40[16;40H[34h[?25h[?25l[30;80H1[16;41H[34h[?25h[?25l[30;80H2[16;42H[34h[?25h[?25l[30;80H3[16;43H[34h[?25h[?25l[30;80H4[16;44H[34h[?25h[?25l[30;80H5[16;45H[34h[?25h[?25l[30;80H6[16;46H[34h[?25h[?25l[30;80H7[16;47H[34h[?25h[?25l[30;80H8[16;48H[34h[?25h[?25l[30;80H9[16;49H[34h[?25h[?25l[30;79H50[16;50H[34h[?25h[?25l[30;80H1[16;51H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H196,51[8C27%[16;51H[34h[?25h[?25l jcmdline);[30;80H2[16;52H[34h[?25h[?25ljocmdline);[30;80H3[16;53H[34h[?25h[?25lobcmdline);[30;80H4[16;54H[34h[?25h[?25lb-cmdline);[30;80H5[16;55H[34h[?25h[?25l->cmdline);[30;80H6[16;56H[34h[?25h[30;1H[K[16;55H[?25l[30;75H196,55[8C27%[16;55H[34h[?25h[?25l[7m        printf([0m[1m[7m[35m"[[0m[1m[7m[31m%d[0m[1m[7m[35m] ([0m[1m[7m[31m%d[0m[1m[7m[35m) [0m[1m[7m[31m%s[0m[1m[7m[35m"[0m[7m,job->jid, job->pid, job-[0m>[7mcmdline); [0m[30;1H[1m-- VISUAL LINE --[0m[30;75H[K[30;75H196,55[8C27%[16;55H[34h[?25h[?25l        printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, job->cmdline);[16;65H[K[30;1H[K[30;75H196,1[9C27%[16;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;4H [1m[33mif[0m (job->state == FG) {[2;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m cannot be used on a foreground process![0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[3;8H [1m[33mreturn[0m;
    }[6;4H [1m[36m// Finish up[0m
    [1m[32mint[0m needcont = (job->state == ST);  [1m[36m// Check if a SIGCONT is needed[0m
    job->state = bg ? BG : FG;[9C [1m[36m// Change state first to avoid race condition[0m
    [1m[33mif[0m (needcont) {[10;8H killpg(job->pid, [1m[35mSIGCONT[0m);      [1m[36m// Send SIGCONT to process group if needed[0m
    }
    [1m[33mif[0m (!bg) {[13;8H waitfg(job->pid);[9C [1m[36m// Wait if foreground process[0m
    } [1m[33melse[0m {[16;4H }
    [1m[33mreturn[0m;
}

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m
[1m[32mvoid[0m waitfg(pid_t pid) {
    [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);
    [1m[33mwhile[0m (job->state == FG) {[26;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m
    }
    [1m[33mreturn[0m;
}[30;75H353,0-1[7C52%[15;1H[34h[?25h[?25l[16;29r[16;1H[L[1;30r[16;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, job->cmdline);[30;75H[K[30;75H354,9[9C52%[16;9H[34h[?25h[?25l[30;77H3,0-1[15;1H[34h[?25h[?25l[30;1H[1m-- INSERT --[0m[30;75H[K[30;75H353,1[9C52%[15;1H[34h[?25h[?25l[15;29r[29;1H
[1;30r[29;1H}[30;75H[K[30;75H353,1[9C52%[15;1H[34h[?25h[?25l[30;77H2[14;1H[34h[?25h[?25l[11C[46m{[16;5H}[0m[30;80H3[14;13H[34h[?25h[?25l{[16;5H}[30;77H1,65[13;65H[34h[?25h[?25l[12;14H[46m{[14;5H}[0m[30;77H0,1[12;15H[34h[?25h[?25l[46m{[0mi{[14;5H}[30;80H6[12;16H[34h[?25h[?25l[12;15H[K[12;14H[46m{[14;5H}[0m[30;80H5[12;15H[34h[?25h[?25l{[13;15H[46m([8C)[0m
    }[30;77H1[13;15H[34h[?25h[?25l([8C)[30;79H6[13;65H[34h[?25h[?25l[30;80H4[13;64H[34h[?25h[?25l[30;80H3[13;63H[34h[?25h[?25l[30;80H2[13;62H[34h[?25h[?25l[30;80H1[13;61H[34h[?25h[?25l[30;80H0[13;60H[34h[?25h[?25l[30;79H59[13;59H[34h[?25h[?25l[30;80H8[13;58H[34h[?25h[?25l[30;80H7[13;57H[34h[?25h[?25l[30;80H6[13;56H[34h[?25h[?25l[30;80H5[13;55H[34h[?25h[?25l[30;80H4[13;54H[34h[?25h[?25l[30;80H3[13;53H[34h[?25h[?25l[30;80H2[13;52H[34h[?25h[?25l[30;80H1[13;51H[34h[?25h[?25l[30;80H0[13;50H[34h[?25h[?25l[30;79H49[13;49H[34h[?25h[?25l[30;80H8[13;48H[34h[?25h[?25l[30;80H7[13;47H[34h[?25h[?25l[30;80H6[13;46H[34h[?25h[?25l[30;80H5[13;45H[34h[?25h[?25l[30;80H4[13;44H[34h[?25h[?25l[30;80H3[13;43H[34h[?25h[?25l[30;80H2[13;42H[34h[?25h[?25l[30;80H1[13;41H[34h[?25h[?25l[30;80H0[13;40H[34h[?25h[?25l[30;79H39[13;39H[34h[?25h[?25l[30;80H8[13;38H[34h[?25h[?25l[30;80H7[13;37H[34h[?25h[?25l[30;80H6[13;36H[34h[?25h[?25l[30;80H7[13;37H[34h[?25h[?25l[30;80H6[13;36H[34h[?25h[?25l  [1m[36m// Wait if foreground process[0m[30;80H7[13;37H[34h[?25h[?25l     [1m[36m// Wait if foreground process[0m[30;79H41[13;41H[34h[?25h[?25l[14;12H[46m{[16;5H}[0m[30;77H2,13[14;13H[34h[?25h[?25l{[16;5H}[30;77H3,41[15;41H[34h[?25h[?25l[30;79H65[15;65H[34h[?25h[?25l[30;80H9[15;69H[34h[?25h[?25l[30;80H8[15;68H[34h[?25h[?25l[30;80H7[15;67H[34h[?25h[?25l[30;80H6[15;66H[34h[?25h[?25l /[30;80H7[15;67H[34h[?25h[?25l[1m[36m//[0m[30;80H8[15;68H[34h[?25h[?25l[1m[36m [0m[30;80H9[15;69H[34h[?25h[?25l[1m[36m P[0m[30;79H70[15;70H[34h[?25h[?25l[1m[36mPr[0m[30;80H1[15;71H[34h[?25h[?25l[1m[36mri[0m[30;80H2[15;72H[34h[?25h[?25l[1m[36min[0m[30;80H3[15;73H[34h[?25h[?25l[1m[36mnt[0m[30;80H4[15;74H[34h[?25h[?25l[1m[36m [0m[30;80H5[15;75H[34h[?25h[?25l[1m[36m b[0m[30;80H6[15;76H[34h[?25h[?25l[1m[36mbg[0m[30;80H7[15;77H[34h[?25h[?25l[1m[36m [0m[30;80H8[15;78H[34h[?25h[?25l[1m[36m m[0m[30;80H9[15;79H[34h[?25h[?25l[1m[36mme[0m[30;79H80[15;80H[34h[?25h[?25l[1m[36mes[0m[30;80H1[15;81H[34h[?25h[?25l[1m[36mss[0m[30;80H2[15;82H[34h[?25h[?25l[1m[36msa[0m[30;80H3[15;83H[34h[?25h[?25l[1m[36mag[0m[30;80H4[15;84H[34h[?25h[?25l[1m[36mge[0m[30;80H5[15;85H[34h[?25h[30;1H[K[15;84H[?25l[30;75H353,84[8C52%[15;84H[34h[?25h[?25l[30;75H[K[30;1H:[34h[?25hw[?25l[34h[?25h[?25l"tsh.c" 672L, 17730C written[46C353,84[8C52%[30;75H[K[30;75H353,84[8C52%[15;84H[34h[?25h[23m[24m[0m[H[J[?25l[1;8H job = [30m[43mgetjobjid[0m(jobs, id);
    } [1m[33melse[0m {[3;8H job = getjobpid(jobs, id);
    }[6;4H [1m[36m// Check if job exists[0m
    [1m[33mif[0m (job == [1m[35mNULL[0m) {[8;8H [1m[33mif[0m (isjob) {[9;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such job[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[10;8H } [1m[33melse[0m {[11;12H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m: No such process[0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m1[0m]);[12;8H }[13;8H [1m[33mreturn[0m;
    }[16;4H [1m[36m// Check for strange condition[0m
    [1m[33mif[0m (job->state == FG) {[18;8H printf([1m[35m"[0m[1m[31m%s[0m[1m[35m cannot be used on a foreground process![0m[1m[31m\n[0m[1m[35m"[0m, argv[[1m[35m0[0m]);[19;8H [1m[33mreturn[0m;
    }[22;4H [1m[36m// Finish up[0m
    [1m[32mint[0m needcont = (job->state == ST);  [1m[36m// Check if a SIGCONT is needed[0m
    job->state = bg ? BG : FG;[9C [1m[36m// Change state first to avoid race condition[0m
    [1m[33mif[0m (needcont) {[26;8H killpg(job->pid, [1m[35mSIGCONT[0m);      [1m[36m// Send SIGCONT to process group if needed[0m
    }
    [1m[33mif[0m (!bg) {[29;8H waitfg(job->pid);[14C [1m[36m// Wait if foreground process[0m
    } [1m[33melse[0m {[31;8H printf([1m[35m"[[0m[1m[31m%d[0m[1m[35m] ([0m[1m[31m%d[0m[1m[35m) [0m[1m[31m%s[0m[1m[35m"[0m,job->jid, job->pid, job->cmdline); [1m[36m// Print bg message[0m
    }
    [1m[33mreturn[0m;
}

[1m[36m/* 
 * waitfg - Block until process pid is no longer the foreground process
 */[0m
[1m[32mvoid[0m waitfg(pid_t pid) {
    [1m[32mstruct[0m job_t *job = getjobpid(jobs, pid);
    [1m[33mwhile[0m (job->state == FG) {[42;8H sleep([1m[35m1[0m); [1m[36m// Note signals stop this immediately. No performance problem[0m
    }
    [1m[33mreturn[0m;
}

[1m[36m/*****************
 * Signal handlers
 *****************/

/* 
 * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever
 *     a child job terminates (becomes a zombie), or stops because it
 *     received a SIGSTOP or SIGTSTP signal. The handler reaps all
 *     available zombie children, but doesn't wait for any other
 *     currently running children to terminate.  
 */[0m
[1m[32mvoid[0m sigchld_handler([1m[32mint[0m sig) {
    pid_t pid;
    [1m[32mint[0m status;
    [1m[32mstruct[0m job_t *job;[63;75H353,84[8C52%[31;84H[34h[?25h[?25l[30;12H[46m{[32;5H}[0m[63;77H4,5 [32;5H[34h[?25h[?25l[30;12H{[32;5H}[63;77H3,84[31;84H[34h[?25h[?25l[30;12H[46m{[32;5H}[0m[63;77H2,12[30;12H[34h[?25h[?25l{[32;5H}[63;77H1,69[29;69H[34h[?25h[?25l[28;14H[46m{[30;5H}[0m[63;77H0,14[28;14H[34h[?25h[?25l[25;19H[46m{[27;5H}[0m[28;14H{[30;5H}[63;76H49,5 [27;5H[34h[?25h[?25l[25;19H{[27;5H}[63;77H8,82[26;82H[34h[?25h[?25l[25;19H[46m{[27;5H}[0m[63;77H7,19[25;19H[34h[?25h[?25l{[27;5H}[63;77H6,84[24;84H[34h[?25h[?25l[63;77H5,71[23;71H[34h[?25h[?25l[63;75H[K[63;1H:[34h[?25hw[?25l[34h[?25hq[?25l[34h[?25h[?25l"tsh.c" 672L, 17730C written
[?1l>[34h[?25h[?1049l_gpergros@fourier:~/cs351/labs/3_shlab\]0;~/cs351/labs/3_shlab
[0;33m~/cs351/labs/3_shlab [32m$ [37mvim tsh.c[K